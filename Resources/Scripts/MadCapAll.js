var isSkinPreview;window.MadCap={},MadCap.CreateNamespace=function(n){for(var r=n.split("."),t=MadCap,i=0,u=r.length;i<u;i++)if("MadCap"!=(n=r[i])){if(void 0!==t[n]){t=t[n];continue}t[n]={},t=t[n]}return t},Object.create||(Object.create=function(n){function t(){}if(1<arguments.length)throw new Error("Object.create implementation only accepts the first parameter.");return t.prototype=n,new t}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(n){var i=this.length>>>0,t=Number(arguments[1])||0;for((t=t<0?Math.ceil(t):Math.floor(t))<0&&(t+=i);t<i;t++)if(t in this&&this[t]===n)return t;return-1}),MadCap.Extend=function(n,t){t.prototype=Object.create(n.prototype),(t.prototype.constructor=t).prototype.base=n.prototype},MadCap.Exception=function(n,t){this.Number=n,this.Message=t},MadCap.IsIOS=function(){return MadCap.String.Contains(navigator.userAgent,"iphone")||MadCap.String.Contains(navigator.userAgent,"ipad")},MadCap.IsIBooks=function(){return MadCap.HasEpubReadingSystem()&&"iBooks"==navigator.epubReadingSystem.name},MadCap.HasEpubReadingSystem=function(){return"epubReadingSystem"in navigator},MadCap.IsSafari=function(){return MadCap.String.Contains(navigator.userAgent,"safari")&&!MadCap.String.Contains(navigator.userAgent,"chrome")},function(){var n=MadCap.CreateNamespace("String");n.IsNullOrEmpty=function(n){return null==n||0==n.length},n.StartsWith=function(n,t,i){var u;return!(null==t||n.length<t.length)&&(u=n,t=t,i||(u=n.toLowerCase(),t=t.toLowerCase()),u.substring(0,t.length)==t)},n.EndsWith=function(n,t,i){return!(null==t||n.length<t.length)&&(n=n,t=t,i||(n=n.toLowerCase(),t=t.toLowerCase()),n.substring(n.length-t.length)==t)},n.Contains=function(n,t,i){var r,e,u,f=i?n:n.toLowerCase();if($.isArray(t)){for(r=0,e=t.length;r<e;r++)if(u=i?t[r]:t[r].toLowerCase(),-1!=f.indexOf(u))return!0;return!1}return u=i?t:t.toLowerCase(),-1!=f.indexOf(u)},n.Trim=function(t){return n.TrimRight(n.TrimLeft(t))},n.TrimLeft=function(n){for(var t=0,i=n.length,t=0;t<i&&" "==n.charAt(t);t++);return n.substring(t,n.length)},n.TrimRight=function(n){for(var t=0,t=n.length-1;0<=t&&" "==n.charAt(t);t--);return n.substring(0,t+1)},n.ToBool=function(n,t){if(null!=n){if("true"!=(n=n.toLowerCase())&&"false"!=n&&"1"!=n&&"0"!=n&&"yes"!=n&&"no"!=n)throw new MadCap.Exception(-1,"The string can not be converted to a boolean value.");t="true"==n||"1"==n||"yes"==n}return t},n.ToInt=function(n,t){return t=null!=n?parseInt(n):t},n.ToDashed=function(n){return n.replace(/([A-Z])/g,function(n){return"-"+n.toLowerCase()})},n.LocaleCompare=function(n,t,i){if(i){if("undefined"!=typeof Intl&&void 0!==Intl.Collator){var r=new Intl.Collator(i);if(r)return r.compare(n,t)}if(String.prototype.localeCompare)return n.localeCompare(t,i)}return n<t?-1:t<n?1:0},n.Compare=function(n,t){for(var f,e,r=n.length,u=t.length,i=0;i<r&&i<u;i++){if((f=n.charCodeAt(i))<(e=t.charCodeAt(i)))return-1;if(e<f)return 1}return r<u?-1:u<r?1:0},n.IsPunctuation=function(n){n=n.charCodeAt(0);return 33<=n&&n<=35||37<=n&&n<=42||44<=n&&n<=47||58==n||59==n||63==n||64==n||91<=n&&n<=93||95==n||123==n||125==n||161==n||171==n||173==n||183==n||187==n||191==n||894==n||903==n||1370<=n&&n<=1375||1417==n||1418==n||1470==n||1472==n||1475==n||1478==n||1523==n||1524==n||1548==n||1549==n||1563==n||1566==n||1567==n||1642<=n&&n<=1645||1748==n||1792<=n&&n<=1805||2039<=n&&n<=2041||2404==n||2405==n||2416==n||3572==n||3663<=n&&n<=3675||3844<=n&&n<=3858||3898<=n&&n<=3901||3973==n||4048==n||4049==n||4170<=n&&n<=4175||4347==n||4961<=n&&n<=4968||5741==n||5742==n||5787==n||5788==n||5867<=n&&n<=5869||5941==n||5942==n||6100<=n&&n<=6102||6104<=n&&n<=6106||6144<=n&&n<=6154||6468==n||6469==n||6622==n||6623==n||6686==n||6687==n||7002<=n&&n<=7008||8208<=n&&n<=8231||8240<=n&&n<=8259||8261<=n&&n<=8273||8275<=n&&n<=8286||8317==n||8318==n||8333==n||8334==n||9001==n||9002==n||10088<=n&&n<=10101||10181<=n&&n<=10182||10214<=n&&n<=10219||10627<=n&&n<=10648||10712<=n&&n<=10715||10748==n||10749==n||11513<=n&&n<=11516||11518==n||11519==n||11776<=n&&n<=11799||11804==n||11805==n||12289<=n&&n<=12291||12296<=n&&n<=12305||12308<=n&&n<=12319||12336==n||12349==n||12448==n||12539==n||43124<=n&&n<=43127||64830==n||64831==n||65040<=n&&n<=65049||65072<=n&&n<=65106||65108<=n&&n<=65121||65123==n||65128==n||65130==n||65131==n||65281<=n&&n<=65283||65285<=n&&n<=65290||65292<=n&&n<=65295||65306==n||65307==n||65311==n||65312==n||65339<=n&&n<=65341||65343==n||65371==n||65373==n||65375<=n&&n<=65381},n.Split=function(n,t){for(var u=n.length,f=[],r=-1,e=-1,i=0;i<=u;i++)i==u||t(n.charAt(i))?-1<r&&(f.push(n.slice(r,e)),r=-1):(-1==r&&(r=i),e=i+1);return f}}(),function(){MadCap.CreateNamespace("DEBUG");var n=MadCap.DEBUG;n.Log={},n.Log.Create=function(){var t,i,n=document.createElement("div");n.setAttribute("id","DEBUG_Log"),t=document.createElement("div"),$(t).addClass("MCDebugLogHeader"),t.appendChild(document.createTextNode("Log Console")),n.appendChild(t),i=document.createElement("div"),$(i).addClass("MCDebugLogBody"),n.appendChild(i),i=document.createElement("div"),$(i).addClass("MCDebugLogFooter"),n.appendChild(i),document.body.appendChild(n),new MadCap.DragDrop(n,t)},n.Log._LoadTime=new Date,n.Log.AddLine=function(t){var e,o,u,r;parent!=window&&MadCap.Utilities.MessageBus.GetIsCrossFrame()?MadCap.Utilities.MessageBus.PostMessageRequest(parent,"DEBUG-AddLine",[t],null):null!=(r=document.getElementById("DEBUG_Log"))&&(o=(e=new Date)-n.Log._LoadTime,u=document.createElement("p"),$(u).addClass("MCDebugLogEntryTime"),u.appendChild(document.createTextNode(o+"ms "+e.toLocaleTimeString())),o=document.createElement("div"),$(o).addClass("MCDebugLogEntry"),o.appendChild(u),o.appendChild(document.createTextNode(t)),(e=MadCap.Dom.GetElementsByClassName("MCDebugLogBody","div",r)[0]).insertBefore(o,e.firstChild))}}(),function(){MadCap.CreateNamespace("Dom");var n=MadCap.Dom;n.Dataset=function(n,t){return n.getAttribute("data-"+MadCap.String.ToDashed(t))},n.GetElementsByClassName=function(n,t,i){var r,f,u,o,e;for(t=t||"*",r=[],u=0,o=(f=(i=i||document).getElementsByTagName(t)).length;u<o;u++)e=f[u],$(e).hasClass(n)&&(r[r.length]=e);return r},n.GetElementsByAttribute=function(t,i,r,u){var f,o,e,h,s;for(r=r||"*",f=[],e=0,h=(o=(u=u||document).getElementsByTagName(r)).length;e<h;e++)s=o[e],n.GetAttribute(s,t)==i&&(f[f.length]=s);return f},n.GetChildNodeByTagName=function(n,t,i){for(var u=null,f=-1,r=n.firstChild;null!=r;r=r.nextSibling)if(r.nodeName.toLowerCase()==t.toLowerCase()&&++f==i){u=r;break}return u},n.GetAncestorNodeByTagName=function(n,t,i){i=i||document.body;for(var u=null,r=n.parentNode;null!=r&&r!=i;){if(r.nodeName.toLowerCase()==t.toLowerCase()){u=r;break}r=r.parentNode}return u},n.GetAttribute=function(n,t){var r,i=n.getAttribute(t);return i=null==i&&null==(i=n.getAttribute(t.toLowerCase()))&&-1!=(r=t.indexOf(":"))?n.getAttribute(t.substring(r+1,t.length)):i},n.GetAttributeInt=function(t,i,r){t=n.GetAttribute(t,i);return r=null!=t?parseInt(t):r},n.GetAttributeBool=function(t,i,r){var u=r,t=n.GetAttribute(t,i);return u=null!=t?MadCap.String.ToBool(t,r):u},n.GetScrollPosition=function(){var n=0,t=0;return"undefined"!=typeof pageYOffset?(n=window.pageXOffset,t=window.pageYOffset):void 0!==document.documentElement.scrollTop&&0<document.documentElement.scrollTop&&(n=document.documentElement.scrollLeft,t=document.documentElement.scrollTop),{X:n,Y:t}}}(),function(){var t,i,n;MadCap.CreateNamespace("Utilities"),MadCap.Utilities.Dictionary=function(n){this._Map=new Map,this._IgnoreCase=1==n},(t=MadCap.Utilities.Dictionary).prototype.GetLength=function(){return this._Map.size},t.prototype.ForEach=function(n){var t=!0;this._Map.forEach(function(i,r){void 0!==t&&!t||(t=n(r,i))})},t.prototype.GetItem=function(n){return this._IgnoreCase&&(n=n.toLowerCase()),this._Map.has(n)?this._Map.get(n):null},t.prototype.Remove=function(n){this._IgnoreCase&&(n=n.toLowerCase()),this._Map.delete(n)},t.prototype.Add=function(n,t){this._IgnoreCase&&(n=n.toLowerCase()),this._Map.set(n,t)},t.prototype.AddUnique=function(n,t){this._IgnoreCase&&(n=n.toLowerCase()),this.GetItem(n)||this.Add(n,t)},MadCap.Utilities.DateTime=function(n){var t=/\/Date\(([0-9]+)\)\//i.exec(n);this.Date=null!=t?new Date(parseInt(t[1])):new Date(n)},(i=MadCap.Utilities.DateTime).Months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],MadCap.Utilities.TimeSpan=function(n,t){void 0===n&&(n=new Date),(t=void 0===t?new Date:t)<n?(this.FromDate=t,this.ToDate=n):(this.FromDate=n,this.ToDate=t),this.Ticks=this.ToDate-this.FromDate,this.Seconds=this.Ticks/1e3,this.Minutes=this.Seconds/60,this.Hours=this.Minutes/60,this.Days=this.Hours/24},MadCap.Utilities.TimeSpan.prototype.ToDurationString=function(){var n;return this.Minutes<1?"Just now":this.Hours<1?parseInt(this.Minutes)+" minutes ago":this.Days<1?parseInt(this.Hours)+" hours ago":this.Days<30?parseInt(this.Days)+" days ago":(n=i.Months[this.FromDate.getMonth()]+" "+this.FromDate.getDate(),this.FromDate.getFullYear()!=this.ToDate.getFullYear()&&(n+=", "+this.FromDate.getFullYear()),n)},MadCap.Utilities.Url=function(n){var k,c,h,p,w,b,a,u,e,g,nt,v,t=this,i=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/;function d(n,t,i){for(var o=n.split(t),u=0,h=o.length;u<h;u++){var r=o[u],f=r.indexOf("="),e=null,s=null;0<=f?(e=decodeURIComponent(r.substring(0,f)),s=decodeURIComponent(r.substring(f+1))):e=r,i.Add(e,s)}}this._Segments=[],this.FullPath=null,this.Path=null,this.PlainPath=null,this.Name=null,this.Extension=null,this.NameWithExtension=null,this.FullFragment=null,this.Fragment=null,this.Query=null,this.Origin=null,this.LocalPath=null,this.IsAbsolute=!1,this.IsRootRelative=!1,this.IsFolder=!1,this.QueryMap=new MadCap.Utilities.Dictionary(!0),this.HashMap=new MadCap.Utilities.Dictionary(!0),a=b=w=p="",u=n.indexOf("#"),e=n.indexOf("?"),-1!=u&&(w=n.substring(u),p=e<u?n.substring(u):n.substring(u,e)),-1!=e&&(b=u<e?n.substring(e):n.substring(e,u)),u=-1<u?-1<e?Math.min(u,e):u:e,u=(e=n.substring(0,-1==u?n.length:u)).lastIndexOf("/"),k=e.substring(0,u+1),u=(c=e.substring(u+1)).lastIndexOf("."),g=c.substring(0,u),nt=c.substring(u+1),v="",0<=(u=e.indexOf(":"))&&(v=e.substring(0,u)),u=!MadCap.String.IsNullOrEmpty(v),MadCap.String.IsNullOrEmpty(n)||(h=n,MadCap.String.EndsWith(h,"/")&&(h=h.substring(0,h.length-1)),t._Segments=h.split("/"),u&&(h=n.match(i))&&(a=h[4]?h[1]+":"+h[2]+h[3]+":"+h[4]:h[1]+":"+h[2]+h[3],t.Origin=a),t.LocalPath=n.substring(a.length)),t.FullPath=n,t.Path=k,t.PlainPath=e,t.Name=g,t.Extension=nt,t.NameWithExtension=c,t.Scheme=v,t.IsAbsolute=u,t.IsRootRelative=MadCap.String.StartsWith(e,"/",!1),t.IsFolder=MadCap.String.EndsWith(e,"/"),t.FullFragment=w,t.Fragment=p,t.Query=b,h=t.Query,MadCap.String.IsNullOrEmpty(h)||d(h=(h=h.substring(1)).replace(/\+/g," "),"&",t.QueryMap),a=t.Fragment,MadCap.String.IsNullOrEmpty(a)||d(a=a.substring(1),"&",t.HashMap)},(n=MadCap.Utilities.Url).GetDocumentUrl=function(){return new n(document.location.href)},n.GetAbsolutePath=function(t){var r=n.GetDocumentUrl(),r=new MadCap.Utilities.Url(r.PlainPath);return(r=r.IsFolder?r:r.ToFolder()).CombinePath(t).FullPath},n.EnsureUrlSafety=function(t){t=encodeURI(decodeURI(t));return n.StripInvalidCharacters(t)},n.StripInvalidCharacters=function(n){return n.replace(/(javascript:|data:|[<>])/gi,"")},n.GetSafetyProcessedComponent=function(n){return decodeURI(encodeURIComponent(n))},n.SanitizeHash=function(){var i=MadCap.Utilities.Url.CurrentHash();i&&(i=decodeURIComponent(i.slice(1)))!=(i=MadCap.Utilities.Url.StripInvalidCharacters(i))&&(document.location.hash=encodeURI(i))},n.ReplaceReservedCharacters=function(n,t){for(var i=n.split(""),r=0;r<i.length;r++)(127<i[r].charCodeAt(0)||i[r].match(/[ ()&;,!'$]/))&&(i[r]=t);return i.join("")},n.Navigate=function(t){document.location=n.EnsureUrlSafety(t)},n.GenerateNavigateTopicPath=function(t){var i=t.IsRootRelative?t.PlainPath:n.GetAbsolutePath(t.PlainPath),r=n.GetDocumentUrl().QueryMap.GetItem("skinName")||t.QueryMap.GetItem("skinName");return null!=r&&(i+="?skinName="+r),0==t.FullFragment.indexOf("#search-")?i+=t.FullFragment:(0<t.QueryMap.GetLength()&&(i+=null==r?"?":"&",t.QueryMap.ForEach(function(n,t){t&&-1==["skinName","highlight"].indexOf(n)&&(i+=n+"="+encodeURIComponent(t)+"&")}),i=i.slice(0,-1)),i+=t.Fragment),i},n.NavigateTopic=function(t){t=n.GenerateNavigateTopicPath(t);n.Navigate(t)},n.OnNavigateTopic=function(t){var i,u,f,r=$(this).attr("href");void 0!==r&&(i=new n(r),MadCap.String.IsNullOrEmpty(r)||i.IsAbsolute||!i.PlainPath?0<i.HashMap.GetLength()&&"#"!=i.Fragment&&(n.NavigateHash(i.Fragment),$(window).trigger("hashchange"),t.preventDefault()):(u=n.GenerateNavigateTopicPath(i),f=new MadCap.Utilities.Url(u),r=new MadCap.Utilities.Url(document.location.href),decodeURI(f.PlainPath)==decodeURI(r.PlainPath)&&0<i.HashMap.GetLength()?(n.NavigateHash(i.Fragment),$(window).trigger("hashchange"),t.preventDefault()):u!=n.GetAbsolutePath(i.PlainPath)&&(MadCap.Utilities.PreventDefault(t),n.Navigate(u))))},n.NavigateHash=function(t){document.location.hash=n.StripInvalidCharacters(t)},n.CurrentHash=function(){return new MadCap.Utilities.Url(document.location.href).FullFragment},n.prototype.AddFile=function(t){var f,u;return(t="string"==typeof t?new n(t):t).IsAbsolute?t:"/"==(t=t.FullPath).charAt(0)?(f=(u=document.location).href.lastIndexOf(u.pathname),u=u.href.substring(0,f),new n(u+t)):(f=this.FullPath,MadCap.String.EndsWith(f,"/")||(f+="/"),new n(f+t))},n.prototype.CombinePath=function(t){var r,s,u;if((t="string"==typeof t?new n(t):t).IsAbsolute)throw new MadCap.Exception(-1,"Cannot combine two absolute paths.");var h=t.FullPath,e=t.FullPath.split("/"),i=this.FullPath,o="";if(this.Origin&&t.IsRootRelative)return new n(this.Origin+h);for("mk"==this.Scheme&&(t=i.indexOf("::"),o=i.substring(0,t+2),i=i.substring(t+2)),r=0,s=e.length;r<s;r++)u=e[r],1<i.length&&MadCap.String.EndsWith(i,"/")&&(i=i.substring(0,i.length-1)),"."==u?i+="/":".."==u?i=i.substring(0,i.lastIndexOf("/")+1):(""==i||MadCap.String.EndsWith(i,"/")||(i+="/"),i+=u);return new n(i=o+i)},n.prototype.ToQuery=function(t){t=this.PlainPath+"?"+t+this.Fragment;return new n(t)},n.prototype.ToFolder=function(){var t=this.PlainPath,i=(t=MadCap.String.EndsWith(t,"/")?t.substring(0,t.length-1):t).lastIndexOf("/"),t=t.substring(0,i+1);return new n(t)},n.prototype.ToRelative=function(t){var i,f,u,s,r;if("string"==typeof t&&(t=new n(t)),this.IsAbsolute!=t.IsAbsolute)return this;for(i=0,f=t._Segments.length;i<f&&this._Segments[i]==t._Segments[i];i++);for(u="",s=MadCap.String.EndsWith(t.FullPath,"/")?0:1,r=0;r<f-i-s;r++)u+="../";for(r=i;r<this._Segments.length;r++)i<r&&(u+="/"),u+=this._Segments[r];return new n(u)},n.prototype.ToExtension=function(t){var i=this.FullPath,r=i.lastIndexOf("."),i=i.substring(0,r);return new n(i+"."+t)},n.prototype.ToScheme=function(t){var i=this.FullPath;return(pos=i.indexOf(":"))<0?this:(t=t+":"+i.substring(pos),new n(t))},n.prototype.ToPath=function(){return new n(this.Path)},n.prototype.ToPlainPath=function(){return new n(this.PlainPath)},n.prototype.ToNoQuery=function(){return new n(this.PlainPath+this.Fragment)},n.prototype.ToNoFragment=function(){return new n(this.PlainPath+this.Query)},MadCap.Utilities.PreventDefault=function(n){n.preventDefault?n.preventDefault():event.returnValue=!1},MadCap.Utilities.EncodeHtml=function(n){var t=document.createElement("textarea");return t.textContent=n,t.innerHTML},MadCap.Utilities.DecodeHtml=function(n){var t=document.createElement("textarea");return t.innerHTML=n,t.textContent},MadCap.Utilities.GenerateRandomGUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=16*Math.random()|0;return("x"==n?t:3&t|8).toString(16)})},MadCap.Utilities.AsyncForeach=function(n,t,i){(0<(n=n.slice(0)).length?function r(){var u=n.shift();t(u,function(){(0<n.length?r:i)()})}:i)()},MadCap.Utilities.CopyToClipboard=function(n){var i=(t=$("<div>")).html(n.html().replace(/<br>/g,"\n")).text(),t=$("<textarea>");n.parent().append(t),t.val(i).select(),document.execCommand("copy"),t.remove()},MadCap.Utilities.Now=Date.now||function(){return(new Date).getTime()},MadCap.Utilities.Has=function(n,t){return null!=n&&Object.prototype.hasOwnProperty.call(n,t)},MadCap.Utilities.CreateEvent=function(n,t){var i,r;if("function"==typeof CustomEvent)i=new CustomEvent(n,t);else for(r in(i=document.createEvent("Event")).initEvent(n,!0,!0),t)i[r]=t[r];return i},MadCap.Utilities.Debounce=function(n,t,i){function s(){var h=MadCap.Utilities.Now()-o;h<t&&0<h?r=setTimeout(s,t-h):(r=null,i||(e=n.apply(f,u),r)||(f=u=null))}var r,u,f,o,e;return function(){f=this,u=arguments,o=MadCap.Utilities.Now();var h=i&&!r;return r=r||setTimeout(s,t),h&&(e=n.apply(f,u),f=u=null),e}},MadCap.Utilities.Memoize=function(n,t){function i(r){var u=i.cache,f=""+(t?t.apply(this,arguments):r);return MadCap.Utilities.Has(u,f)||(u[f]=n.apply(this,arguments)),u[f]}return i.cache={},i},MadCap.Utilities.Get=function(n,t,i){var r,f,u=void 0;if(null!=n){for(r=0,f=(t=t.split(".")).length;null!=n&&r<f;)n=n[t[r++]];u=r&&r==f?n:void 0}return void 0===u?i:u},MadCap.Utilities.IsRuntimeFileType=function(n){return MadCap.Dom.Dataset(document.documentElement,"mcRuntimeFileType")==n},MadCap.Utilities.HasRuntimeFileType=function(n){var t=MadCap.Dom.Dataset(document.documentElement,"mcRuntimeFileType");return t&&-1<t.split(";").indexOf(n)},MadCap.Utilities.CreateStylesheet=function(n,t){var n=n||document,r=n.createElement("style");return t&&r.setAttribute("media",t),n.getElementsByTagName("head")[0].appendChild(r),n.styleSheets[n.styleSheets.length-1]},MadCap.Utilities.AsyncForeachParallel=function(n,t,i){var f,r,u=0;for(0===n.length&&i(),f=n.length,r=0;r<f;r++)t(n[r],function(){++u===n.length&&i()})},MadCap.Utilities.FixLink=function(n,t,i,r){var f=n,n=new MadCap.Utilities.Url(n);return f=n.IsAbsolute||n.Fragment==n.FullPath||(f=(n=t.CombinePath(n)).FullPath,MadCap.String.IsNullOrEmpty(i))||null==r?f:i+(n=n.ToRelative(r)).FullPath},MadCap.Utilities.FixLinks=function(n,t,i,r){var u=["href","src","cite","data","data-mc-topics","poster"],e=["href","data-mc-topics"],o="["+u.join("],[")+"]",n=$(n);return n.find(o).each(function(){var o=!($(this).hasClass("MCPopupThumbnailPopup")||$(this).hasClass("MCPopupThumbnailHover")||$(this).hasClass("MCTopicPopup")),n=!1;$.each(this.attributes,function(f,s){var h,c,l,a,y=o&&-1<e.indexOf(s.name)?i:"";if("data-mc-topics"===s.name){if(h=(a=s.value)?a.split("||"):null){for(c=0;c<h.length;c++)(l=h[c].split("|"))[1]=MadCap.Utilities.FixLink(l[1],t,y,r),h[c]=l.join("|");s.value=h.join("||")}}else-1<u.indexOf(s.name)&&(a=MadCap.Utilities.FixLink(s.value,t,y,r))!==s.value&&(s.value=a,n=!0)}),n&&$(this).attr("data-mc-processed-link",!0)}),n},MadCap.Utilities.IsRTL=function(){return"rtl"===$("html").css("direction")},MadCap.Utilities.IsTouchDevice=function(){var t,n=!1;return t=navigator.userAgent||navigator.vendor||window.opera,n=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))?!0:n},MadCap.Utilities.IsIE=function(){var n=window.navigator.userAgent;return 0<n.indexOf("MSIE ")||0<n.indexOf("Trident/")},MadCap.Utilities.IsChromium=function(){return-1<navigator.userAgent.search("Chrome")},MadCap.Utilities.SameOriginAsParent=function(){if(!window.parent)return!1;try{return window.parent.location.host==window.location.host}catch(t){return!1}},MadCap.Utilities.IsMicroContentTopic=function(){return 0<$("meta[value='micro-content']").length},MadCap.Utilities.ToggleButtonState=function(n){var i=$(n).attr("data-current-state")||"1";MadCap.Utilities.SetButtonState(n,"1"==i?2:1)},MadCap.Utilities.SetButtonState=function(n,t){var n=$(n),e=1==t?2:1,o=n.attr("data-state"+t+"-class"),e=n.attr("data-state"+e+"-class");n.attr("data-current-state",t),n.removeClass(e).addClass(o),n.attr("title",n.attr("data-state"+t+"-title")),(e=n.children("img")).attr("alt",e.attr("data-state"+t+"-alt")),MadCap.Utilities.HasRuntimeFileType("SkinPreview")&&(o=n.attr("data-mc-style2"))&&((e=n.attr("data-mc-style1"))||(e=n.attr("data-mc-style"),n.attr("data-mc-style1",MadCap.Utilities.EncodeHtml(e))),n.attr("data-mc-style",1==t?e:o))},MadCap.Utilities.LoadHandlers=new Map,MadCap.Utilities.InitContent=function(n){MadCap.Utilities.LoadHandlers.forEach(function(t){t(n)})},MadCap.Utilities.LoadScript=function(n,t,i){var r=document.createElement("script");return r.src=n,r.type="text/javascript",r.addEventListener?($(r).on("error",i),$(r).on("load",t)):r.readyState&&(r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||t()}),document.getElementsByTagName("head")[0].appendChild(r),r},MadCap.Utilities.LoadRegisteredScript=function(n,t,i,r){var e,f=!1;$("script").each(function(t,i){var r=$(i).attr("src");MadCap.String.IsNullOrEmpty(r)||r.toLowerCase()!=n.toLowerCase()||(f=!0,0)}),f&&(e=new MadCap.Utilities.Url(n).Name,(e=MadCap.Utilities.LoadHandlers.get(e))&&e(r),t())},MadCap.Utilities.LoadScripts=function(n,t,i,r){MadCap.Utilities.AsyncForeach(n,function(n,t){MadCap.String.IsNullOrEmpty(n)?t():MadCap.Utilities.LoadRegisteredScript(n,t,i,r)},t)},MadCap.Utilities.DynamicStylesheets=new Map,MadCap.Utilities.LoadStylesheets=function(n,t){var i=$("body")[0];$.each(n,function(n,r){MadCap.String.IsNullOrEmpty(r)||MadCap.Utilities.LoadStylesheet(r,i,t)})},MadCap.Utilities.LoadStylesheet=function(n,t,i){var r,f,u=!1;$("link").each(function(t,i){i=$(i).attr("href");MadCap.String.IsNullOrEmpty(i)||i.toLowerCase()!==n.toLowerCase()||(u=!0)}),u||(r='<link rel="stylesheet" type="text/css" href="{0}" data-mc-dynamic="true" />'.replace("{0}",n),f=$("head")[0],i=i?$(r).insertAfter(i):$(r).appendTo(f),$(t).data("DynamicStylesheets").set(n,i))},MadCap.Utilities.LoadDynamicStylesheets=function(n,t){for(var i=0;i<n.length;i++)MadCap.Utilities.LoadStylesheet(n[i],t)},MadCap.Utilities.RemoveDynamicStylesheets=function(n){$.each($(n).data("DynamicStylesheets"),function(n,t){$(t).remove()}),$(n).data("DynamicStylesheets",new Map)},MadCap.Utilities.CombineRelevancy=function(n,t){for(var i=MadCap.Utilities.CapNumber(n,t,16,0,2),r=2;r<7;r++)i=MadCap.Utilities.CapNumber(i,t,16,r,1);return MadCap.Utilities.CapNumber(i,t,16,7,1,7)},MadCap.Utilities.CalculateScore=function(n,t,i){return Math.log(n)/Math.log(2147483647)*i+t*(1-i)},MadCap.Utilities.CapNumber=function(n,t,i,r,u,f){f=f||Math.pow(i,u)-1;r=Math.pow(i,r),i=r*Math.pow(i,u),u=~~(n%i/r);return n+(Math.min(u+~~(t%i/r),f)-u)*r},MadCap.Utilities.Require=function(n,t){MadCap.Utilities._requireCache||(MadCap.Utilities._requireCache=new Map);var u=MadCap.Utilities._requireCache,r=n[0],i=u.get(r);i&&i.data?t(i.data):i&&i.callbacks?i.callbacks.push(t):(u.set(r,{callbacks:[t]}),require([r],function(n){(i=u.get(r)).data=n;for(var t=0;t<i.callbacks.length;t++)i.callbacks[t](n);i.callbacks=null,require.undef(r)}))},MadCap.Utilities.GetChunkId=function(n,t,i){for(var u,r=0;r<n.length;r++){if(0===(u=i(t,n[r])))return r;if(-1===u)return r-1}return n.length-1},MadCap.Utilities.GetChunkIds=function(n,t,i){for(var f,u=[],e=!1,r=0;r<n.length;r++){if(-1===(f=i(t,n[r]))&&0===r)return u;if(0===f)0<r&&!e&&u.push(r-1),u.push(r),e=!0;else if(-1===f){0<r&&!e&&u.push(r-1);break}}return 0===u.length&&u.push(n.length-1),u},MadCap.Utilities.ClearRequireCache=function(){MadCap.Utilities._requireCache=null},MadCap.Utilities.StopWords=Array("a","an","the","to","of","is","for","and","or","do","be","by","he","she","on","in","at","it","not","no","are","as","but","her","his","its","non","only","than","that","then","they","this","we","were","which","with","you","into","about","after","all","also","been","can","come","from","had","has","have","me","made","many","may","more","most","near","over","some","such","their","there","these","under","use","was","when","where","against","among","became","because","between","during","each","early","found","however","include","late","later","med","other","several","through","until","who","your"),MadCap.Utilities.Store=function(){var t,n,i;try{if(window.localStorage)return window.localStorage}catch(r){console&&console.log&&console.log("window.localStorage not available")}return t="MadCap",(n=document.createElement("div")).style.display="none",document.getElementsByTagName("head")[0].appendChild(n),"function"==typeof n.addBehavior?(n.addBehavior("#default#userdata"),n.load(t),{getItem:function(t){return n.XMLDocument.documentElement.getAttribute(t)},setItem:function(i,r){n.XMLDocument.documentElement.setAttribute(i,r),n.save(t)},removeItem:function(i){n.removeAttribute(i),n.save(t)}}):(i="data-"+t+"-",{getItem:function(t){t=n.getAttribute(i+t);return t&&decodeURIComponent(t)},setItem:function(t,r){n.setAttribute(i+t,r?encodeURIComponent(r):null)},removeItem:function(t){n.removeAttribute(i+t)}})}(),MadCap.Utilities.SanitizeHtml=function(n){return DOMPurify.sanitize(n,{ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|file):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,ADD_TAGS:["embed","iframe","object","param","madcap:conditionaltext"],ADD_ATTR:["abbr","accesskey","allowfullscreen","autoplay","classid","codebase","data","dirname","form","frameborder","kind","longdesc","muted","pluginspage","rules","sandbox","sorted","target","translate","wmode"]})},MadCap.Utilities.Round=function(n,t){var t=Math.pow(10,t),r=Number.EPSILON||0;return Math.round((n+r)*t)/t}}(),Array.prototype.Remove=function(n){if(n<0||n>this.length)throw"Index out of bounds.";this.splice(n,1)},Array.prototype.RemoveValue=function(n){for(var t=this.length-1;0<=t;t--)this[t]==n&&this.Remove(t)},Array.prototype.Union=function(n){var t,i=[].concat(this);if(n)for(t=0;t<n.length;t++)-1===this.indexOf(n[t])&&i.push(n[t]);return i},Array.prototype.Intersect=function(n){for(var i=[],t=0;t<n.length;t++)-1!==this.indexOf(n[t])&&i.push(n[t]);return i},$.fn.randomize=function(n){return(n?this.find(n):this).parent().each(function(){$(this).children(n).sort(function(){return Math.random()-.5}).detach().appendTo(this)}),this},function(){MadCap.Utilities.Xhr=function(t,i,r){var u=this;this._XmlDoc=null,this._XmlHttp=null,this._Args=t,this._LoadFunc=i,this._LoadContextObj=r,this.OnreadystatechangeLocal=function(){var t;4==u._XmlDoc.readyState&&(u._XmlDoc.onreadystatechange=n._Noop,(t=null)!=u._XmlDoc.documentElement&&(t=u._XmlDoc),null==u._LoadContextObj?u._LoadFunc(t,u._Args):u._LoadFunc.call(u._LoadContextObj,t,u._Args))},this.OnreadystatechangeRemote=function(){var t;4==u._XmlHttp.readyState&&(u._XmlHttp.onreadystatechange=n._Noop,(t=null)!=u._XmlHttp.responseXML&&null!=u._XmlHttp.responseXML.documentElement&&(t=u._XmlHttp.responseXML),null==u._LoadContextObj?u._LoadFunc(t,u._Args):u._LoadFunc.call(u._LoadContextObj,t,u._Args))}};var n=MadCap.Utilities.Xhr;n.prototype._LoadLocal=function(t,i){if(window.ActiveXObject){this._XmlDoc=n._GetMicrosoftXmlDomObject(),this._XmlDoc.async=i,this._LoadFunc&&(this._XmlDoc.onreadystatechange=this.OnreadystatechangeLocal);try{this._XmlDoc.load(t)||(this._XmlDoc=null)}catch(r){this._XmlDoc=null}}else window.XMLHttpRequest&&this._LoadRemote(t,i);return this._XmlDoc},n.prototype._LoadRemote=function(t,i){this._XmlHttp=n._GetXhrObject(),this._LoadFunc&&(this._XmlHttp.onreadystatechange=this.OnreadystatechangeRemote);try{this._XmlHttp.open("GET",t,i),this._XmlHttp.send(null),i||0!=this._XmlHttp.status&&200!=this._XmlHttp.status||(this._XmlDoc=this._XmlHttp.responseXML)}catch(r){this._XmlHttp.abort(),this._LoadFunc&&(null==this._LoadContextObj?this._LoadFunc(null,this._Args):this._LoadFunc.call(this._LoadContextObj,null,this._Args))}return this._XmlDoc},n.prototype.Load=function(n,t){var r=null,i=document.location.protocol;return"file:"==i||"mk:"==i||"ms-its:"==i||"app:"==i?r=this._LoadLocal(n,t):"http:"!=i&&"https:"!=i||(r=this._LoadRemote(n,t)),r},n.LoadXmlString=function(t){var i=null;return window.ActiveXObject?((i=n._GetMicrosoftXmlDomObject()).async=!1,i.loadXML(t)):DOMParser&&(i=(new DOMParser).parseFromString(t,"text/xml")),i},n.CreateXmlDocument=function(t){return n.LoadXmlString("<"+t+" />")},n.GetOuterXml=function(n){var t=null;return window.ActiveXObject?t=n.xml:window.XMLSerializer&&(t=(new XMLSerializer).serializeToString(n)),t},n.ImportNode=function(n,t){return"function"==typeof n.importNode?n.importNode(t,!0):t.cloneNode(!0)},n.CallWebService=function(t,i,r,u){return new n(u,r,null).Load(t,i)},n._MicrosoftXmlDomProgIDs=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument","Microsoft.XMLDOM"],n._MicrosoftXmlHttpProgIDs=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP"],n._MicrosoftXmlDomProgID=null,n._MicrosoftXmlHttpProgID=null,n._FilePathToXmlStringMap=new MadCap.Utilities.Dictionary,n._LoadingFilesPathMap=new MadCap.Utilities.Dictionary,n._LoadingFromQueue=!1,n.ForceUseJS=!1,n.Load=function(t,i,r,u,f){function h(){n._LoadingFilesPathMap.Remove(e.FullPath);var t=n._FilePathToXmlStringMap.GetItem(e.Name);null!=t&&(n._FilePathToXmlStringMap.Remove(e.Name),o=n.LoadXmlString(t)),n._LoadingFilesPathMap.ForEach(function(t,i){t=new MadCap.Utilities.Url(t);return t.Name!=c||t.FullPath==e.FullPath||(n._LoadingFilesPathMap.Remove(t.FullPath),n._LoadingFromQueue=!0,n.Load(t.FullPath,i.async,i.LoadFunc,i.args,i.loadContextObj),!1)}),null==f?r(o,u):r.call(f,o,u)}var s,l,e,c,o=null;return n.ForceUseJS||Boolean(!window.ActiveXObject)&&MadCap.String.StartsWith(document.location.protocol,"file")?(e=new MadCap.Utilities.Url(t).ToExtension("js"),c=e.Name,n._LoadingFilesPathMap.Add(e.FullPath,{async:i,LoadFunc:r,args:u,loadContextObj:f}),s=!1,n._LoadingFilesPathMap.ForEach(function(n,t){n=new MadCap.Utilities.Url(n);return n.Name!=c||n.FullPath==e.FullPath||!(s=!0)}),!n._LoadingFromQueue&&s||(n._LoadingFromQueue=!1,MadCap.Utilities.LoadScript(e.FullPath,h,h))):(l=new n(u,r,f),o=l.Load(t,i)),o},n._Noop=function(){},n._GetMicrosoftXmlDomObject=function(){var t,r,i=null;if(null==n._MicrosoftXmlDomProgID)for(t=0;t<n._MicrosoftXmlDomProgIDs.length;t++){r=n._MicrosoftXmlDomProgIDs[t];try{i=new ActiveXObject(r),n._MicrosoftXmlDomProgID=r;break}catch(u){}}else i=new ActiveXObject(n._MicrosoftXmlDomProgID);return i},n._GetXhrObject=window.XMLHttpRequest?function(){return new window.XMLHttpRequest}:window.ActiveXObject?function(){var t,r,i=null;if(null==n._MicrosoftXmlHttpProgID)for(t=0;t<n._MicrosoftXmlHttpProgIDs.length;t++){r=n._MicrosoftXmlHttpProgIDs[t];try{i=new ActiveXObject(r),n._MicrosoftXmlHttpProgID=r;break}catch(u){}}else i=new ActiveXObject(n._MicrosoftXmlHttpProgID);return i}:void 0}(),function(){MadCap.CreateNamespace("TextEffects");var n=MadCap.TextEffects;n.Init=function(t){n.ExpandingControl.Load(t),n.DropDownControl.Load(t),n.TogglerControl.Load(t),n.TextPopupControl.Load(t),n.TopicPopupControl.Load(t)},n.Dispose=function(t){n.ExpandingControl.UnLoad(t),n.DropDownControl.UnLoad(t),n.TogglerControl.UnLoad(t),n.TextPopupControl.UnLoad(t),n.TopicPopupControl.UnLoad(t)},$(function(){MadCap.Utilities.LoadHandlers.set("MadCapTextEffects",n.Init),n.Init(document)}),n.TextEffectControl=function(t,i){var r;null==this._rootEl&&(this._rootEl=t),this._hotSpotEl=null,this._bodyEls=null,this._className=i,t=this._rootEl.classList.contains("MCToggler")?this._rootEl.parentNode:this._rootEl,this._$rootEl=$(t),n.TextEffectControl.Controls[n.TextEffectControl.Controls.length]=this,r=this,function(){var i,t,n;for(r._hotSpotEl=MadCap.Dom.GetElementsByClassName(r._className+"HotSpot",null,r._rootEl)[0],r._bodyEls=MadCap.Dom.GetElementsByClassName(r._className+"Body",null,r._rootEl),t=(i=MadCap.Dom.GetElementsByClassName(r._className+"HotSpot",null,r._rootEl)).length-1;0<=t;t--)for(n=i[t].parentNode;null!=n;){if($(n).hasClass(r._className)){if(n!=r._rootEl)break;$(i[t]).click(function(n){n.preventDefault(),r.Toggle.call(r)})}n=n.parentNode}}()},n.UnbindTextEffectControl=function(n,t){null==this._rootEl&&(this._rootEl=n),this._hotSpotEl=null,this._bodyEls=null,this._className=t,this._$rootEl=$(this._rootEl);var i=this;!function(){var r,t,n;for(i._hotSpotEl=MadCap.Dom.GetElementsByClassName(i._className+"HotSpot",null,i._rootEl)[0],t=(r=MadCap.Dom.GetElementsByClassName(i._className+"HotSpot",null,i._rootEl)).length-1;0<=t;t--)for(n=r[t].parentNode;null!=n;){if($(n).hasClass(i._className)){if(n!=i._rootEl)break;$(r[t]).unbind()}n=n.parentNode}$(i._hotSpotEl).unbind()}()},n.TextEffectControl.Controls=[],n.TextEffectControl.FindControl=function(t){for(var i=0;i<n.TextEffectControl.Controls.length;i++)if(n.TextEffectControl.Controls[i]._rootEl==t)return n.TextEffectControl.Controls[i];return null},n.TextEffectControl.ExpandAll=function(t){for(var r,i=0,u=n.TextEffectControl.Controls.length;i<u;i++)r=n.TextEffectControl.Controls[i],"open"==t?r.Open(!1):"close"==t&&r.Close(!1)},n.TextEffectControl.prototype.Open=function(){var t,n=this._$rootEl;n.removeClass(this._className+"_Closed"),n.addClass(this._className+"_Open"),(t=(t=n).is("a")?t:n.find("a").first()).hasClass("MCTextPopup")?t.attr("aria-describedby",t.attr("data-aria-describedby")):t.attr("aria-expanded","true"),t=null,n.hasClass("MCToggler")?t=$(".MCToggler_Image_Icon"):n.hasClass("MCDropDown")?t=$(".MCDropDown_Image_Icon"):n.hasClass("MCExpanding")&&(t=$(".MCExpanding_Image_Icon")),t=n.find(t),this.ToggleAltText(t[0],n,"closed"),n.attr("data-mc-state","open")},n.TextEffectControl.prototype.Close=function(){var t,n=this._$rootEl;n.removeClass(this._className+"_Open"),n.addClass(this._className+"_Closed"),(t=(t=n).is("a")?t:n.find("a").first()).hasClass("MCTextPopup")?t.removeAttr("aria-describedby"):t.attr("aria-expanded","false"),t=null,n.hasClass("MCToggler")?t=$(".MCToggler_Image_Icon"):n.hasClass("MCDropDown")?t=$(".MCDropDown_Image_Icon"):n.hasClass("MCExpanding")&&(t=$(".MCExpanding_Image_Icon")),t=n.find(t),this.ToggleAltText(t[0],n,"open"),n.attr("data-mc-state","closed")},n.TextEffectControl.prototype.ToggleAltText=function(n,t,i){var u,f;null!=n&&(u=(n=$(n)).attr("data-mc-alt2"),f=n.attr("alt"),null!=t)&&t.attr("data-mc-state")==i&&(n.attr("alt",u),n.attr("data-mc-alt2",f))},n.TextEffectControl.prototype.Toggle=function(){var t,n=$(this._rootEl);"open"==(t=(n=n.hasClass("MCToggler")?$(this._rootEl.parentNode).find("a.MCToggler"):n).attr("data-mc-state")||"closed")?this.Close(!0):"closed"==t&&this.Open(!0),$(n.find("a")[0]).focus()},n.TextEffectControl.prototype.ResizeSlideshow=function(n,t){var u,i;n&&(u=(n=$(n)).closest('div[class^="mc-viewport"]'))&&(i=0,n.children().each(function(){i+=$(this).outerHeight()}),i=t?u.height()+Math.max(i,n.outerHeight()):u.height()-Math.max(i,n.outerHeight()),u.animate({height:i}))},n.ExpandingControl=function(t){n.TextEffectControl.call(this,t,"MCExpanding")},MadCap.Extend(n.TextEffectControl,n.ExpandingControl),n.ExpandingControl.Load=function(t){for(var u,r=$(".MCExpanding",t),i=0,e=r.length;i<e;i++)u=r[i],new n.ExpandingControl(u).Init()},n.ExpandingControl.UnLoad=function(t){for(var r=$(".MCExpanding",t),i=0,u=r.length;i<u;i++)n.UnbindTextEffectControl(r[i])},n.ExpandingControl.prototype.Init=function(){this.Close(!1)},n.ExpandingControl.prototype.Open=function(){this.base.Open.call(this);var n=$(this._bodyEls[0]);this.ResizeSlideshow(n,!0),n.show(),n.css("display","inline"),$(window).trigger("resize")},n.ExpandingControl.prototype.Close=function(){$(this._bodyEls[0]).hide(),$(window).trigger("resize"),this.base.Close.call(this)},n.DropDownControl=function(t){n.TextEffectControl.call(this,t,"MCDropDown")},MadCap.Extend(n.TextEffectControl,n.DropDownControl),n.DropDownControl.Load=function(t){for(var u,r=$(".MCDropDown",t),i=0,e=r.length;i<e;i++)u=r[i],new n.DropDownControl(u).Init(!1)},n.DropDownControl.UnLoad=function(t){for(var r=$(".MCDropDown",t),i=0,u=r.length;i<u;i++)n.UnbindTextEffectControl(r[i])},n.DropDownControl.prototype.Init=function(){this.Close(!1)},n.DropDownControl.prototype.Open=function(n){this.base.Open.call(this);var t=$(this._bodyEls[0]),i=t.find("div.sticky");0<i.length?(t.slideDown(function(){$(window).trigger("resize")}),i.foundation("_calc",!0)):(n?t.hide().slideDown(function(){$(window).trigger("resize")}):(t.show(),$(window).trigger("resize")),this.ResizeSlideshow(t,!0))},n.DropDownControl.prototype.Close=function(n){var i,r=$(this._bodyEls[0]);n?((i=this).ResizeSlideshow(this._bodyEls[0],!1),$(this._bodyEls[0]).slideUp(function(){i.base.Close.call(i),$(window).trigger("resize")})):(0<(n=r.find("div.sticky")).length&&n.foundation("_calc",!0),r.hide(),this.base.Close.call(this),$(window).trigger("resize"))},n.TogglerControl=function(t){this._rootEl=t,this._$rootEl=$(t),this._hotSpotEl=t,this._bodyEls=null,this._className="MCToggler",n.TextEffectControl.Controls[n.TextEffectControl.Controls.length]=this},MadCap.Extend(n.TextEffectControl,n.TogglerControl),n.TogglerControl.Load=function(t){for(var u,r=$(".MCToggler",t),i=0,e=r.length;i<e;i++)u=r[i],new n.TogglerControl(u).Init(t)},n.TogglerControl.UnLoad=function(t){for(var r=$(".MCToggler",t),i=0,u=r.length;i<u;i++)n.UnbindTextEffectControl(r[i])},n.TogglerControl.prototype.Init=function(n){var i,t,f,e,r;for(this._bodyEls=[],t=0,f=(i=MadCap.Dom.Dataset(this._rootEl,"mcTargets").split(";")).length;t<f;t++)e=i[t],e=MadCap.Dom.GetElementsByAttribute("data-mc-target-name",e,null,n),this._bodyEls=this._bodyEls.concat(e);r=this,$(this._rootEl).click(function(n){n.preventDefault(),r.Toggle.call(r)}),this.Close(!1)},n.TogglerControl.prototype.Open=function(n){this.base.Open.call(this);for(var t=0,i=this._bodyEls.length;t<i;t++)n?($(this._bodyEls[t]).css({opacity:0,display:""}),$(this._bodyEls[t]).animate({opacity:1},200,function(){$(window).trigger("resize")})):($(this._bodyEls[t]).css({opacity:1,display:""}),$(window).trigger("resize"));this.ResizeSlideshow(this._bodyEls[0],!0)},n.TogglerControl.prototype.Close=function(n){function i(n){$(n).css("display","none")}var t,r;for(this.base.Close.call(this),this.ResizeSlideshow(this._bodyEls[0],!1),t=0,r=this._bodyEls.length;t<r;t++)n?$(this._bodyEls[t]).animate({opacity:0},200,function(){i(this),$(window).trigger("resize")}):(i(this._bodyEls[t]),$(window).trigger("resize"))},n.TextPopupControl=function(n){this._rootEl=n,this._hotSpotEl=n,this._$rootEl=$(n),this._$hotSpotEl=this._$rootEl,this._bodyEls=null,this._className="MCTextPopup";var t=this;t._bodyEls=$("."+t._className+"Body",t._rootEl).toArray(),MadCap.Utilities.IsTouchDevice()?t._$hotSpotEl.click(function(){"closed"===$(this).attr("data-mc-state")?t.Open():t.Close()}):(t._$hotSpotEl.on("mouseover",function(){t.Open()}),t._$hotSpotEl.on("mouseleave",function(){t.Close()}))},MadCap.Extend(n.TextEffectControl,n.TextPopupControl),n.TextPopupControl.Load=function(t){for(var u,r=$(".MCTextPopup",t),i=0,e=r.length;i<e;i++)u=r[i],new n.TextPopupControl(u).Init()},n.TextPopupControl.UnLoad=function(t){for(var r=$(".MCTextPopup",t),i=0,u=r.length;i<u;i++)n.UnbindTextEffectControl(r[i])},n.TextPopupControl.prototype.Init=function(){this.Close(!1)},n.TextPopupControl.prototype.Open=function(){this.base.Open.call(this);var ft,i=this._$rootEl,n=$(this._bodyEls[0]),o=$(".MCTextPopupArrow",i),p=$(".title-bar.sticky"),u=$(window),s=(n.css("top","0"),n.css("left","0"),n.attr("aria-hidden",!1),n.css("height","auto"),u.scrollTop()),r=u.scrollLeft(),d=n.offset().top,g=n.offset().left,d=i.offset().top-d,g=i.offset().left-g,c=d+this._rootEl.offsetHeight,l=n.outerWidth(),a=n.outerHeight(),g=g+i[0].offsetWidth/2-l/2,w=g+l,v=c+13,e=-o.outerWidth()/2,y=u.width(),u=s+u.height()-c;0<p.length&&(s+=p.innerHeight()),u<a+13?d-s<a+13?(v=c,p=parseInt(n.css("border-top-width")),s=parseInt(n.css("border-bottom-width")),c=parseInt(n.css("padding-top")),ft=parseInt(n.css("padding-bottom")),n.css("height",u-p-s-c-ft+"px"),n.css("overflow","auto")):(n.addClass("MCTextPopupBodyBottom"),v=d-a-13):n.removeClass("MCTextPopupBodyBottom"),n.css("top",v+"px"),y+r<=w&&(e+=w-y-r),g<r&&(e+=g-r),g=Math.min(g,r+y-l),g=Math.max(g,r),i.closest("body"),MadCap.HasEpubReadingSystem()&&(g=i.offset().left,e=-(n[0].offsetWidth/2-o[0].offsetWidth/2)),n.css("left",g+"px"),n.css("zIndex",1),o.css("margin-left",e+"px"),n.animate({opacity:1},200)},n.TextPopupControl.prototype.Close=function(){this.base.Close.call(this);var n=$(this._bodyEls[0]);n.attr("aria-hidden",!0),n.css("opacity",0)},n.TopicPopupControl=function(n){this._rootEl=n,this._hotSpotEl=n,this._$rootEl=$(n),this._$hotSpotEl=this._$rootEl,this._bodyEls=null,this._className="MCTopicPopup";var t=this;t._bodyEls=$("."+t._className+"Body",t._rootEl).toArray(),t._$hotSpotEl.click(function(n){t.Open(),$(document.documentElement).click(function(){t.Close(),$(document.documentElement).off("click",arguments.callee)}),n.stopPropagation(),MadCap.Utilities.PreventDefault(n)})},MadCap.Extend(n.TextEffectControl,n.TopicPopupControl),n.TopicPopupControl.Load=function(t){for(var u,r=$(".MCTopicPopup",t),i=0,e=r.length;i<e;i++)u=r[i],new n.TopicPopupControl(u).Init()},n.TopicPopupControl.UnLoad=function(t){for(var r=$(".MCTopicPopup",t),i=0,u=r.length;i<u;i++)n.UnbindTextEffectControl(r[i])},n.TopicPopupControl.prototype.Init=function(){this.Close(!1)},n.TopicPopupControl.prototype.Open=function(){this.base.Open.call(this),(t=$("<div></div>")).addClass("MCTopicPopupContainer needs-pie"),s=MadCap.Dom.GetAttribute(this._hotSpotEl,"href"),(i=$(document.createElement("iframe"))).addClass("MCTopicPopupBody"),i.attr("src",s),i.attr("name","MCPopup"),t.append(i),s=document.body,t.appendTo(s),MadCap.Accessibility.initPopupTopicAccessibility(t,i,this);var t,i,s,e,a,h=this._$rootEl,c=h.attr("data-mc-width"),h=h.attr("data-mc-height");null==c&&null==h||(t.css({top:"50%",left:"50%",width:c,height:h}),c=t.width(),h=t.height(),e=(a=$(window)).width()-100,a=a.height()-100,e<c&&(t.css({width:e+"px"}),c=e),a<h&&(t.css({height:a+"px"}),h=a),t.css({"margin-top":-h/2+"px","margin-left":-c/2+"px"})),i.css("height","100%"),"EPUB"==$("html").attr("data-mc-target-type")&&(e=this._$hotSpotEl.offset().top-t.offset().top-t[0].offsetHeight/2,t.css({"margin-top":e+"px",left:this._$hotSpotEl.offset().left,"margin-left":this._$hotSpotEl.offset().left})),t.animate({opacity:1},200,function(){i.focus()}),a=n.AddBackgroundTint("dark",s),$(a).animate({opacity:.5},200)},n.TopicPopupControl.prototype.Close=function(){var t,i;this.base.Close.call(this),0!=(t=$(".MCTopicPopupContainer")).length&&(i=t.parent(),t.remove(),n.RemoveBackgroundTint(),0<$("#topicContent").length&&i.css("overflow","auto"),this._hotSpotEl.focus())},n.CreateLinkListTree=function(t,i,r,u,f){var o,e,s;for(n.RemoveLinkListTrees(),u=u||"",o=$("<ul class='responsive-link-list tree inner'></ul>"),$(r).attr("target"),e=0,s=t.length;e<s;e++){var h=t[e],c=$("<li class='IndexEntry IndexEntryLink tree-node tree-node-leaf'></li>").appendTo(o),y=$("<div class='IndexTerm'></div>").appendTo(c),y=$("<span class='label'></span>").appendTo(y),y=$("<a/>").appendTo(y);y.text(h.Title),h=h.Link,y.attr("href",u+h),c.click(f)}o.appendTo(i)},n.CreateDummyToolbarDropdown=function(t,i,r,u){var e=[],f=new MadCap.Utilities.Url(document.location.href),o={Title:r+"1",Link:f.PlainPath+f.Fragment},r={Title:r+"2",Link:f.PlainPath+f.Fragment};e[0]=o,e[1]=r,n.CreateToolbarDropdown(e,t[0],i,u)},n.CreateToolbarDropdown=function(t,i,r,u){var f=$(i),e=f.position().left,o=f.position().top+f.height()+2;n.CreateLinkListPopup(t,f.closest(".popup-container"),o,e,i,"","toolbar-button-drop-down "+r,!0,!1,u)},n.CreateLinkListPopup=function(t,i,r,u,f,e,o,s,h,c){void 0===o&&(o="link-list-popup"),void 0===s&&(s=!0),void 0===h&&(h=!0),n.RemoveLinkListPopups(),e=e||"";for(var a,b,g,nt,tt,l=$("<div class='"+o+" needs-pie'><ul></ul></div>"),it=l.children("ul"),rt=$(f).attr("target"),p=0,ut=t.length;p<ut;p++){var v=t[p],ft=void 0!==v.Image,k=(ft?$("<li><img><a></a></li>"):$("<li><a></a></li>")).appendTo(it),y=$("a",k);y.attr("target",rt),"_popup"==rt&&y.click(n.TopicPopup_Click),ft?((ft=$("img",k)).attr("src",v.Image),ft.attr("alt",v.Title),y.text(" "+v.Title)):y.text(v.Title),y.attr("href",e+v.Link),k.click(n.Item_Click)}l.appendTo(i),0==(a=l.closest(".popup-container")).length&&(a=$(window));var o=(a=c?$(window):a).width(),i=a.height(),et=a.scrollTop(),ot=a.scrollLeft(),at=l[0].offsetWidth,vt=l[0].offsetHeight;h&&(r=Math.min(r,et+0+i-vt),r=Math.max(r,et+0)),s&&MadCap.Utilities.HasRuntimeFileType("TriPane")&&(u=Math.min(u,ot+o-at),u=Math.max(u,ot)),(0==r&&0==u||isNaN(r)&&isNaN(u)||MadCap.IsIBooks())&&(s&&(u=$(f).offset().left+$(f).width()),h)&&(r=$(f).offset().top+$(f).height()),MadCap.IsIBooks()&&(l.css("display","inline-block"),s&&(u-=f.offsetWidth),h)&&(r-=l[0].offsetHeight/2),s&&MadCap.Utilities.IsRTL()&&(void(i=0)!==$(f).offset()&&(i+=$(f).offset().left),void 0!==$(f).width()&&(i+=$(f).width()),u-=Math.min($(window).width()-i,l.width())),$triggerObject=c?$(f):$([document,f]),MadCap.Accessibility.setAriaControls($triggerObject,l,"link-list-popup"),$triggerObject.attr("aria-expanded","true"),b=function(){$triggerObject.attr("aria-expanded","false"),$triggerObject.removeAttr("aria-controls")},l.keydown(function(n){27==(n.keyCode||n.which)&&(l.remove(),$triggerObject.focus(),b())}),g=l.find("a").first(),nt=l.find("a").last(),g.keydown(function(n){var t=n.keyCode||n.which;event.shiftKey&&9==t&&(n.preventDefault(),nt.focus())}),nt.keydown(function(n){var t=n.keyCode||n.which;event.shiftKey||9!=t||(n.preventDefault(),g.focus())}),l.css("top",r),l.css("left",u),l.css("zIndex",1),l.hide().fadeIn(200),$triggerObject.click(function(){l.remove(),$triggerObject.off("click",arguments.callee)}),$triggerObject.keydown(function(n){n=n||windows.event;27!=n.keyCode&&13!=n.keyCode||!l.is(":focus")||(l.remove(),b(),$triggerObject.off("keydown",arguments.callee))}),c||a.click(tt=function(){n.RemoveLinkListPopups(),a.off("click",tt),b()}),l.find("a").first().focus()},n.Item_Click=function(n){var i=$("a",this),t=i.attr("href"),i=i.attr("target");t&&!MadCap.String.IsNullOrEmpty(t)&&(i?window.open(t,i):null!=document.parentNode&&MadCap.Utilities.HasRuntimeFileType("Topic")&&"EPUB"==$("html").attr("data-mc-target-type")?document.parentNode.open(t):document.location.href=t),MadCap.Utilities.PreventDefault(n)},n.RemoveLinkListTrees=function(){$(".responsive-link-list").remove()},n.RemoveLinkListPopups=function(){$(".link-list-popup").remove(),$(".toolbar-button-drop-down").remove()},n.AddBackgroundTint=function(n,t){t=t||document.body;var i=$("<div id='mc-background-tint'></div>");return i.addClass(n),i.appendTo(t),i[0]},n.RemoveBackgroundTint=function(){$("#mc-background-tint").remove()}}(),function(n){"use strict";n.fn.fitVids=function(t){var i={customSelector:null},r=document.createElement("div"),u=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];return r.className="fit-vids-style",r.innerHTML="<style>.fluid-width-video-wrapper {width: 100%;position: relative;padding: 0;} .fluid-width-video-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; } </style>",u.parentNode.insertBefore(r,u),t&&n.extend(i,t),this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='www.youtube.com']","iframe[src*='www.kickstarter.com']"];i.customSelector&&t.push(i.customSelector),n(this).find(t.join(",")).each(function(){var i,f,t=n(this);t.parent(".fluid-width-video-wrapper").length||(f=(t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10)),t.attr("id")||(i="fitvid"+Math.floor(999999*Math.random()),t.attr("id",i)),t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*f+"%"),t.removeAttr("height").removeAttr("width"))})})}}(jQuery),function(n){var r={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next Slide",prevText:"Previous Slide",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start Slideshow",stopText:"Stop Slideshow",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},slideshowClass:""};n.fn.MCSlider=function(u){var f,e,w,b,k,ft,et,ot,l,st,d,h,s,c,g,o,nt,ht,ct,lt,at,vt,yt,pt,wt,bt,v,y,p,tt,kt,dt,a,gt,ni,it,rt,ut;return 0!=this.length&&(1<this.length?this.each(function(){n(this).MCSlider(u)}):(f={},e=this,w=n(window).width(),b=n(window).height(),k=function(){f.settings=n.extend({},r,u),f.settings.slideWidth=parseInt(f.settings.slideWidth),f.children=e.children(f.settings.slideSelector),f.children.length<f.settings.minSlides&&(f.settings.minSlides=f.children.length),f.children.length<f.settings.maxSlides&&(f.settings.maxSlides=f.children.length),f.settings.randomStart&&(f.settings.startSlide=Math.floor(Math.random()*f.children.length)),f.active={index:f.settings.startSlide},f.carousel=1<f.settings.minSlides||1<f.settings.maxSlides,f.carousel&&(f.settings.preloadImages="all"),f.minThreshold=f.settings.minSlides*f.settings.slideWidth+(f.settings.minSlides-1)*f.settings.slideMargin,f.maxThreshold=f.settings.maxSlides*f.settings.slideWidth+(f.settings.maxSlides-1)*f.settings.slideMargin,f.working=!1,f.controls={},f.interval=null,f.animProp="vertical"==f.settings.mode?"top":"left",f.usingCSS=f.settings.useCSS&&"fade"!=f.settings.mode&&function(){var t,i=document.createElement("div"),n=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(t in n)if(void 0!==i.style[n[t]])return f.cssPrefix=n[t].replace("Perspective","").toLowerCase(),f.animProp="-"+f.cssPrefix+"-transform",!0;return!1}(),"vertical"==f.settings.mode&&(f.settings.maxSlides=f.settings.minSlides),e.data("origStyle",e.attr("style")),e.children(f.settings.slideSelector).each(function(){n(this).data("origStyle",n(this).attr("style"))}),ft()},ft=function(){e.wrap('<div class="mc-wrapper"><div class="mc-viewport '+f.settings.slideshowClass+'"></div></div>'),f.viewport=e.parent(),f.loader=n('<div class="mc-loading" />'),f.viewport.prepend(f.loader),e.css({width:"horizontal"==f.settings.mode?100*f.children.length+215+"%":"auto",position:"relative"}),f.usingCSS&&f.settings.easing?e.css("-"+f.cssPrefix+"-transition-timing-function",f.settings.easing):f.settings.easing||(f.settings.easing="swing"),h(),f.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),f.viewport.parent().css({maxWidth:st()}),f.settings.pager||f.viewport.parent().css({margin:"0 auto 0px"}),f.children.css({float:"horizontal"==f.settings.mode?"left":"none",listStyle:"none",position:"relative"}),f.children.css("width",d()),"horizontal"==f.settings.mode&&0<f.settings.slideMargin&&f.children.css("marginRight",f.settings.slideMargin),"vertical"==f.settings.mode&&0<f.settings.slideMargin&&f.children.css("marginBottom",f.settings.slideMargin),"fade"==f.settings.mode&&(f.children.css({position:"absolute",zIndex:0,display:"none"}),f.children.eq(f.settings.startSlide).css({zIndex:50,display:"block"})),f.controls.el=n('<div class="mc-controls" />'),f.settings.captions&&at(),f.active.last=f.settings.startSlide==s()-1,f.settings.video&&e.fitVids();var t=f.children.eq(f.settings.startSlide);"all"==f.settings.preloadImages&&(t=f.children),f.settings.ticker?f.settings.pager=!1:(f.settings.pager&&ht(),f.settings.controls&&ct(),f.settings.auto&&f.settings.autoControls&&lt(),(f.settings.controls||f.settings.autoControls||f.settings.pager)&&f.viewport.after(f.controls.el)),et(t,ot)},et=function(n,t){var r,i=n.find('img:not([src=""])').length;0===i?t():(r=0,n.find('img:not([src=""])').each(function(){$(this).one("load error",function(){++r===i&&t()}).each(function(){this.complete&&$(this).trigger("load")})}))},ot=function(){var i,t;f.settings.infiniteLoop&&"fade"!=f.settings.mode&&!f.settings.ticker&&(t="vertical"==f.settings.mode?f.settings.minSlides:f.settings.maxSlides,i=f.children.slice(0,t).clone().addClass("mc-clone").attr("aria-hidden",!0),t=f.children.slice(-t).clone().addClass("mc-clone").attr("aria-hidden",!0),e.append(i).prepend(t)),f.loader.remove(),g(),"vertical"==f.settings.mode&&(f.settings.adaptiveHeight=!0),f.viewport.height(l()),e.redrawSlider(),f.settings.onSliderLoad(f.active.index),f.initialized=!0,f.settings.responsive&&n(window).on("resize",ut),f.settings.auto&&f.settings.autoStart&&kt(),f.settings.ticker&&dt(),f.settings.pager&&v(f.settings.startSlide),f.settings.controls&&tt(),f.settings.touchEnabled&&!f.settings.ticker&&gt()},l=function(){var u,r=0,t=n();if("vertical"==f.settings.mode||f.settings.adaptiveHeight)if(f.carousel)for(u=1==f.settings.moveSlides?f.active.index:f.active.index*c(),t=f.children.eq(u),i=1;i<=f.settings.maxSlides-1;i++)t=u+i>=f.children.length?t.add(f.children.eq(i-1)):t.add(f.children.eq(u+i));else t=f.children.eq(f.active.index);else t=f.children;return"vertical"==f.settings.mode?(t.each(function(){r+=n(this).outerHeight()}),0<f.settings.slideMargin&&(r+=f.settings.slideMargin*(f.settings.minSlides-1))):r=Math.max.apply(Math,t.map(function(){return n(this).outerHeight(!1)}).get()),r},st=function(){var n="100%";return n=0<f.settings.slideWidth?"horizontal"==f.settings.mode?f.settings.maxSlides*f.settings.slideWidth+(f.settings.maxSlides-1)*f.settings.slideMargin:f.settings.slideWidth:n},d=function(){var t=f.settings.slideWidth,n=f.viewport.width();return 0==f.settings.slideWidth||f.settings.slideWidth>n&&!f.carousel||"vertical"==f.settings.mode?t=n/f.settings.minSlides:1<f.settings.maxSlides&&"horizontal"==f.settings.mode&&(n>f.maxThreshold||n<f.minThreshold&&(t=(n-f.settings.slideMargin*(f.settings.minSlides-1))/f.settings.minSlides)),t},h=function(){var t,n=1;return"horizontal"==f.settings.mode&&0<f.settings.slideWidth?n=f.viewport.width()<f.minThreshold?f.settings.minSlides:f.viewport.width()>f.maxThreshold?f.settings.maxSlides:(t=f.children.first().width(),Math.floor(f.viewport.width()/t)):"vertical"==f.settings.mode&&(n=f.settings.minSlides),n},s=function(){var t,i,n=0;if(0<f.settings.moveSlides)if(f.settings.infiniteLoop)n=f.children.length/c();else for(i=t=0;t<f.children.length;)++n,t=i+h(),i+=f.settings.moveSlides<=h()?f.settings.moveSlides:h();else n=Math.ceil(f.children.length/h());return n},c=function(){return 0<f.settings.moveSlides&&f.settings.moveSlides<=h()?f.settings.moveSlides:h()},g=function(){var t,n;f.children.length>f.settings.maxSlides&&f.active.last&&!f.settings.infiniteLoop?"horizontal"==f.settings.mode?(n=(t=f.children.last()).position(),o(-(n.left-(f.viewport.width()-t.width())),"reset",0)):"vertical"==f.settings.mode&&(t=f.children.length-f.settings.minSlides,n=f.children.eq(t).position(),o(-n.top,"reset",0)):(n=f.children.eq(f.active.index*c()).position(),f.active.index==s()-1&&(f.active.last=!0),null!=n&&("horizontal"==f.settings.mode?o(-n.left,"reset",0):"vertical"==f.settings.mode&&o(-n.top,"reset",0)))},o=function(n,t,i,r){var u;f.usingCSS?(u="vertical"==f.settings.mode?"translate3d(0, "+n+"px, 0)":"translate3d("+n+"px, 0, 0)",e.css("-"+f.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==t?(e.css(f.animProp,u),e.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){e.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),y()})):"reset"==t?e.css(f.animProp,u):"ticker"==t&&(e.css("-"+f.cssPrefix+"-transition-timing-function","linear"),e.css(f.animProp,u),e.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){e.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),o(r.resetValue,"reset",0),a()}))):((u={})[f.animProp]=n,"slide"==t?e.animate(u,i,f.settings.easing,function(){y()}):"reset"==t?e.css(f.animProp,n):"ticker"==t&&e.animate(u,speed,"linear",function(){o(r.resetValue,"reset",0),a()}))},nt=function(){for(var i,r="",u=s(),t=0;t<u;t++)i="",f.settings.buildPager&&n.isFunction(f.settings.buildPager)?(i=f.settings.buildPager(t),f.pagerEl.addClass("mc-custom-pager")):(i=t+1,f.pagerEl.addClass("mc-default-pager")),r+='<div class="mc-pager-item"><a data-slide-index="'+t+'" class="mc-pager-link">Slide '+i+"</a></div>";f.pagerEl.html(r)},ht=function(){f.settings.pagerCustom?f.pagerEl=n(f.settings.pagerCustom):(f.pagerEl=n('<div class="mc-pager" />'),f.settings.pagerSelector?n(f.settings.pagerSelector).html(f.pagerEl):f.controls.el.addClass("mc-has-pager").append(f.pagerEl),nt()),f.pagerEl.on("click","a",bt)},ct=function(){f.controls.next=n('<a class="mc-next">'+f.settings.nextText+"</a>"),f.controls.prev=n('<a class="mc-prev">'+f.settings.prevText+"</a>"),f.controls.next.on("click",vt),f.controls.prev.on("click",yt),f.settings.nextSelector&&n(f.settings.nextSelector).append(f.controls.next),f.settings.prevSelector&&n(f.settings.prevSelector).append(f.controls.prev),f.settings.nextSelector||f.settings.prevSelector||(f.controls.directionEl=n('<div class="mc-controls-direction" />'),f.controls.directionEl.append(f.controls.prev).append(f.controls.next),f.controls.el.addClass("mc-has-controls-direction").append(f.controls.directionEl))},lt=function(){f.controls.start=n('<div class="mc-controls-auto-item"><a class="mc-start">'+f.settings.startText+"</a></div>"),f.controls.stop=n('<div class="mc-controls-auto-item"><a class="mc-stop">'+f.settings.stopText+"</a></div>"),f.controls.autoEl=n('<div class="mc-controls-auto" />'),f.controls.autoEl.on("click",".mc-start",pt),f.controls.autoEl.on("click",".mc-stop",wt),f.settings.autoControlsCombine?f.controls.autoEl.append(f.controls.start):f.controls.autoEl.append(f.controls.start).append(f.controls.stop),f.settings.autoControlsSelector?n(f.settings.autoControlsSelector).html(f.controls.autoEl):f.controls.el.addClass("mc-has-controls-auto").append(f.controls.autoEl),p(f.settings.autoStart?"stop":"start")},at=function(){f.children.each(function(){var t=n(this).attr("title");null!=t&&(""+t).length&&n(this).append('<div class="mc-caption"><div>'+t+"</div></div>")})},vt=function(n){f.settings.auto&&e.stopAuto(),e.goToNextSlide(),n.preventDefault()},yt=function(n){f.settings.auto&&e.stopAuto(),e.goToPrevSlide(),n.preventDefault()},pt=function(n){e.startAuto(),n.preventDefault()},wt=function(n){e.stopAuto(),n.preventDefault()},bt=function(t){f.settings.auto&&e.stopAuto();var r=n(t.currentTarget),r=parseInt(r.attr("data-slide-index"));r!=f.active.index&&e.goToSlide(r),t.preventDefault()},v=function(t){var i=f.children.length;return"short"==f.settings.pagerType?(1<f.settings.maxSlides&&(i=Math.ceil(f.children.length/f.settings.maxSlides)),void f.pagerEl.html(t+1+f.settings.pagerShortSeparator+i)):(f.pagerEl.find("a").removeClass("active"),void f.pagerEl.each(function(i,r){n(r).find("a").eq(t).addClass("active")}))},y=function(){var n;f.settings.infiniteLoop&&(n="",0==f.active.index?n=f.children.eq(0).position():f.active.index==s()-1&&f.carousel?n=f.children.eq((s()-1)*c()).position():f.active.index==f.children.length-1&&(n=f.children.eq(f.children.length-1).position()),"horizontal"==f.settings.mode?o(-n.left,"reset",0):"vertical"==f.settings.mode&&o(-n.top,"reset",0)),f.working=!1,f.settings.onSlideAfter(f.children.eq(f.active.index),f.oldIndex,f.active.index)},p=function(n){f.settings.autoControlsCombine?f.controls.autoEl.html(f.controls[n]):(f.controls.autoEl.find("a").removeClass("active"),f.controls.autoEl.find("a:not(.mc-"+n+")").addClass("active"))},tt=function(){1==s()?(f.controls.prev.addClass("disabled"),f.controls.next.addClass("disabled")):!f.settings.infiniteLoop&&f.settings.hideControlOnEnd&&(0==f.active.index?(f.controls.prev.addClass("disabled"),f.controls.next):f.active.index==s()-1?(f.controls.next.addClass("disabled"),f.controls.prev):(f.controls.prev.removeClass("disabled"),f.controls.next)).removeClass("disabled")},kt=function(){0<f.settings.autoDelay?setTimeout(e.startAuto,f.settings.autoDelay):e.startAuto(),f.settings.autoHover&&e.on("hover",function(){f.interval&&(e.stopAuto(!0),f.autoPaused=!0)},function(){f.autoPaused&&(e.startAuto(!0),f.autoPaused=null)})},dt=function(){var t,i=0;"next"==f.settings.autoDirection?e.append(f.children.clone().addClass("mc-clone").attr("aria-hidden",!0)):(e.prepend(f.children.clone().addClass("mc-clone")),t=f.children.first().position(),i="horizontal"==f.settings.mode?-t.left:-t.top),o(i,"reset",0),f.settings.pager=!1,f.settings.controls=!1,f.settings.autoControls=!1,f.settings.tickerHover&&!f.usingCSS&&f.viewport.on("hover",function(){e.stop()},function(){var t=0,i=(f.children.each(function(){t+="horizontal"==f.settings.mode?n(this).outerWidth(!0):n(this).outerHeight(!0)}),f.settings.speed/t),r="horizontal"==f.settings.mode?"left":"top",i=i*(t-Math.abs(parseInt(e.css(r))));a(i)}),a()},a=function(n){speed=n||f.settings.speed,n={left:0,top:0},i={left:0,top:0},"next"==f.settings.autoDirection?n=e.find(".mc-clone").first().position():i=f.children.first().position();var n="horizontal"==f.settings.mode?-n.left:-n.top,i="horizontal"==f.settings.mode?-i.left:-i.top;o(n,"ticker",speed,{resetValue:i})},gt=function(){f.touch={start:{x:0,y:0},end:{x:0,y:0}},f.viewport.on("touchstart",ni)},ni=function(n){f.working?n.preventDefault():(f.touch.originalPos=e.position(),n=n.originalEvent,f.touch.start.x=n.changedTouches[0].pageX,f.touch.start.y=n.changedTouches[0].pageY,f.viewport.on("touchmove",it),f.viewport.on("touchend",rt))},it=function(n){var r,t=n.originalEvent,u=Math.abs(t.changedTouches[0].pageX-f.touch.start.x),e=Math.abs(t.changedTouches[0].pageY-f.touch.start.y);(e<3*u&&f.settings.preventDefaultSwipeX||u<3*e&&f.settings.preventDefaultSwipeY)&&n.preventDefault(),"fade"!=f.settings.mode&&f.settings.oneToOneTouch&&(u=0,u="horizontal"==f.settings.mode?(r=t.changedTouches[0].pageX-f.touch.start.x,f.touch.originalPos.left+r):(r=t.changedTouches[0].pageY-f.touch.start.y,f.touch.originalPos.top+r),o(u,"reset",0))},rt=function(n){var i,t;f.viewport.off("touchmove",it),n=n.originalEvent,f.touch.end.x=n.changedTouches[i=0].pageX,f.touch.end.y=n.changedTouches[0].pageY,"fade"==f.settings.mode?(t=Math.abs(f.touch.start.x-f.touch.end.x))>=f.settings.swipeThreshold&&(f.touch.start.x>f.touch.end.x?e.goToNextSlide():e.goToPrevSlide(),e.stopAuto()):(t=0,i="horizontal"==f.settings.mode?(t=f.touch.end.x-f.touch.start.x,f.touch.originalPos.left):(t=f.touch.end.y-f.touch.start.y,f.touch.originalPos.top),(f.settings.infiniteLoop||!(0==f.active.index&&0<t||f.active.last&&t<0))&&Math.abs(t)>=f.settings.swipeThreshold?(t<0?e.goToNextSlide():e.goToPrevSlide(),e.stopAuto()):o(i,"reset",200)),f.viewport.off("touchend",rt)},ut=function(){var t=n(window).width(),i=n(window).height();/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||w==t&&b==i||(w=t,b=i,e.redrawSlider())},e.goToSlide=function(t,i){var h,r,a,u;f.working||f.active.index==t||(f.working=!0,f.oldIndex=f.active.index,f.active.index=t<0?s()-1:t>=s()?0:t,f.settings.onSlideBefore(f.children.eq(f.active.index),f.oldIndex,f.active.index),"next"==i?f.settings.onSlideNext(f.children.eq(f.active.index),f.oldIndex,f.active.index):"prev"==i&&f.settings.onSlidePrev(f.children.eq(f.active.index),f.oldIndex,f.active.index),f.active.last=f.active.index>=s()-1,f.settings.pager&&v(f.active.index),f.settings.controls&&tt(),"fade"==f.settings.mode?(f.settings.adaptiveHeight&&f.viewport.height()!=l()&&f.viewport.animate({height:l()},f.settings.adaptiveHeightSpeed),f.children.filter(":visible").fadeOut(f.settings.speed).css({zIndex:0}),f.children.eq(f.active.index).css("zIndex",51).fadeIn(f.settings.speed,function(){n(this).css("zIndex",50),y()})):(f.settings.adaptiveHeight&&f.viewport.height()!=l()&&f.viewport.animate({height:l()},f.settings.adaptiveHeightSpeed),r={left:h=0,top:0},!f.settings.infiniteLoop&&f.carousel&&f.active.last?"horizontal"==f.settings.mode?(r=(u=f.children.eq(f.children.length-1)).position(),h=f.viewport.width()-u.outerWidth()):(a=f.children.length-f.settings.minSlides,r=f.children.eq(a).position()):f.carousel&&f.active.last&&"prev"==i?(a=1==f.settings.moveSlides?f.settings.maxSlides-c():(s()-1)*c()-(f.children.length-f.settings.maxSlides),r=(u=e.children(".mc-clone").eq(a)).position()):"next"==i&&0==f.active.index?(r=e.find("> .mc-clone").eq(f.settings.maxSlides).position(),f.active.last=!1):0<=t&&(a=t*c(),r=f.children.eq(a).position()),void 0!==r&&(u="horizontal"==f.settings.mode?-(r.left-h):-r.top,o(u,"slide",f.settings.speed))))},e.goToNextSlide=function(){var n;!f.settings.infiniteLoop&&f.active.last||(n=parseInt(f.active.index)+1,e.goToSlide(n,"next"))},e.goToPrevSlide=function(){var n;!f.settings.infiniteLoop&&0==f.active.index||(n=parseInt(f.active.index)-1,e.goToSlide(n,"prev"))},e.startAuto=function(n){f.interval||(f.interval=setInterval(function(){"next"==f.settings.autoDirection?e.goToNextSlide():e.goToPrevSlide()},f.settings.pause),f.settings.autoControls&&1!=n&&p("stop"))},e.stopAuto=function(n){f.interval&&(clearInterval(f.interval),f.interval=null,f.settings.autoControls)&&1!=n&&p("start")},e.getCurrentSlide=function(){return f.active.index},e.getSlideCount=function(){return f.children.length},e.redrawSlider=function(){f.children.add(e.find(".mc-clone")).outerWidth(d()),f.viewport.css("height",l()),f.settings.ticker||g(),f.active.last&&(f.active.index=s()-1),f.active.index>=s()&&(f.active.last=!0),f.settings.pager&&!f.settings.pagerCustom&&(nt(),v(f.active.index))},e.destroySlider=function(){f.initialized&&(f.initialized=!1,n(".mc-clone",this).remove(),f.children.each(function(){null!=n(this).data("origStyle")?n(this).attr("style",n(this).data("origStyle")):n(this).removeAttr("style")}),null!=n(this).data("origStyle")?this.attr("style",n(this).data("origStyle")):n(this).removeAttr("style"),n(this).unwrap().unwrap(),f.controls.el&&f.controls.el.remove(),f.controls.next&&f.controls.next.remove(),f.controls.prev&&f.controls.prev.remove(),f.pagerEl&&f.pagerEl.remove(),n(".mc-caption",this).remove(),f.controls.autoEl&&f.controls.autoEl.remove(),clearInterval(f.interval),f.settings.responsive)&&n(window).off("resize",ut)},e.reloadSlider=function(n){null!=n&&(u=n),e.destroySlider(),k()},k())),this}}(jQuery),function(){var n=MadCap.CreateNamespace("Slideshow");$(function(){null!=MadCap.Utilities&&null!=MadCap.Utilities.LoadHandlers&&(MadCap.Utilities.LoadHandlers.set("MadCapSlideshow",n.Init),n.Init(document))}),n.Init=function(n){var t=$("html").attr("data-mc-target-type")?function(n,t){return n.attr("data-mc-"+t)}:function(n,t){return n.attr("madcap:"+t.replace("-",""))};$(".MCSlider",n).each(function(i,r){var e,g,f=$(r),u={},r=r.className,c=t(f,"random-start"),l=t(f,"infinite-loop"),a=t(f,"show-captions"),v=t(f,"controls"),o=t(f,"slide-width"),y=t(f,"adaptive-height"),p=t(f,"responsive"),w=t(f,"navigation"),tt=!0,it=!1,i=(u.pagerCustom=null,w&&("Thumbnails"==w&&(it=!0,u.pagerCustom="#mc-pager"+(i+1).toString()),"None"==w)&&(tt=!1),t(f,"auto-hover")),w=t(f,"auto-start"),d=t(f,"auto-controls"),rt=(t(f,"combine-controls"),t(f,"auto-direction")),ut=+t(f,"auto-delay"),ft=t(f,"mode"),et=+t(f,"speed"),ot=+t(f,"pause"),h=+t(f,"slides-displayed"),ct=t(f,"video");r&&(u.slideshowClass=r),c&&("true"==c.toString().toLowerCase()?u.randomStart=!0:"false"==c.toString().toLowerCase()&&(u.randomStart=!1)),l&&("true"==l.toString().toLowerCase()?u.infiniteLoop=!0:"false"==l.toString().toLowerCase()&&(u.infiniteLoop=!1,u.hideControlOnEnd=!0)),a&&("true"==a.toString().toLowerCase()?u.captions=!0:"false"==a.toString().toLowerCase()&&(u.captions=!1)),v&&("true"==v.toString().toLowerCase()?u.controls=!0:"false"==v.toString().toLowerCase()&&(u.controls=!1)),u.pager=tt,u.thumbnails=it,o&&(u.slideWidth=o),y&&("true"==y.toString().toLowerCase()?u.adaptiveHeight=!0:"false"==y.toString().toLowerCase()&&(u.adaptiveHeight=!1)),p&&("true"==p.toString().toLowerCase()?u.responsive=!0:"false"==p.toString().toLowerCase()&&(u.responsive=!1)),r=!1,i&&("true"==i.toString().toLowerCase()?r=u.autoHover=!0:"false"==i.toString().toLowerCase()&&(u.autoHover=!1)),w&&("true"==w.toString().toLowerCase()?r=u.autoStart=!0:"false"==w.toString().toLowerCase()&&(u.autoStart=!1)),d&&("true"==d.toString().toLowerCase()?(u.autoControls=!0,r=u.autoControlsCombine=!0):"false"==d.toString().toLowerCase()&&(u.autoControls=!1,u.autoControlsCombine=!1)),r&&(u.auto=!0),rt&&(u.autoDirection=rt),ut&&(u.autoDelay=ut),ft&&(u.mode=ft),et&&(u.speed=et),ot&&(u.pause=ot),h&&(u.minSlides=h,u.maxSlides=h,u.moveSlides=1,o)&&(c=o.match(/\d+/),l=o.replace(/\d/g,""),u.slideWidth=c/h+l),-1!==navigator.userAgent.indexOf("MSIE")&&(u.preloadImages="all"),u.video=!0,u.useCSS=!1,ct&&(u.video=!1),u.onSliderLoad=function(){$(".MCSlide").css("visibility","visible")},null!=MadCap.Utilities&&MadCap.Utilities.HasRuntimeFileType("Topic")&&"EPUB"!=$("html").attr("data-mc-target-type")&&"EclipseHelp"!=$("html").attr("data-mc-target-type")?MadCap.Utilities.MessageBus.PostMessageRequest(parent,"get-href",null,function(t){var s,i,r;if(t)if(t=new MadCap.Utilities.Url(decodeURIComponent(t[0])),s=new MadCap.Utilities.Url(t.Fragment.substring(1)),e=s.Fragment,g=t.QueryMap.GetItem("Highlight"),e){e=(e=e.substring(1)).replace(".","\\.");try{u.startSlide=$("[name="+e+"]").closest(".MCSlide").index(),u.startSlide<0&&(u.startSlide=0)}catch(h){u.startSlide=0}}else if(g){for(i=g.replace(/"/g,"").split(" "),r=0;r<i.length;r++)""==i[r]&&(i.splice(i[r],1),r--);$(".MCSlide",n).each(function(n,t){for(var f,e,r=0;r<i.length;r++)if(""!=i[r]&&(f=new RegExp("\\b"+i[r]+"\\b","i"),null!=(e=$(t).attr("title"))&&e.match(f)||null!=(e=$(t).text())&&e.match(f)))return u.startSlide=n,!1;u.startSlide<0&&(u.startSlide=0)})}f.MCSlider(u),MadCap.Accessibility&&MadCap.Accessibility.makeAccessibleMCSlideshow(n)}):(f.MCSlider(u),MadCap.Accessibility&&MadCap.Accessibility.makeAccessibleMCSlideshow(n))})}}(),function(){function t(t,u,f,e){var o=[],s=function(t,i,r,u,f){for(var e={Handled:!1,FireResponse:!1},o=0,l=n._MessageHandlerFuncs.length;o<l;o++){var s=n._MessageHandlerFuncs[o],h=s.HandlerFunc,s=s.ContextObj;if(e=null!=s?h.call(s,t,i,r,u,f):h(t,i,r,u,f),handled=e.Handled)break}return e}(t,u,o,f,e);(s=s.Handled?s:function(n,t,i){var e,o,r={Handled:!1,FireResponse:!1};return"DEBUG-AddLine"==n?(n=t[0],MadCap.DEBUG.Log.AddLine(n),r.Handled=!0):"url"==n?(i.push(document.location.href),r.Handled=!0,r.FireResponse=!0):"get-title"==n?(i.push(document.title),r.Handled=!0,r.FireResponse=!0):"navigate"==n?(o=t[0],document.location.href=encodeURI(o),r.Handled=!0):"get-href"==n?(i.push(document.location.href),r.Handled=!0,r.FireResponse=!0):"get-return-url"==n?(o=new MadCap.Utilities.Url(document.location.href),e=null,1<o.Fragment.length&&(e=o.QueryMap.GetItem("returnUrl")),i.push(e),r.Handled=!0,r.FireResponse=!0):"get-parent-window-width"==n?(i.push(window.innerWidth),r.Handled=!0,r.FireResponse=!0):"set-topic-content"==n?(LoadTopicContent(t),r.Handled=!0):"hash-changed"==n?(o=(o=t[0]).substring(1),history.pushState(null,null,document.location.pathname+document.location.hash+"$"+o),r.Handled=!0):"get-csh-id"==n&&(i.push(MadCap.Default.LoadVarMap().GetItem("cshid")),r.Handled=!0,r.FireResponse=!0),r}(t,u,o)).FireResponse&&n._PostMessageResponse(f,t,0<o.length?o:null,e)}MadCap.Utilities.MessageBus={};var n=MadCap.Utilities.MessageBus;n._MessageHandlerFuncs=[],n._MessageInfos=[],n._MessageID=0,n.AddMessageHandler=function(t,i){n._MessageHandlerFuncs.push({HandlerFunc:t,ContextObj:i})},n.PostMessageRequest=function(t,i,r,u){n._MessageInfos[n._MessageID]=u,n._OnMessage("request",i,r,window,n._MessageID),n._MessageID++},n._PostMessageResponse=function(t,i,r,u){n._OnMessage("response",i,r,window,u),n._MessageID++},n._OnMessage=function(i,r,u,f,e){"request"===i?t(r,u,f,e):"response"===i&&null!=n._MessageInfos[e]&&n._MessageInfos[e](u)},n.GetIsCrossFrame=function(){return!1}}(),function(){function v(t){MadCap.DEBUG.Log.AddLine(window.name+"onload"),MadCap.DEBUG.Log.AddLine(window.name+"hash: "+document.location.hash),MadCap.DEBUG.Log.AddLine(window.name+"search: "+document.location.search),$().placeholder&&$("input, textarea").placeholder(),$("a.logo, a.homeLink, a.GenConceptText, a.GlossaryPageLink").on("click",MadCap.Utilities.Url.OnNavigateTopic);var r=$(document.documentElement).attr("data-mc-path-to-help-system"),i="Data/HelpSystem.xml";r&&(i=r+i),MadCap.WebHelp&&MadCap.WebHelp.HelpSystem&&MadCap.WebHelp.HelpSystem.LoadHelpSystem(i).done(function(i){n=i;i=MadCap.Utilities.Url.GetDocumentUrl();1<document.location.hash.length?c():y(i.Query),null!=i.QueryMap.GetItem("cshid")&&a(),function(){var n=MadCap.Utilities.Url.GetDocumentUrl();n.QueryMap.GetItem("q")&&MadCap.SearchHelper.DoSearchOrRedirect(n.Query,null)}(),function(){var i=MadCap.Utilities.Url.GetDocumentUrl().QueryMap.GetItem("skinName");MadCap.SkinHelper.ApplySkinByName(i,n)}(),k(),d(),n.IsResponsive||$("body").addClass("web"),n&&n.IsCentralHosted&&($("html").addClass("central-hosted"),$(".central-dropdown-content-settings").attr("href",o(n.CentralSettingsLink)),$(".central-dropdown-content-logout").attr("href",o(n.CentralLogoutLink))),u(t)})}function y(i){function r(){t(n.DefaultStartTopic+i)}MadCap.LMS&&e?MadCap.LMS.Resume(r):r()}function o(n){var t=new MadCap.Utilities.Url(n).IsAbsolute?document.location.href:new MadCap.Utilities.Url(document.location.href).LocalPath;return MadCap.Utilities.Url.EnsureUrlSafety(n+"?returnUrl=")+encodeURIComponent(t)}function k(){var t=$(".select-skin-button");r||n.IsResponsive&&null!=n.DefaultSkin&&1<n.GetSkins().length?t.on("click",function(t){var i=[],r=new MadCap.Utilities.Url(document.location.href);$.each(n.GetSkins(),function(n,t){t={Title:t.Name,Link:r.PlainPath+"?skinName="+t.SkinID+r.Fragment};i[i.length]=t}),MadCap.TextEffects.CreateToolbarDropdown(i,t.currentTarget,"select-skin-drop-down"),t.preventDefault(),t.stopPropagation()}):t.hide()}function d(){var t=$(".select-language-button");r?t.on("click",function(n){MadCap.TextEffects.CreateDummyToolbarDropdown(t,"select-language-drop-down","Language"),n.preventDefault(),n.stopPropagation()}):n.IsMultilingual?require([n.GetPath()+"../languages.js"],function(i){var r=i.data;1<r.length?t.on("click",function(t){for(var u=[],f=n.GetPath(),e=n.GetCurrentTopicPath(),i=(new MadCap.Utilities.Url(document.location.href),0);i<r.length;i++){var o="../"+r[i].code+"/",o={Title:r[i].full,Link:f+o+e};u[u.length]=o}MadCap.TextEffects.CreateToolbarDropdown(u,t.currentTarget,"select-language-drop-down"),t.preventDefault(),t.stopPropagation()}):t.hide()}):t.hide()}function c(){var n,e;0!=document.location.hash.length&&(MadCap.Utilities.Url.GetDocumentUrl(),e=MadCap.Utilities.Url.CurrentHash(),e=MadCap.Utilities.Url.StripInvalidCharacters(e),MadCap.String.IsNullOrEmpty(e)?document.location.hash="":(e=e.substring(1),n=decodeURIComponent(e),n=MadCap.Utilities.Url.StripInvalidCharacters(n),MadCap.String.Contains(n,"cshid=")||MadCap.String.Contains(n,"searchQuery=")||MadCap.String.Contains(n,"skinName=")?a():MadCap.String.StartsWith(e,MadCap.SearchHelper.SearchPrefixTri)?(e=e.substring(MadCap.SearchHelper.SearchPrefixTri.length),MadCap.SearchHelper.DoSearchOrRedirect(e,null)):MadCap.String.StartsWith(n,"communitysearch-")?(e=n.substring(16),MadCap.SearchHelper.SetSelectedSearchQuery(e),MadCap.SearchHelper.DoSearch(e,null,1,!1,!0,-1,0)):MadCap.String.StartsWith(n,"pulse-")?(e=n.substring(6),MadCap.FeedbackHelper.LoadStream(e)):l(n)))}function l(i){var f,e,u,r=new MadCap.Utilities.Url(i);t(i=n?r.IsAbsolute?n.PreventExternalUrls?n.DefaultStartTopic:(u="",(f=r.Query.indexOf("?"))!=(e=r.Query.lastIndexOf("?"))&&(u=r.Query.substr(f,e)),0!=r.FullPath.indexOf("http://")?n.ContentFolder+r.ToNoQuery().FullPath+(MadCap.String.IsNullOrEmpty(u)?"":u):r.ToNoQuery().FullPath+(MadCap.String.IsNullOrEmpty(u)?"":u)):r.QueryMap.GetItem("tocpath")?(i=n.ContentFolder+r.PlainPath+r.Fragment+"?",r.QueryMap.ForEach(function(n,t){i+=n+"="+encodeURIComponent(t)+"&"}),i.slice(0,-1)):n.ContentFolder+r.ToNoQuery().FullPath:i)}function t(n){var r;e&&(r=new MadCap.Utilities.Url(decodeURIComponent(document.location.href)),i?MadCap.TriPane.LoadFile(n,r):(r=(r=(r=new MadCap.Utilities.Url(r.PlainPath)).IsFolder?r:r.ToFolder()).CombinePath(n),MadCap.Utilities.Url.Navigate(r.FullPath)))}function f(){var n=new MadCap.Utilities.Url(document.location.href),t=new MadCap.Utilities.Dictionary(!0);return $.each([n.QueryMap,n.HashMap],function(n,i){i.ForEach(function(n,i){t.Add(n,i)})}),t}function a(){var i=f(),r=i.GetItem("searchQuery".toLowerCase()),e=i.GetItem("skinName".toLowerCase());if(null!=r)MadCap.SearchHelper.SetSelectedSearchQuery(decodeURIComponent(r)),MadCap.String.ToBool(i.GetItem("firstPick".toLowerCase()),!1)?MadCap.SearchHelper.SearchPane.Search(r,{searchContent:!0}).then(function(n){n=n.content;1<=n.length&&l(n[0].Link.replace(/^(Content)/,""))}):MadCap.SearchHelper.DoSearchOrRedirect(r,e);else{if(null!=(r=i.GetItem("cshid")))return void n.LookupCSHID(r,function(i){var u,o,e=f(),h=e.GetItem("cshid"),e=e.GetItem("skinName".toLowerCase());i.Found?(u=i.Topic,o=new MadCap.Utilities.Url(u),MadCap.Utilities.Url.GetDocumentUrl(),h="?cshid="+h,h+=e?"&skinName="+e:"",t(u=new MadCap.Utilities.Url(o.PlainPath+h+o.Fragment).FullPath)):t(n.DefaultStartTopic),MadCap.SkinHelper.ApplySkinByName(e||i.Skin,n)});i=MadCap.Utilities.Url.GetDocumentUrl(),t(n.DefaultStartTopic+i.Fragment)}MadCap.SkinHelper.ApplySkinByName(e,n)}var n,i,e,r,s,h,u;MadCap.Default=MadCap.CreateNamespace("Default"),MadCap.Default.LoadVarMap=f,MadCap.Default.UpdatePreviewLayout=function(){u()},MadCap.Utilities.HasRuntimeFileType("Default")&&(function(){function n(){console.error("Warning: TriPane code is being run in non-TriPane skin.")}MadCap.TriPane=MadCap.CreateNamespace("TriPane"),$.extend(MadCap.TriPane,{AdjustTabs:n,ShowPane:n,LoadFile:n,SetActivePane:n,LoadPane:n})}(),i=MadCap.Utilities.HasRuntimeFileType("TriPane"),e=i||MadCap.Utilities.IsRuntimeFileType("Default"),r=MadCap.Utilities.HasRuntimeFileType("SkinPreview"),MadCap.Utilities.HasRuntimeFileType("Central"),s=window.innerWidth,h=!0,u=MadCap.Utilities.Debounce(function(){var n=window.innerWidth;MadCap.SkinHelper.OnLayout(s,h),s=n,h=!1},50),MadCap.Utilities.Url.SanitizeHash(),$(v),$(window).on("resize",u),!i&&r||$(window).on("hashchange",function(){MadCap.DEBUG.Log.AddLine(window.name+"onhashchange: "+document.location.hash),MadCap.Utilities.Url.SanitizeHash(),1<document.location.hash.length?c():n&&t(n.DefaultStartTopic)}),n=null,$(document).foundation)&&$(document).foundation()}(),function(){function f(n){return window.matchMedia("only screen and (min-width: "+n+"px)")}function s(){function t(){window.dispatchEvent(f)}var i=$(window).width(),i={bubbles:!1,detail:{medium:r.getLayout(i)}},f=MadCap.Utilities.CreateEvent("mc_changeMedium",i);n.ApplyListenerToTabletMediaQuery(t),n.ApplyListenerToMobileMediaQuery(t)}MadCap.MediaQueries=MadCap.CreateNamespace("MediaQueries");var n=MadCap.MediaQueries,t=null,i=null,r=null,u=MadCap.Utilities.HasRuntimeFileType("SkinPreview");$(function(){MadCap.WebHelp.HelpSystem.LoadHelpSystemDefault().done(function(n){(r=n).IsResponsive&&s()})}),n.ApplyListenerToTabletMediaQuery=function(n,t){var o;null==i&&(o=u?1025:r.Breakpoints.mediums.Tablet,i=f(o)),i.addListener(n),t&&n(i)},n.ApplyListenerToMobileMediaQuery=function(n,i){var e;null==t&&(e=u?761:r.Breakpoints.mediums.Mobile,t=f(e)),t.addListener(n),i&&n(t)}}(),function(){function l(n){n.on("keydown",function(n){var t,i=$(this);40===n.keyCode?t=i.parent().next().children().first():38===n.keyCode&&(t=i.parent().prev().children().first()),t&&t.focus()})}function a(n){ht(n),ct(n),lt(n),at(n),st(n)}function u(n,i){t?v(n,i):h.push({$el:n,altText:i})}function v(n,i){t&&e?(i=$("<img></img>").attr({src:e,alt:i}).addClass("invisible-label"),n.append(i)):Console.error("Error: Tried to add transparentImg before helpSystem was initialized.")}function st(t){t=$(".conceptLink",t);n(t),t.attr("aria-expanded",!1)}function ht(t){$(".MCDropDown",t).each(function(){var t=$(this),i=t.find(".MCDropDownHead > a").first();r(i,t.find(".MCDropDownBody").first(),"mc-dropdown-body"),n(i)})}function ct(t){$(".MCToggler",t).each(function(){var t=$(this),i=t.attr("data-mc-targets");t.attr({"aria-expanded":"false","aria-controls":i}),n(t),$('[data-mc-target-name="'+i+'"]').attr("id",i)})}function lt(t){$(".MCExpanding",t).each(function(){var t=$(this),i=t.find("a.MCExpandingHead").first();r(i,t.find(".MCExpandingBody").first(),"mc-expanding"),n(i)})}function at(t){$(".MCTextPopup",t).each(function(){var t=$(this),i=t.parent().find(".MCTextPopupBody").first(),r=MadCap.Utilities.GenerateRandomGUID();i.attr({role:"tooltip",id:r}),t.attr("data-aria-describedby",r),n(t,function(){t.focus(),i.is(":visible")?t.trigger("mouseleave"):t.trigger("mouseenter")}),t.on("focusout keydown",function(n){n=n.keyCode||n.which;n&&n!=f||t.trigger("mouseleave")})})}function vt(){var t=$("#home"),i=$(".tab");n(t),i.each(function(){var i=$(this),t=i.find("li").first();r(t,i.find(".tabs-panel"),"tripane-side-tab"),t.attr("aria-expanded","false"),n(t)}),$("#sidebarButton").on("click",function(){var i=$("#navigation"),n=i.is(":hidden")?"-1":"0";i.attr("tabindex",n).focus(),t.attr("tabindex",n),$(".tab > ul > li").attr("tabindex",n)}),function(n){n.on("click",function(){"true"===($this=$(this)).attr("aria-expanded")?($this.attr("aria-expanded","false"),$("#navigation").focus()):$this.attr("aria-expanded","true")})}($("#sidebarButton"))}function wt(){$(".skip-to-content").on("click",function(n){n.preventDefault();n=$("#topic");if("none"==n.css("display"))n=$("#results-heading");else if(MadCap.Utilities.IsIE())return void w($("title").text());!function(n){b(n),n.focus()}(n)})}function n(n,t){n.attr("role","button"),n.is("a")&&void 0!==n.attr("href")||n.attr("tabindex",0),t&&n.on("click",function(n){n.preventDefault(),t()}),n.on("keydown",function(n){var t=n.keyCode||n.which;t!=s&&t!=tt||(n.preventDefault(),$(this).click())})}function dt(n){(n=void 0===n?$("[title]:not(.MCSlide)"):n).on("mouseover focusin",function(n){var t=$(this),i=t.attr("title");i&&(t.data("data-title",i).removeAttr("title"),function(n,t,i){t.parent()&&t.parent().is("map")&&(t=$('[usemap="#'+t.parent().attr("id")+'"]')),"mouseover"==i.type?function(n,t,i){var r=i;setTimeout(function(){t.unbind("mousemove"),function(){var i=r.pageX,u=r.pageY+16;y(n,i,u,function(){return i-n.outerWidth()},function(){return u-32})}(),n.fadeIn(250)},350),t.on("mousemove",function(n){r=n})}(n,t,i):function(n,t){var i=t.offset().left,r=t.offset().top+t.outerHeight()-5;y(n,i,r,function(){return i-(n.outerWidth()-t.outerWidth())},function(){return t.offset().top-n.outerHeight()-15}),n.fadeIn(250)}(n,t)}($('<p class="tooltip"></p>').text(i).appendTo("body").css({display:"none"}),t,n))}).on("mouseleave focusout",function(){var n=$(this),t=n.attr("data-current-state"),i=t?n.attr("data-state"+t+"-title"):n.data("data-title");setTimeout(function(){n.attr("title",i)},50),$(".tooltip").remove()})}function y(n,t,i,r,u){var e=i+n.outerHeight(),o=t+n.outerWidth(),f=$(window);f.scrollTop()+f.height()<e&&(i=u()),o>f.width()&&(t=r()),n.css({left:t,top:i})}function r(n,t,i){var r=MadCap.Utilities.GenerateRandomGUID(),i=i?i+r:r;n.attr("aria-controls",i),t.attr("id",i)}function p(n,t){n.on("click",function(){w(t)})}function w(n){var t=$("#tripane-iframe-title");t.attr({tabindex:"-1","aria-hidden":"false"}),t.text(function(n){return i("Topic Frame Description",n,"topic title")}(n)),t.focus()}function o(n,t,i){var r=$("#tripane-iframe-title");n.on(i,function(n){"keyup"===n.type&&n.keyCode!==s||(r.attr({tabindex:"-1","aria-hidden":"false"}),r.text(yi(t())),r.focus())})}function b(n){n.attr("tabindex","-1"),n.one("focusout blur",function(){$(this).removeAttr("tabindex")})}function k(n){n.siblings(".sub-menu").addClass("focus-within-expanded"),n.attr("aria-expanded",!0)}function d(n,i,r){return t.GetLanguageString(n,i,r,"AltText")}function g(n,i,r){return t.GetLanguageString(n,i,r,"Accessibility Label")}function nt(n){return i("Topic Popup Close Button",n,"title")}function yi(n){return i("Search Frame Description",n,"query")}function i(n,t,i,r,u){n=g(n,r,u);return n&&2===(r=n.split("{"+i+"}")).length?r[0]+(t||"")+r[1]:n}const s=13,tt=32,f=27;var e,t,h=[];MadCap.Accessibility=MadCap.CreateNamespace("Accessibility"),MadCap.Accessibility.makeAccessibleButton=n,MadCap.Accessibility.setAriaControls=r,MadCap.Accessibility.appendTransparentImg=u,MadCap.Accessibility.initTextEffectsAccessibility=a,MadCap.Accessibility.initPopupTopicAccessibility=function(n,t,i){var f=nt(),e=$("<span class='CloseTopicPopupButtonContainer'></span>"),u=$("<button tabindex='1' class='CloseTopicPopupButton CloseTopicOuter' aria-label='"+f+"'></button>"),r=$("<button tabindex='3' class='CloseTopicPopupButton CloseTopicInner' aria-label='"+f+"'>&#215;</button>");u.on("focus",function(){r.focus()}),r.on("click",function(){i.Close()}).on("keydown",function(n){9!=(n.keyCode||n.which)||n.shiftKey||t.focus()}),u.append(r),e.append(u),n.prepend(e),t.attr("tabindex","2"),t.focus(),t.on("load",function(){MadCap.Utilities.MessageBus.PostMessageRequest(this.contentWindow,"get-title",null,function(n){n=n[0];n&&r.attr("aria-label",nt(n))})})},MadCap.Accessibility.initTopNavMenuButtons=function(n,t,i,r){var u=$("<button class='topnav-expand showOnFocus'/>");2==r?(u.html("&raquo;"),u.addClass("topnav-expand-toplevel")):2<r&&u.addClass("topnav-expand-submenu"),$(n).append(u),u.attr({"aria-label":i.text(),"aria-expanded":"false","aria-haspopup":"true"}),u[0].hasExpanded=!1,u.on("click",function(n){n.preventDefault();var i=$(this);t.TreeNode_Expand(n),this.hasExpanded?k(i):(setTimeout(function(){k(i)},100),this.hasExpanded=!0)}).on("keyup",function(n){n.keyCode==f&&(u.siblings(".sub-menu").removeClass("focus-within-expanded"),u.attr("aria-expanded",!1))})},MadCap.Accessibility.initTopNavSubmenuAccessibility=function(n,t){var i=n.children(".topnav-expand").attr("aria-expanded","true");r(i,t,"topnav-submenu"),t.find("a, button").focus(function(){var n=$(this).parents(".sub-menu");n.addClass("focus-within-expanded"),n.siblings("button").attr("aria-expanded","true")}).focusout(function(){$(this).parents(".sub-menu").removeClass("focus-within-expanded"),$(this).siblings(".sub-menu").removeClass("focus-within-expanded"),n.trigger("mouseleave")}).on("keydown",function(n){n.keyCode==f&&(n.stopImmediatePropagation(),i.focus())})},MadCap.Accessibility.initMenuDropdownAccessibility=l,MadCap.Accessibility.tripaneTopicFrameSkip=p,MadCap.Accessibility.tripaneGlossarySkip=function(n,t){n.attr("aria-label",function(n){return i("Navigation Panel Item Definition",n,"title")}(t)),n.removeAttr("role"),n.on("blur",function(){n.removeAttr("aria-label")}),p(n,"Topic with"+t)},MadCap.Accessibility.makeAccessibleMCSlideshow=function(t){u($(".mc-prev",t),"previous"),u($(".mc-next",t),"next"),n($(".mc-prev, .mc-next, .mc-stop, .mc-start, .mc-pager-link",t))},MadCap.Accessibility.getPulseLabel=function(){return g("Pulse Frame")},MadCap.Accessibility.getElasticSearchHistoryLabel=function(n,t){return i("Search Auto-complete Item.Search History",n,"term",0<$(t).parents(".mc-component").length,"SearchBar")},MadCap.Accessibility.getElasticSearchContentLabel=function(n,t){return i("Search Auto-complete Item.Project Content",n,"title",0<$(t).parents(".mc-component").length,"SearchBar")},$(document).ready(function(){var i;(function(){var n=$(".title-bar.sticky");0<n.length&&$(".body-container a").on("focus",function(){var t=$(this).offset().top;t<n.offset().top+n.outerHeight()&&window.scrollTo({top:t-(n.outerHeight()+20),behavior:"smooth"})})})(),n($(".search-filter")),n($(".search-submit")),a(),$("thead th").each(function(){void 0===$(this).attr("scope")&&$(this).attr("scope","col")}),$("tbody th").each(function(){void 0===$(this).attr("scope")&&$(this).attr("scope","row")}),MadCap.Utilities.HasRuntimeFileType("TriPane")?(wt(),vt(),function(){var n=$("#search-field"),i=$("#search-field-sidebar"),t=$(".search-submit");o(n,function(){return n.val()},"keyup"),o(i,function(){return n.val()},"keyup"),o(t,function(){return t.val()},"click")}(),n($("div.button")),$("#tripane-iframe-title").on("focusout blur",function(){$(this).attr({tabindex:"","aria-hidden":"true"})})):(u(i=$("a.logo"),i.attr("alt")),i.removeAttr("alt"),function(){var n=$("#mc-main-content");(n=0===(n=0===(n=0===n.length?$("[role='main']"):n).length?$("main"):n).length?$("body"):n).attr({id:"mc-main-content",role:"main"})}(),function(){var n=$(".skip-to-content");n.attr("href","#mc-main-content"),n.on("focusin",function(){var t="-"+n.parent().css("padding-top");n.css("top",t)}).on("focusout",function(){n.css("top","")})}()),function(n){var r,i;n&&(i="Data/HelpSystem.xml",(r=$(document.documentElement).attr("data-mc-path-to-help-system"))&&(i=r+i),MadCap.WebHelp)&&MadCap.WebHelp.HelpSystem&&MadCap.WebHelp.HelpSystem.LoadHelpSystem(i).done(function(i){t=i,n()})}(function(){!function(){var i,t,r,n=$(".expand-all-button");0!==n.length&&(i=0<n.parents(".mc-component").length,t=d("ToolbarItem.ExpandAll",i,"TopicToolbar"),r=d("ToolbarItem.CollapseAll",i,"TopicToolbar"),n.children("img").attr("alt",t),n.on("click",function(){var n=$(this).children("img"),i=n.attr("alt")===t?r:t;n.attr("alt",i)}))}(),e=t.GetTransparentImagePath(),h.forEach(function(n){v(n.$el,n.altText)})}),l($(".mc-dropdown-item")),$("a[href^='#']").on("click",function(){var t=$(this).attr("href").slice(1);""!==t&&"!"!==t&&((t=$("#"+t)).attr("tabindex")||b(t),t.focus())}),dt()})}(),MadCap.WebHelp=MadCap.CreateNamespace("WebHelp"),MadCap.WebHelp.HelpSystem=function(n,t,i,r,u){function k(n){var r=n.parent,t=n.previous,i=n.next;t&&(t.next=i,n.previous=null),i&&(i.previous=t,n.next=null),r&&(i=n.parent.n.indexOf(n),r.n.splice(i,1),n.parent=null)}function d(n){var t=null;if(void 0!==n.n)t=n.n[0];else if(void 0!==n.next)t=n.next;else{for(t=n;void 0!==t.parent;){if(void 0!==t.parent.next){t=t.parent.next;break}t=t.parent}void 0===t.parent&&(t=null)}return t}function g(n,t){var r,e,i="",f=-1,o=t?"%7C":"|",f=n.n&&0<n.n.length?(i=n.toc.entries[n.i].title,t&&(i=encodeURIComponent(i)),0):n.parent.n.indexOf(n)+1;for(0<i.length&&(i+=o),i+="_____"+f,r=n.parent;r&&void 0!==r.i;r=r.parent)0<(i=null==i?"":i).length&&(i=o+i),(e=r.toc.entries[r.i])&&(e=e.title,i=(e=t?encodeURIComponent(e):e)+i);return i}function c(n,t){return nt(n.documentElement.getAttribute(t))}function nt(n){var t;return null==n?null:(t=new MadCap.Utilities.Url(o)).IsAbsolute?t.AddFile(n).ToRelative(document.location.href).FullPath:o+n}function ot(n){for(var s,u,v,i,c=$("CatapultSkin",n.documentElement),f=0,y=c.length;f<y;f++){for(var e=c[f],l=$(e),p=l.attr("SkinID"),o={},t=0,r=e.attributes.length;t<r;t++)o[(i=e.attributes[t]).name]=i.value;for(t=0,r=(s=l.children()).length;t<r;t++){var h=s[t],a={};for(o[h.nodeName]=a,u=0,v=h.attributes.length;u<v;u++)a[(i=h.attributes[u]).name]=i.value}w.Add(p,o)}}var e=this,a=n,o=new MadCap.Utilities.Url(i).ToFolder().ToFolder().FullPath,y=null,f=[],tt=r,it=u,b=null,v=null,p=!1,s=new MadCap.WebHelp.AliasFile(o+"Data/Alias.xml",this),rt=new MadCap.WebHelp.TocFile(this,MadCap.WebHelp.TocFile.TocType.Toc),h=null,ut=new MadCap.WebHelp.TocFile(this,MadCap.WebHelp.TocFile.TocType.BrowseSequence),w=new MadCap.Utilities.Dictionary,l=null;this.TargetType=null,this.DefaultStartTopic=null,this.InPreviewMode=null,this.LiveHelpOutputId=null,this.LiveHelpServer=null,this.LiveHelpEnabled=!1,this.IsWebHelpPlus=!1,this.ContentFolder=null,this.UseCustomTopicFileExtension=!1,this.CustomTopicFileExtension=null,this.IsMultilingual=!1,this.GlossaryUrl=null,this.SearchFilterSetUrl=null,this.SyncTOC=null,this.IndexPartialWordSearch=!0,this.GlossaryPartialWordSearch=!0,this.DefaultSkin=null,this.IsAutoMerged=!1,this.LanguageUrl=null,this.BreakpointsUrl=null,this.PreventExternalUrls=!1,this.IsResponsive=!1,this.SearchUrl=null,this.PulsePage=null,this.ScriptsFolderPath=null,this.LanguageCode=null,this.LanguageName=null,this.IncludeCSHRuntime=null,this.ShowMadCapBacklink=!1,this.LiveHelpServerType=null,this.OutputAnalyticsServer=null,this.OutputAnalyticsId=null,this.IsCentralHosted=!1,this.CentralLogoutLink=null,this.CentralSettingsLink=null,this.Load=function(n){MadCap.Utilities.Xhr.Load(i,!0,function(t){function v(){++a==f.length&&n()}function y(n,t){if(0<f.length)for(var i=0;i<f.length;i++)f[i].Load(n);else t()}var u,w,l,s,g,k,r,a=0;if(p=null!=t){if(this.LanguageCode=t.documentElement.getAttribute("xml:lang"),this.LanguageName=t.documentElement.getAttribute("LanguageName"),this.TargetType=t.documentElement.getAttribute("TargetType"),this.DefaultStartTopic=t.documentElement.getAttribute("DefaultUrl"),this.InPreviewMode=MadCap.Dom.GetAttributeBool(t.documentElement,"InPreviewMode",!1),this.LiveHelpOutputId=t.documentElement.getAttribute("LiveHelpOutputId"),this.LiveHelpServer=t.documentElement.getAttribute("LiveHelpServer"),this.LiveHelpServerType=t.documentElement.getAttribute("LiveHelpServerType"),this.OutputAnalyticsServer=t.documentElement.getAttribute("OutputAnalyticsServer"),this.OutputAnalyticsId=t.documentElement.getAttribute("OutputAnalyticsId"),this.IsCentralHosted=MadCap.Dom.GetAttributeBool(t.documentElement,"IsCentralHosted",!1),this.CentralLogoutLink=t.documentElement.getAttribute("CentralLogoutLink"),this.CentralSettingsLink=t.documentElement.getAttribute("CentralSettingsLink"),this.LiveHelpEnabled="Central"==this.LiveHelpServerType?null!=this.OutputAnalyticsServer:null!=this.LiveHelpOutputId,this.MoveContentToRoot=MadCap.Dom.GetAttributeBool(t.documentElement,"MoveOutputContentToRoot",!1),this.ReplaceReservedCharacters=MadCap.Dom.GetAttributeBool(t.documentElement,"ReplaceReservedCharacters",!1),this.MakeFileLowerCase=MadCap.Dom.GetAttributeBool(t.documentElement,"MakeFileLowerCase",!1),this.PreventExternalUrls=MadCap.Dom.GetAttributeBool(t.documentElement,"PreventExternalUrls",!1),this.IsResponsive=MadCap.Dom.GetAttributeBool(t.documentElement,"EnableResponsiveOutput",!1),this.IncludeGlossarySearchResults=MadCap.Dom.GetAttributeBool(t.documentElement,"IncludeGlossarySearchResults",!0),this.ResultsPerPage=MadCap.Dom.GetAttributeInt(t.documentElement,"ResultsPerPage",20),this.SearchEngine=MadCap.Dom.GetAttribute(t.documentElement,"SearchEngine"),this.IncludeCSHRuntime=MadCap.Dom.GetAttributeBool(t.documentElement,"IncludeCSHRuntime",!0),this.DebugMode=MadCap.Dom.GetAttributeBool(t.documentElement,"DebugMode",!1),this.HasELearning=MadCap.Dom.GetAttributeBool(t.documentElement,"HasELearning",!1),this.FeaturedSnippetsScopeID=MadCap.Dom.GetAttribute(t.documentElement,"FeaturedSnippetsScopeID"),this.KnowledgePanelScopeID=MadCap.Dom.GetAttribute(t.documentElement,"KnowledgePanelScopeID"),this.FeaturedSnippetsResults=MadCap.Dom.GetAttributeInt(t.documentElement,"FeaturedSnippetsResults",1),this.KnowledgePanelResults=MadCap.Dom.GetAttributeInt(t.documentElement,"KnowledgePanelResults",1),"Elasticsearch"==this.SearchEngine&&(w=t.documentElement.getElementsByTagName("Elasticsearch"),this.Elasticsearch=w.item(0)),w=MadCap.Dom.GetAttributeBool(t.documentElement,"ServerEnabled",!1),this.IsWebHelpPlus=("WebHelpPlus"==this.TargetType||w)&&MadCap.String.StartsWith(document.location.protocol,"http",!1),w="",this.MoveContentToRoot||(w="Content/"),this.MakeFileLowerCase&&(w=w.toLowerCase()),u="MicroContent/",this.MakeFileLowerCase&&(u=u.toLowerCase()),this.ContentFolder=w,this.MicroContentFolder=u,this.UseCustomTopicFileExtension=MadCap.Dom.GetAttributeBool(t.documentElement,"UseCustomTopicFileExtension",!1),this.CustomTopicFileExtension=MadCap.Dom.GetAttribute(t.documentElement,"CustomTopicFileExtension"),this.IsMultilingual=MadCap.Dom.GetAttributeBool(t.documentElement,"Multilingual",!1),this.ShowMadCapBacklink=MadCap.Dom.GetAttributeBool(t.documentElement,"ShowMadCapBacklink",!1),this.GlossaryUrl=c(t,"Glossary"),this.TocUrl=c(t,"Toc"),this.SearchUrl=c(t,"SearchUrl"),this.PulsePage=c(t,"PulsePage"),this.BrowseSequencesUrl=c(t,"BrowseSequence"),this.IndexUrl=c(t,"Index"),this.SearchFilterSetUrl=c(t,"SearchFilterSet"),this.LanguageUrl=o+"Data/Language.js",this.BreakpointsUrl=o+"Data/Breakpoints.js",this.ScriptsFolderPath=t.documentElement.getAttribute("PathToScriptsFolder"),this.HasBrowseSequences=null!=t.documentElement.getAttribute("BrowseSequence"),this.HasToc=null!=t.documentElement.getAttribute("Toc"),this.TopNavTocPath="true"==t.documentElement.getAttribute("TopNavTocPath"),this.LiveHelpServerType=t.documentElement.getAttribute("LiveHelpServerType"),this.OutputAnalyticsServer=t.documentElement.getAttribute("OutputAnalyticsServer"),ot.call(this,t),this.DefaultSkin=this.GetSkin($(t.documentElement).attr("SkinID")),this.SyncTOC=null!=this.DefaultSkin&&MadCap.String.ToBool(this.DefaultSkin.AutoSyncTOC,!1),this.IndexPartialWordSearch=null==this.DefaultSkin||MadCap.String.ToBool(this.DefaultSkin.IndexPartialWordSearch,!0),this.GlossaryPartialWordSearch=null==this.DefaultSkin||MadCap.String.ToBool(this.DefaultSkin.GlossaryPartialWordSearch,!0),this.DisplayCommunitySearchResults=null==this.DefaultSkin||MadCap.String.ToBool(this.DefaultSkin.DisplayCommunitySearchResults,!0),this.CommunitySearchResultsCount=3,null!=this.DefaultSkin&&(this.CommunitySearchResultsCount=MadCap.String.ToInt(this.DefaultSkin.CommunitySearchResultsCount,3)),0<(w=t.getElementsByTagName("Subsystems")).length&&0<w[0].getElementsByTagName("Url").length)for(l=t.getElementsByTagName("Subsystems")[0].getElementsByTagName("Url"),s=0;s<l.length;s++)(r=l[s])&&(k=(k=r.getAttribute("Source")).substring(0,k.lastIndexOf("/")+1),g=r.getAttribute("TocPath"),r=r.getAttribute("BrowseSequencePath"),k=new MadCap.WebHelp.HelpSystem(this,o+k,o+k+"Data/HelpSystem.xml",g,r),f.push(k));this.LoadBreakpoints(function(){e.LoadLanguage(function(){!e.IsAutoMerged&&e.IsWebHelpPlus?MadCap.Utilities.Xhr.CallWebService(e.GetPath()+"Service/Service.asmx/GetSubsystems",!0,function(t){t&&$.each(t.documentElement.childNodes,function(n,t){"Subsystems"==t.nodeName&&$.each(t.childNodes,function(n,t){"Url"==t.nodeName&&(t=(t=t.getAttribute("Source")).substring(0,t.lastIndexOf("/")+1))&&((t=new MadCap.WebHelp.HelpSystem(e,o+t,o+t+"Data/HelpSystem.xml",null,null)).IsAutoMerged=!0,f.push(t))})}),y(v,n)}):y(v,n)})})}else n()},null,this)},this.GetExists=function(){return p},this.GetMasterHelpSystem=function(){for(var t=this,n=t.GetParentSubsystem();null!=n;n=n.GetParentSubsystem())t=n;return t},this.GetParentSubsystem=function(){return a},this.GetPath=function(){return o},this.GetCurrentTopicPath=function(){return MadCap.Utilities.Url.GetDocumentUrl().ToRelative(MadCap.Utilities.Url.GetAbsolutePath(o)).FullPath},this.GetAbsolutePath=function(){var n;return null==y&&(n=new MadCap.Utilities.Url(o),y=n.IsAbsolute?n.FullPath:new MadCap.Utilities.Url(document.location.href).Path),y},this.GetContentPath=function(){return o+this.ContentFolder},this.GetSkin=function(n){return w.GetItem(n)},this.GetSkinByName=function(n){for(var i,r=this.GetSkins(),t=0;t<r.length;t++)if((i=r[t]).Name==n)return i;return null},this.GetCurrentSkin=function(){var i=MadCap.Utilities.Url.GetDocumentUrl(),r=i.QueryMap.GetItem("skinName")||i.HashMap.GetItem("skinName");return r?this.GetSkin(r)||this.GetSkinByName(r):(r=i.QueryMap.GetItem("cshid"))&&(i=s.LookupID(r)).Skin?this.GetSkin(i.Skin)||this.GetSkinByName(i.Skin):this.DefaultSkin},this.GetAppliedSkinPath=function(n){var r=new MadCap.Utilities.Url(document.location.href),i=this.GetCurrentSkin(),f=0<new MadCap.Utilities.Url(n).QueryMap.GetLength()?"&":"?",f=this.DefaultSkin!==i?f+"skinName="+i.SkinID:"",i=r.ToFolder().CombinePath(n);return i.PlainPath+i.Query+f+i.Fragment},this.GetTocPath=function(n){return"toc"==n?tt:it},this.GetFullTocPath=function(n,t){var i,t=this.GetHelpSystem(t);return null==t?null:((i={}).tocPath=this.GetTocPath(n),t.ComputeTocPath(n,i),i.tocPath)},this.GetTopicPath=function(n,t){var f=this.GetPath(),r=this.GetMasterHelpSystem(),u=new MadCap.Utilities.Url(document.location.href).ToPath(),f=u.CombinePath(f+"Data/").CombinePath(n).ToRelative(u);return f=t||!MadCap.Utilities.HasRuntimeFileType("TriPane")||r.MoveContentToRoot?f:f.ToRelative(r.ContentFolder)},this.GetTransparentImagePath=function(){return this.GetPath()+"Skins/Default/Stylesheets/Images/transparent.gif"},this.GetPatchedPath=function(n){return this.ReplaceReservedCharacters&&(n=MadCap.Utilities.Url.ReplaceReservedCharacters(n,"_")),this.MakeFileLowerCase&&(n=n.toLowerCase()),n=this.UseCustomTopicFileExtension?new MadCap.Utilities.Url(n).ToExtension(this.CustomTopicFileExtension).FullPath:n},this.GetAbsoluteTopicPath=function(n){n=new MadCap.Utilities.Url(n);return new MadCap.Utilities.Url(document.location.href).ToPlainPath().CombinePath(this.GetTopicPath("../"+n.FullPath).FullPath)},this.ComputeTocPath=function(n,t){var i;a&&(i=this.GetTocPath(n),MadCap.String.IsNullOrEmpty(i)||(t.tocPath=t.tocPath?i+"|"+t.tocPath:i),a.ComputeTocPath(n,t))},this.GetHelpSystem=function(n){for(var t,i=0;i<f.length;i++)if(null!=(t=f[i].GetHelpSystem(n)))return t;return MadCap.String.StartsWith(n,o,!1)?this:null},this.GetSubsystem=function(n){return f[n]},this.GetTestData=function(){function u(){return{testData:{numOfTopics:1,nonTestQuestionAnswer:{},testQuestionAnswer:{},lastTopics:{},unlinkedEntries:[]},testTopics:[],resultsConfig:f()}}function f(n){return n&&n.tr?{ShowPassFail:"1"===n.tr.pf,ShowScore:"1"===n.tr.s,UsePercentage:"1"===n.tr.p,ShowQuestions:"1"===n.tr.q,ShowUserAnswers:"1"===n.tr.ua,ShowCorrectAnswers:"1"===n.tr.ca,ShowQuestionFeedback:"1"===n.tr.rf}:{ShowPassFail:!0,ShowScore:!0,UsePercentage:!0,ShowQuestions:!0,ShowUserAnswers:!0,ShowCorrectAnswers:!0,ShowQuestionFeedback:!0}}function t(n){var t,r,i={};for(t in n)r=o(t),i[r]=n[t];return i}function o(t){t=n.GetPath()+encodeURI(t);return MadCap.Utilities.Url.GetAbsolutePath(t)}function i(n){var r,t,i,u={};for(r in n)for(id in(t=n[r]).questions)i=t.questions[id],i.title=t.title,i.sourceUrl=r,u[id]=i;return u}var r,n=this;if(!h){if(h=$.Deferred(),!n.HasELearning)return h.resolve(u()),h.promise();r=n.GetPath()+"Data/test_data.js",require([r],function(n){h.resolve(function(n){var r=t(n.testTopics),u=t(n.nonTestTopics),o=t(n.nonTocTopics),e=Object.keys(r),s=Object.keys(u),r={passedUrl:n.testData.p,failedUrl:n.testData.f,passScore:n.testData.s/100,percComplete:parseInt(n.testData.pc)/100,title:n.testData.n,description:n.testData.d,id:n.testData.id,max:n.testData.m,randomize:"true"===n.testData.ra,testRetries:parseInt(n.testData.tr),testQuestionAnswer:i(r),nonTestQuestionAnswer:i(u),nonTocQuestionAnswer:i(o),lastTopics:n.testData.lt,numOfTopics:n.testData.nt,unlinkedEntries:n.testData.ut},u=f(n);return{useQuizForSuccess:n.q,numTopics:e.length+s.length,testTopics:e,testData:r,resultsConfig:u}}(n))},function(){console.log("Test Data not loaded."),h.resolve(u())})}return h.promise()},this.GetMergedAliasIDs=function(n){s.Load(function(){function r(t){for(var r=0,f=t.length;r<f;r++)i[i.length]=t[r];++e==u+1&&n(i)}var t,i=[],u=f.length,e=0;for(r(s.GetIDs()),t=0;t<u;t++)f[t].GetMergedAliasIDs(r)})},this.GetMergedAliasNames=function(n){s.Load(function(){function u(t){for(var u=0,f=t.length;u<f;u++)i[i.length]=t[u];++e==r+1&&n(i)}var t,i=[],r=f.length,e=0;for(u(s.GetNames()),t=0,r=f.length;t<r;t++)f[t].GetMergedAliasNames(u)})},this.LookupCSHID=function(n,t){s.Load(function(){function c(n){u||(o++,n.Found?(u=!0,t(n)):o==h&&t(i))}var u,o,r,h,i=s.LookupID(n);if(i.Found)i.Topic=e.GetPath()+i.Topic,t(i);else if(0==f.length)t(i);else for(u=!1,r=o=0,h=f.length;r<h;r++)f[r].LookupCSHID(n,c)})},this.GetTocFile=function(){return rt},this.GetBrowseSequenceFile=function(){return ut},this.IsMerged=function(){return 0<f.length},this.IsRoot=function(){return null==a},this.IsTabletLayout=function(n){return this.isGivenLayout("Tablet",n)},this.getLayout=function(n){return this.isGivenLayout("Mobile",n)?"Mobile":this.isGivenLayout("Tablet",n)?"Tablet":"Web"},this.isGivenLayout=function(n,t){var r;return!(!this.IsResponsive||!this.Breakpoints)&&(n=this.Breakpoints.mediums[n],"max-width"==(r=this.Breakpoints.prop)?(t=t||window.innerWidth)<=n:window.matchMedia("("+r+": "+n+"px)").matches)},this.ProcessMicroContentXhtml=function(n,t){var n=MadCap.Utilities.SanitizeHtml("<div>"+n+"</div>"),t=new MadCap.Utilities.Url(t).ToFolder(),u=MadCap.Utilities.HasRuntimeFileType("TriPane");return MadCap.Utilities.FixLinks(n,t,u?"#":"",this.ContentFolder)},this.LoadLanguage=function(n,t){var i=this;require([this.LanguageUrl],function(r){i.Language=r,n.call(t,r)})},this.LoadBreakpoints=function(n,t){var i;this.IsResponsive&&this.IsRoot()?(i=this,require([this.BreakpointsUrl],function(r){i.Breakpoints=r,n.call(t,r)})):n.call(t,null)},this.LoadConcepts=function(){var n=$.Deferred();return require([o+"Data/Concepts.js"],function(t){v=t,n.resolve(v)}),n.promise()},this.LoadAllConcepts=function(n){function i(){++u==e+1&&n()}var t,r,u=0,e=f.length;for(this.LoadConcepts().then(i),t=0;t<e;t++)(r=f[t]).GetExists()?r.LoadAllConcepts(i):i()},this.GetConceptsLinks=function(n){var s,r,u,e,i=$.Deferred(),t=[];if(this.IsWebHelpPlus){function r(n){for(var f=n.documentElement.getElementsByTagName("Url"),s=f.length,u=0;u<s;u++){var e=f[u],h=e.getAttribute("Title"),e=o+("/"==(e=e.getAttribute("Source")).charAt(0)?e.substring(1,e.length):e);t[t.length]={Title:h,Link:e}}i.resolve(t)}MadCap.Utilities.Xhr.CallWebService(o+"Service/Service.asmx/GetTopicsForConcepts?Concepts="+n,!0,r)}else{function o(n){t=t.Union(n)}if(""==(n=n.replace("\\;","%%%%%")))i.resolve(t);else{for(s=n.split(";"),(r=[]).push(this.GetConceptsLinksLocal(s).then(o)),u=0;u<f.length;u++)(e=f[u]).GetExists()&&r.push(e.GetConceptsLinks(n).then(o));$.when.apply(this,r).done(function(){i.resolve(t)})}}return i.promise()},this.GetConceptsLinksLocal=function(n){for(var t,u,i=[],f=[],r=0;r<n.length;r++)t=(t=n[r]).replace("%%%%%",";"),f.push(this.GetConceptLinks(t).then(function(n){i=i.concat(n)}));return u=$.Deferred(),$.when.apply(this,f).done(function(){u.resolve(i)}),u.promise()},this.LoadTopicChunk=function(n){var t=$.Deferred();return MadCap.Utilities.Require([o+"Data/SearchTopic_Chunk"+n+".js"],function(n){t.resolve(n)}),t.promise()},this.GetSearchChunkIds=function(n){var t=$.Deferred();return MadCap.Utilities.Require([o+"Data/Search.js"],function(i){for(var f=i.t,u=[],r=0;r<n.length;r++)u.push(MadCap.Utilities.GetChunkId(f,n[r],function(n,t){return n<t?-1:n===t?0:1}));t.resolve(u)}),t.promise()},this.GetConceptLinks=function(n){var t=$.Deferred(),i=this;return this.LoadConcepts().done(function(){var u=[],r=v[n];r?i.GetSearchChunkIds(r).then(function(n){for(var o,e=[],f=0;f<n.length;f++)o=n[f],e.push(i.LoadTopicChunk(o).then(function(n){for(var t,f=0;f<r.length;f++)(t=n[r[f]])&&(t.Url=i.GetTopicPath(t.u),u.push(t))}));$.when.apply(this,e).done(function(){t.resolve(u)})}):t.resolve(u)}),t.promise()},this.LoadToc=MadCap.Utilities.Memoize(function(n){var t=$.Deferred(),i=n[0],n=n[1];return this.GetToc(i,n,function(n){t.resolve(n)}),t.promise()}),this.GetToc=function(n,t,i){var r=this,u=this[n+"Url"];t&&(u=nt(t)),require([u],function(t){var v,h,e,c,l,a,o,s;if(void 0===t||r[n]&&t.chunks)i(t);else{for((r[n]=t).type=n,t.helpSystem=r,t.chunks=[],t.entries=[],t.nodes={},v=new MadCap.Utilities.Url(u).ToFolder(),h=0;h<t.numchunks;h++)t.chunks[h]={path:v.AddFile(t.prefix+h+".js").FullPath,loaded:!1};for(e=t.tree,c={},t.automerge=t.tree;null!=e;){if(e.toc=t,e.childrenLoaded=!1,void 0!==(t.nodes[e.i]=e).m&&(c[e.m]=e),void 0!==e.a&&(t.automerge=e),void 0!==e.n)for(o=0;o<e.n.length;o++)o<(e.n[o].parent=e).n.length-1&&(e.n[o].next=e.n[o+1]),0<o&&(e.n[o].previous=e.n[o-1]);e=d(e)}for(a=!(l=[]),o=0;o<f.length;o++)(s=f[o]).GetExists()?(s.IsAutoMerged?a=!0:s.MergeNode=c[o],!s.IsAutoMerged&&void 0===s.MergeNode||l.push(s)):k(c[o]);a||"replace"!=t.automerge.a||k(t.automerge),0==l.length?i(t):MadCap.Utilities.AsyncForeach(l,function(n,i){!function(n,t,i){t.GetToc(n.type,null,function(r){var f,h,e,c,s;if(void 0!==r&&(f=t.IsAutoMerged?n.automerge:t.MergeNode,void 0!==(h=r.tree).n&&void 0!==f)){var r=1==f.r||t.IsAutoMerged&&"replace"==f.a,a=r||t.IsAutoMerged&&("before-head"==f.a||"after-head"==f.a),v=r||t.IsAutoMerged&&("before-head"==f.a||"after-tail"==f.a),u=v?f.parent:f;for(void 0===u.n&&(u.n=[]),e=v?u.n.indexOf(f)+(a?0:1):a?0:u.n.length,c=h.n.length,s=0;s<c;s++)(h.n[s].parent=u).n.splice(e+s,0,h.n[s]);r&&u.n.splice(e+c,1),0<e&&(u.n[e].previous=u.n[e-1],u.n[e-1].next=u.n[e]),0<=(v=e+c-(r?1:0)-1)&&1+v<u.n.length&&(u.n[v].next=u.n[1+v],u.n[1+v].previous=u.n[v]),t.IsAutoMerged&&(n.automerge=u.n[e+c-1],n.automerge.a="after-tail")}i()})}(t,n,i)},function(){i(t)})}})},this.LoadTocChunk=function(n,t){var i=$.Deferred();return require([n.chunks[t].path],function(r){var u,f;if(!n.chunks[t].loaded){for(u in r)for(f=0;f<r[u].i.length;f++)n.entries[r[u].i[f]]={link:u,title:r[u].t[f],bookmark:r[u].b[f]};n.chunks[t].loaded=!0}return i.resolve(r)}),i.promise()},this.GetTocEntryHref=function(n,t,i,r){var u,y,w,f,e=null,a=n.toc,c=a.entries[n.i];return c&&(c=c.link+c.bookmark,void 0===n.m)&&"___"!=c&&(f=null,u=new MadCap.Utilities.Url(c),y=(a=a.helpSystem).GetPath(),a=a.GetMasterHelpSystem().GetContentPath(),w=void 0!==n.f,f=u.IsAbsolute?u:MadCap.String.IsNullOrEmpty(y)?u=u.ToRelative("/"+a):(u=new MadCap.Utilities.Url(y).CombinePath(c)).ToRelative(a),e=w||!i?f.IsAbsolute?f.FullPath:a+f.FullPath:MadCap.Utilities.HasRuntimeFileType("TriPane")?"#"+f.FullPath:u.FullPath),null!=e&&t&&r&&(y="topic"==window.name&&!MadCap.Utilities.HasRuntimeFileType("Default"),c=g(n,!0),MadCap.Utilities.HasRuntimeFileType("TriPane")?e+=encodeURI("?"+t+"Path="+c):(w=new MadCap.Utilities.Url(e),e=y?w.PlainPath+encodeURI("?"+t+"Path="+c)+w.Fragment:w.PlainPath+"?"+t+"Path="+c+w.Fragment)),e},this.LoadTocDataFromQuery=function(){var t=this.GetMasterHelpSystem(),f=t.GetContentPath(),n=new MadCap.Utilities.Url(document.location.href);return n.isFolder&&(t=new MadCap.Utilities.Url(t.DefaultStartTopic).Extension,n=n.AddFile("default."+t)),t=n.ToFolder().CombinePath(f),f=n.ToRelative(t),this.GetTocData(new MadCap.Utilities.Url(f.FullPath))},this.GetTocData=function(n){var o,s,f,i=null,r=null,u=null,t=MadCap.Utilities.HasRuntimeFileType("TriPane");return t&&!MadCap.String.IsNullOrEmpty(n.Fragment)&&1<n.Fragment.length||!t?(null!=(r=(f=!t||n.QueryMap.GetItem("TocPath")||n.QueryMap.GetItem("BrowseSequencesPath")||MadCap.String.IsNullOrEmpty(n.Fragment)?n:new MadCap.Utilities.Url(n.Fragment)).QueryMap.GetItem("TocPath"))?i="Toc":null!=(u=f.QueryMap.GetItem("BrowseSequencesPath"))&&(i="BrowseSequences"),null==n.HashMap.GetItem("cshid")&&(f="",(o=n.Query.indexOf("?"))!=(s=n.Query.lastIndexOf("?"))&&(f=n.Query.substr(o,s)),t&&(n=new MadCap.Utilities.Url(n.Fragment.substr(1))),MadCap.String.IsNullOrEmpty(f)||(n.Query=f))):n=new MadCap.Utilities.Url(this.DefaultStartTopic).ToRelative(this.GetContentPath()),{TocType:i,TocPath:r,BrowseSequencesPath:u,Href:n}},this.FindTocNode=function(n,t,i,r){e.FindNode("Toc",n,t,i,r)},this.FindBrowseSequenceNode=function(n,t,i){e.FindNode("BrowseSequences",n,t,i)},this.FindNode=function(n,t,i,r,u){e.FindNodeInToc(n,t,i,r,u,!0)},this.FindNodeInToc=function(n,t,i,r,u,o){e.LoadToc([n,u]).then(function(u){var h,c,l=new MadCap.Utilities.Url(e.GetMasterHelpSystem().GetContentPath()),s=i,a=0;for(i.IsAbsolute||(s=(s=MadCap.String.IsNullOrEmpty(l.FullPath)?i:l.CombinePath(i)).ToRelative(e.GetPath()),s=new MadCap.Utilities.Url("/"+s.FullPath)),c=1;c<u.chunkstart.length;c++)u.chunkstart[c]<=decodeURIComponent(s.PlainPath)&&a++;e.LoadTocChunk(u,a).then(function(e){var a,y,v,c,l=e[decodeURIComponent(s.PlainPath)];if(void 0!==l){if(a=[],h=h||u.nodes[l.i[0]],t)for(y=MadCap.Utilities.HasRuntimeFileType("TriPane"),c=0;c<l.i.length;c++)v=g(u.nodes[l.i[c]]),(y||MadCap.Topic.IsEmbeddedTopic()?v:MadCap.Utilities.Url.GetSafetyProcessedComponent(v))==t&&a.push(l.i[c]);else for(c=0;c<l.i.length;c++)l.b[c].toLowerCase()==decodeURIComponent(s.Fragment).toLowerCase()&&a.push(l.i[c]);if(a.length)return void r(u.nodes[a.pop()])}0<f.length&&o?MadCap.Utilities.AsyncForeach(f,function(u,f){u.FindNode(n,t,i,function(n){void 0!==n?r(n):f()})},function(){r(h)}):r(h)})})},this.NodeDepth=function(n){for(var t=1;n.parent&&void 0!==n.c;)t++,n=n.parent;return t},this.LoadGlossary=function(n,t){var i;void 0!==this.Glossary?n.call(t,this.Glossary):(i=this).GetGlossary(function(r){var u,f;if(r&&r.terms)for(r.termMap=Object.create(null),u=0;u<r.terms.length;u++)f=r.terms[u],r.termMap[f.t.toLowerCase()]=f;i.Glossary=r,n.call(t,r)})},this.GetGlossary=function(n){var t=this;require([this.GlossaryUrl],function(i){function l(){++h==o&&n(i)}var h,o,c,s,r,u;if(void 0===i)n(i);else{for(o=h=0,i.chunks=[],c=new MadCap.Utilities.Url(e.GlossaryUrl).ToFolder(),s=0;s<i.numchunks;s++)i.chunks.push({helpSystem:t,path:c.AddFile(i.prefix+s+".js").FullPath});for(r=0;r<f.length;r++)(u=f[r]).GetExists()&&o++;if(0==o)n(i);else for(r=0;r<f.length;r++)(u=f[r]).GetExists()&&function(n,t,i){t.GetGlossary(function(t){var u,r,e;if(void 0!==t){for(n.chunks=n.chunks.concat(t.chunks),r=u=0;u<n.terms.length&&r<t.terms.length;){var h=n.terms[u],f=t.terms[r],h=h.t,s=f.t;h.toLowerCase()==s.toLowerCase()?(u++,r++):h.toLowerCase()>s.toLowerCase()?(f.c+=n.numchunks,n.terms.splice(u,0,f),r++):u++}for(;r<t.terms.length;r++)(e=t.terms[r]).c+=n.numchunks,n.terms.push(e);n.numchunks=n.chunks.length}i()})}(i,u,l)}})},this.SearchGlossary=function(n){var t=$.Deferred();return this.LoadGlossary(function(i){var r,f,u=!1;i&&i.termMap&&(u=void 0!==(r=i.termMap[n.toLowerCase()]))&&(f=i.chunks[r.c],require([f.path],function(n){var e,i={term:r.t,definition:n[r.t].d,link:n[r.t].l};i.link?(n=f.helpSystem,e=new MadCap.Utilities.Url("../").CombinePath(i.link).FullPath,i.link=n.GetTopicPath(e).FullPath,n.SearchDB.LoadTopicByUrl(e).done(function(n,r){r&&(i.abstractText=r.a),t.resolve(i)})):t.resolve(i)})),u||t.resolve()},this),t.promise()},this.LoadIndex=function(n,t){var i;void 0!==this.Index?n.call(t,this.Index):(i=this).GetIndex(function(r){i.Index=r,n.call(t,r)})},this.GetIndex=function(n){var t=this;require([this.IndexUrl],function(i){function l(){++h==o&&n(i)}var h,o,c,s,r,u;if(void 0===i)n(i);else{for(o=h=0,i.chunks=[],c=new MadCap.Utilities.Url(e.IndexUrl).ToFolder(),s=0;s<i.numchunks;s++)i.chunks.push({helpSystem:t,path:c.AddFile(i.prefix+s+".js").FullPath});for(r=0;r<f.length;r++)(u=f[r]).GetExists()&&o++;if(0==o)n(i);else for(r=0;r<f.length;r++)(u=f[r]).GetExists()&&function(n,t,i){t.GetIndex(function(t){var e,f,h,c;if(void 0!==t){for(n.chunks=n.chunks.concat(t.chunks),f=e=0;e<n.terms.length&&f<t.terms.length;){var r=n.terms[e],u=t.terms[f],o=r.s||r.t,s=u.s||u.t;o==s&&r.t==u.t?("number"==typeof r.c&&(r.c=[r.c]),h=u.c,"number"==typeof u.c&&(h=[u.c]),$.each(h,function(t,i){r.c.push(i+n.numchunks)}),r.$=1===r.$&&1===u.$?1:0,e++,f++):o.toLowerCase()>s.toLowerCase()||o.toLowerCase()==s.toLowerCase()&&r.t.toLowerCase()>u.t.toLowerCase()?(u.c+=n.numchunks,n.terms.splice(e,0,u),f++):e++}for(;f<t.terms.length;f++)(c=t.terms[f]).c+=n.numchunks,n.terms.push(c);n.numchunks=n.chunks.length}i()})}(i,u,l)}})},this.LoadRootIndexEntry=function(n,t){n.loaded?t&&t(n):this.LoadIndex(function(i){var r="number"==typeof n.c?[n.c]:n.c;MadCap.Utilities.AsyncForeach(r,function(t,r){var u=i.chunks[t];require([u.path],function(t){t=t[n.t];e.SetIndexEntryHelpSystem(t,u.helpSystem),e.MergeIndexEntries(n,t),r()})},function(){e.LoadIndexEntry(n),t&&t(n)})})},this.SetIndexEntryHelpSystem=function(n,t){n.l&&$.each(n.l,function(n,i){i.helpSystem=t}),n.e&&$.each(n.e,function(n,i){e.SetIndexEntryHelpSystem(i,t)})},this.LoadIndexEntry=function(n){var t;n.l&&(t=[],$.each(n.l,function(n,i){i={Title:i.t,Link:i.helpSystem.GetTopicPath(".."+i.u).FullPath};t[t.length]=i}),n.linkList=e.SortLinkList(t)),n.e&&$.each(n.e,function(n,t){e.LoadIndexEntry(t)}),n.loaded=!0},this.MergeIndexEntries=function(n,t){var i,r;t.l&&(n.l=void 0===n.l?t.l:n.l.concat(t.l)),t.r&&(void 0===n.r?n.r=t.r:"SeeAlso"!=n.r&&"SeeAlso"!=t.r||(n.r="SeeAlso"),void 0===n.f?n.f=t.f:(i=n.f.split(";"),r=t.f.split(";"),$.each(r,function(n,t){$.inArray(i,t)&&i.push(t)}),i.sort(function(n,t){n=n.toLowerCase(),t=t.toLowerCase();return n<t?-1:t<n?1:0}),n.f=i.join("; "))),t.e&&(void 0===n.e&&(n.e={}),$.each(t.e,function(t,i){void 0!==n.e[t]?e.MergeIndexEntries(n.e[t],i):n.e[t]=i}))},this.FindIndexEntry=function(n,t){e.LoadIndex(function(i){i.entries||(i.entries={},$.each(i.terms,function(n,t){i.entries[t.t]=t}));var r=n.split(":"),f=r.length,u=i.entries[r[0]];u?e.LoadRootIndexEntry(u,function(n){for(var i=n,u=1;u<f&&(i=i.e[r[u]]);u++);t&&t(n,i)}):t&&t()})},this.SortLinkList=function(n){return n.sort(function(n,t){n=n.Title.toLowerCase(),t=t.Title.toLowerCase();return n<t?-1:t<n?1:0}),n},this.GetSearchDBs=function(n){var t=[],i=this;require([o+"Data/Search.js"],function(r){function o(i){if(null!=i)for(var r=0;r<i.length;r++)t[t.length]=i[r];++s==u&&n(t)}var s=0,u=f.length,e=new MadCap.WebHelp.Search.SearchDB(i);i.SearchDB=e,(t[t.length]=e).Load(r,function(){var i,e;if(r.pm||0==u)n(t);else for(i=0;i<u;i++)(e=f[i]).GetExists()?e.GetSearchDBs(o):o(null)})})},this.GetConcepts=function(){return v},this.GetSearchFilters=function(){return b.map},this.ParseSearchFilterDoc=function(n){var i,t;if(filterMap=Object.create(null),null!=n)for(i=n.getElementsByTagName("SearchFilter"),t=0;t<i.length;t++){var r=i[t],f=r.getAttribute("Name"),e=r.getAttribute("Order"),r=r.getAttribute("Concepts");r&&(filterMap[f]={c:r,o:e,group:0})}return filterMap},this.LoadSearchFiltersLocal=function(){var n=$.Deferred();return require([this.SearchFilterSetUrl],function(t){t=t?{map:t,count:1}:null;n.resolve(t)}),n.promise()},this.LoadSearchFilters=function(){var n,t,i,u,e,r=$.Deferred();if(this.IsWebHelpPlus)e=this,MadCap.Utilities.Xhr.CallWebService(o+"Service/Service.asmx/GetSearchFilters",!0,function(n){n=e.ParseSearchFilterDoc(n);r.resolve({map:n})});else{function e(t){var i,r,u,f,e;if(t)if(n){for(i in t.map)n.map[i]?(r=n.map[i],u=t.map[i],f=r.c.split(";"),e=u.c.split(";"),r.c=f.Union(e).join(";"),MadCap.String.IsNullOrEmpty(r.cm)&&(r.cm=u.cm)):(n.map[i]=t.map[i],n.map[i].group+=n.count);n.count+=t.count}else for(i in(n=t).map)t.map[i].group=0}for((t=[]).push(this.LoadSearchFiltersLocal().then(e)),i=0;i<f.length;i++)(u=f[i]).GetExists()&&t.push(u.LoadSearchFilters().then(e));$.when.apply(this,t).done(function(){b=n,r.resolve(n)})}return r.promise()},this.GetMicroContentScope=function(n){return l[n]},this.LoadMicroContentScopes=function(){var n=$.Deferred();return this.IsWebHelpPlus?(l=[],n.resolve(l)):require([o+"Data/MicroContentScopes.js"],function(t){l=t,n.resolve(l)}),n.promise()},this.AdvanceTopic=function(n,t,i,r,u,f){e.FindNode(n,i,u,function(i){i&&!function u(t,i){(t=("next"==i?d:function(n){var t=null;if(void 0!==n.previous)for(t=n.previous;void 0!==t.n&&0<t.n.length;)t=t.n[t.n.length-1];else void 0!==n.parent&&(t=n.parent);return t})(t))&&void 0!==t.i&&e.LoadTocChunk(t.toc,t.c).then(function(){t.toc.entries[t.i];var o=e.GetTocEntryHref(t,n,!0,r);o?(MadCap.String.StartsWith(o,"#")&&(o=o.substring(1)),f(o)):u(t,i)})}(i,t)})},this.SetBrowseSequencePath=function(n,t){var i=$(".current-topic-index-button");null!=n?this.FindBrowseSequenceNode(n,t,function(n){n&&n.parent?(i.removeClass("disabled"),$(".sequence-index").text(n.parent.n.indexOf(n)+1),$(".sequence-total").text(n.parent.n.length)):i.addClass("disabled")}):i.addClass("disabled")},this.GetSkins=function(){var n=[];return w.ForEach(function(t,i){n.push(i)}),n},this.IsCentralLiveHelpServerType=function(){return"Central"==this.LiveHelpServerType},this.GetLanguageString=function(n,t,i,r,u){var f;return!MadCap.Utilities.HasRuntimeFileType("SkinPreview")&&(n=n+"/"+r,t&&this.Language.component[i]?f=this.Language.component[i][n]:this.Language.skin.default&&(f=this.Language.skin.default[n]),f)||u}},MadCap.WebHelp.HelpSystem.LoadHelpSystem=MadCap.Utilities.Memoize(function(n){var t=$.Deferred(),i=new MadCap.WebHelp.HelpSystem(null,null,n,null,null);return i.Load(function(){t.resolve(i)}),t.promise()}),MadCap.WebHelp.HelpSystem.LoadHelpSystemDefault=function(){var t=$(document.documentElement).attr("data-mc-path-to-help-system"),n="Data/HelpSystem.xml";return t&&(n=t+n),MadCap.WebHelp.HelpSystem.LoadHelpSystem(n)},MadCap.WebHelp.HelpSystem.LoadHelpSystemPromise=function(){return new Promise(function(n){MadCap.WebHelp.HelpSystem.LoadHelpSystemDefault().done(n)})},MadCap.WebHelp.TocFile=function(n,t){function v(n,t,i){var f,e,r,s,o=null,u=MadCap.Dom.GetAttribute(n,"Link");if((u=null!=u?(u=(u=u.substring(1)).replace(/%20/g," ")).toLowerCase():u)==t)o=n;else for(f=0;f<n.childNodes.length;f++)if(1==(e=n.childNodes[f]).nodeType&&null!=(r=MadCap.Dom.GetAttribute(e,"Link"))&&(r=(r=(r=r.substring(1)).replace(/%20/g," ")).toLowerCase(),i||-1!=(s=(r=-1!=(s=r.indexOf("#"))?r.substring(0,s):r).indexOf("?"))&&(r=r.substring(0,s)),r==t)){o=e;break}return o}function h(n,t,u){function f(t){var e=null;if(null!=t){if(null==(r=MadCap.Dom.GetAttribute(t,"Link")))return void h(n,t,u);var r=new MadCap.Utilities.Url(r).Extension.toLowerCase(),o=i.GetMasterHelpSystem();if(o.UseCustomTopicFileExtension){if(r!=o.CustomTopicFileExtension)return void h(n,t,u)}else if("htm"!=r&&"html"!=r)return void h(n,t,u);e=t}u(e)}function e(n,t){var i=MadCap.Dom.GetAttribute(n,"Chunk");return null!=i&&(r.LoadChunk(n,i,t),1)}function o(n,t){return 0<=($(n).attr("MergeHint")||-1)&&(r.LoadMerge(n,t),1)}"previous"==n?function(n){function i(n){var r=function y(n,t){n=$(n).children(t+":last")[0];return null!=n?(t=y(n,t),null!=t?t:n):null}(n,"TocEntry");if(null==r)t=n;else{if(e(t=r,i))return;if(o(r,u))return}f(t)}function u(n,t,r,u){i(t?u:n)}for(var t=null,r=n.previousSibling;null!=r;r=r.previousSibling)if("TocEntry"==r.nodeName){t=r;break}if(null!=t)return e(t,i)||o(t,u)||i(t);f(t=1==n.parentNode.nodeType?n.parentNode:t)}(t):"next"==n&&function(n){function t(n){for(var i=$(n).children("TocEntry")[0],t=n;null!=t&&null==i;t=t.parentNode)i=$(t).next("TocEntry")[0];f(i)}e(n,t)||o(n,function(n,i,r){i?f(r):t(n)})||t(n)}(t)}function l(n){for(var u,r=null,t=n;;){if(t==t.ownerDocument.documentElement){r=i;break}if(0<=(u=MadCap.Dom.GetAttributeInt(t,"ownerHelpSystemIndex",-1))){r=f[u];break}t=t.parentNode}return r}var r=this,i=n,u=t,a=!1,e=null,c=[],o=null,s=null,f=[];this.Init=function(n){a?null!=n&&n():(null!=n&&c.push(n),n=null,t==MadCap.WebHelp.TocFile.TocType.Toc?n="Toc.xml":t==MadCap.WebHelp.TocFile.TocType.BrowseSequence&&(n="BrowseSequences.xml"),this.LoadToc(i.GetPath()+"Data/"+n,function(n){a=!0,e=n.documentElement,function(){for(var n=0,t=c.length;n<t;n++)c[n]()}()}))},this.LoadToc=function(n,t){function r(n){n&&n.documentElement,null!=t&&t(n)}u==MadCap.WebHelp.TocFile.TocType.Toc&&i.IsWebHelpPlus?MadCap.Utilities.Xhr.CallWebService(i.GetPath()+"Service/Service.asmx/GetToc",!0,r,null):u==MadCap.WebHelp.TocFile.TocType.BrowseSequence&&i.IsWebHelpPlus?MadCap.Utilities.Xhr.CallWebService(i.GetPath()+"Service/Service.asmx/GetBrowseSequences",!0,r,null):(n=-1==n.indexOf("/")?i.GetPath()+"Data/"+n:n,MadCap.Utilities.Xhr.Load(n,!1,r,null,null))},this.LoadChunk=function(n,t,r){-1==t.indexOf("/")&&i.GetPath();MadCap.Utilities.Xhr.Load(t,!0,function(t){var f,i,o,u;if(t&&t.documentElement)for(n.removeAttribute("Chunk"),i=0,o=(f=t.documentElement).childNodes.length;i<o;i++)1==(u=f.childNodes[i]).nodeType&&(u="function"==typeof t.importNode?t.importNode(u,!0):u.cloneNode(!0),n.appendChild(u));null!=r&&r(n)},null,null)},this.LoadMerge=function(n,t){var i,r=MadCap.Dom.GetAttributeInt(n,"MergeHint",-1);-1==r?t(n,!1,null,null):(n.removeAttribute("MergeHint"),r=l(n).GetSubsystem(r),(i=MadCap.Dom.GetAttributeBool(n,"ReplaceMergeNode",!1))||n.setAttribute("ownerHelpSystemIndex",f.length),r=(f[f.length]=r).GetPath()+"Data/"+(u==MadCap.WebHelp.TocFile.TocType.Toc?"Toc.xml":"BrowseSequences.xml"),MadCap.Utilities.Xhr.Load(r,!0,function(r){var o,u;if(r&&r.documentElement){for(var l=r.documentElement,s=null,a=!0,h=null,c=null,v=n.ownerDocument,e=0,y=l.childNodes.length;e<y;e++)1==(o=l.childNodes[e]).nodeType&&(u=null,u="function"==typeof v.importNode?v.importNode(o,!0):o.cloneNode(!0),i?(u.setAttribute("ownerHelpSystemIndex",f.length-1),c=a?(a=!1,n.parentNode.replaceChild(u,n),h=u):(s.parentNode.insertBefore(u,s.nextSibling),u),s=u):n.appendChild(u));null!=t&&t(n,i,h,c)}else null!=t&&t(n,!1,null,null)}))},this.AdvanceTopic=function(n,t,i,r){this.GetTocNode(t,i,function(t){null==t?r(null):h(n,t,function(n){var f,i,e,t=null;null!=n&&(t=(t=MadCap.Dom.GetAttribute(n,"Link")).substring(1),f=new MadCap.Utilities.Url(t),i=null,u==MadCap.WebHelp.TocFile.TocType.Toc?i="TocPath":u==MadCap.WebHelp.TocFile.TocType.BrowseSequence&&(i="BrowseSequencePath"),e=function(n){var i,t="",r=-1,r=null!=$(n).children("TocEntry")[0]?(t=encodeURIComponent(MadCap.Dom.GetAttribute(n,"Title")),0):$(n).index()+1;for(0<t.length&&(t+="|"),t+="_____"+r,i=n.parentNode;null!=i&&1==i.parentNode.nodeType;i=i.parentNode)0<(t=null==t?"":t).length&&(t="|"+t),t=encodeURIComponent(MadCap.Dom.GetAttribute(i,"Title"))+t;return t}(n),t=f.ToQuery(i+"="+encodeURIComponent(e)).FullPath,t=l(n).GetPath()+t),r(t)})})},this.GetRootNode=function(n){this.Init(function(){n(e)})},this.GetTocNode=function(n,t,i){function u(n){var t=MadCap.Dom.GetAttribute(n,"Chunk");return null!=t&&(r.LoadChunk(n,t,function(){r.GetTocNode(o,s,i)}),1)}function f(n){return 0<=($(n).attr("MergeHint")||-1)&&(r.LoadMerge(n,function(){r.GetTocNode(o,s,i)}),1)}this.Init(function(){var h,r,a,w,p,c,y;for(s=t,c=-1,0<(h=""==(o=n)?new Array(0):n.split("|")).length&&(p=h[h.length-1],MadCap.String.StartsWith(p,"_____"))&&(c=parseInt(p.substring(5)),h.splice(h.length-1,1)),r=e,a=0,w=h.length;a<w;a++){if(u(r))return;if(f(r))return;r=function(n,t){for(var r=null,i=0;i<n.childNodes.length;i++)if("TocEntry"==n.childNodes[i].nodeName&&MadCap.Dom.GetAttribute(n.childNodes[i],"Title")==t){r=n.childNodes[i];break}return r}(r,decodeURIComponent(h[a]))}null==r?i(null):u(r)||f(r)||(y=0<=c?0==c?r:$(r).children("TocEntry")[c-1]:(p=l(r),(y=v(r,(c=t.ToRelative(new MadCap.Utilities.Url(p.GetPath()))).FullPath.toLowerCase(),!0))||v(r,c.PlainPath.toLowerCase(),!1)),s=o=null,i(y))})},this.GetEntrySequenceIndex=function(n,t,i){this.GetTocNode(n,t,function(n){var t=-1;null!=n&&(t=function p(n){var i,t,r;if(n.parentNode==n.ownerDocument.documentElement)return 0;for(i=0,null!=MadCap.Dom.GetAttribute(n,"Link")&&i++,t=n.previousSibling;null!=t;t=t.previousSibling)1!=t.nodeType||(i+=MadCap.Dom.GetAttributeInt(t,"DescendantCount",0),null==(r=MadCap.Dom.GetAttribute(t,"Link")))||"htm"!=(r=new MadCap.Utilities.Url(r).Extension.toLowerCase())&&"html"!=r||i++;return i+p(n.parentNode)}(n)),i(t)})},this.GetIndexTotalForEntry=function(n,t,i){this.GetTocNode(n,t,function(n){var t,r=-1;if(null!=n){for(t=n;t.parentNode!=e;)t=t.parentNode;r=MadCap.Dom.GetAttributeInt(t,"DescendantCount",-1)}i(r)})}},MadCap.WebHelp.TocFile.TocType={Toc:0,BrowseSequence:1},MadCap.WebHelp.IndexEntry=function(n,t){var i,r,u=MadCap.Dom.GetChildNodeByTagName(n,"Links",0).childNodes,e=u.length,f=0;for(this.Term=MadCap.Dom.GetAttribute(n,"Term"),this.IndexLinks=[],this.Level=t,this.GeneratedReferenceType=MadCap.Dom.GetAttribute(n,"GeneratedReferenceType"),i=0;i<e;i++)1==(r=u[i]).nodeType&&(this.IndexLinks[f]=new MadCap.WebHelp.IndexLink(r),f++)},MadCap.WebHelp.IndexLink=function(n){this.Title=MadCap.Dom.GetAttribute(n,"Title"),this.Link=MadCap.Dom.GetAttribute(n,"Link")},MadCap.WebHelp=MadCap.CreateNamespace("WebHelp"),MadCap.WebHelp.AliasFile=function(n,t){function o(n){var t=null;return f(),null!=i&&("string"==typeof n?null==(t=i.GetItem(n))&&(t=r.GetItem(n)):"number"==typeof n&&(t=r.GetItem(n.toString()))),t}function f(){var t,n;if(null==i&&u)for(i=new MadCap.Utilities.Dictionary(!0),r=new MadCap.Utilities.Dictionary,t=u.getElementsByTagName("Map"),n=0;n<t.length;n++){var e={Topic:t[n].getAttribute("Link"),Skin:t[n].getAttribute("Skin")},o=t[n].getAttribute("Name");null!=o&&i.Add(o,e),null!=(o=t[n].getAttribute("ResolvedId"))&&r.Add(o,e)}}var u=null,e=t,i=null,r=null;this.Load=function(t){MadCap.Utilities.Xhr.Load(n,!0,function(n){n&&(u=n.documentElement),t()})},this.GetIDs=function(){var n=[];return f(),r.ForEach(function(t){return n[n.length]=t,!0}),n},this.GetNames=function(){var n=[];return f(),i.ForEach(function(t){return n[n.length]=t,!0}),n},this.LookupID=function(n){var r,i=!1,t=null,f=null;return n?"string"==typeof n&&-1!=n.indexOf(".")?(-1!=(r=n.indexOf("|"))?(t=n.substring(0,r),f=n.substring(r+1)):t=n,i=!0):null!=(r=o(n))&&(i=!0,t=r.Topic,f=r.Skin):i=!0,{Found:i,Topic:t=t&&e.ContentFolder+t,Skin:f}}},function(){var n;MadCap.SkinHelper=MadCap.CreateNamespace("SkinHelper"),_HelpSystem=null,n=MadCap.Utilities.HasRuntimeFileType("TriPane"),$.extend(MadCap.SkinHelper,{ApplyLogoUrl:function(n){var i;n.LogoUrl&&(!(n=new MadCap.Utilities.Url(n.LogoUrl)).IsAbsolute&!MadCap.Utilities.HasRuntimeFileType("WebApp")&&(i=_HelpSystem.GetPatchedPath(n.FullPath),n=_HelpSystem.GetTopicPath("../"+_HelpSystem.ContentFolder+i)),$("a.logo").attr("href",MadCap.Utilities.EncodeHtml(n.FullPath)))},ApplySkinClass:function(n,t){null!=t&&$.each(t.GetSkins(),function(n,t){$("html").removeClass(t.SkinClass)}),$("html").addClass(n.SkinClass)},GetPanePosition:function(n){return null!=n.WebHelpOptions?n.WebHelpOptions.NavigationPanePosition:"Left"},ApplySkinByName:function(n,t){var i=null;null!=n&&(i=t.GetSkin(n)||t.GetSkinByName(n)),MadCap.SkinHelper.ApplySkin(i||t.DefaultSkin)},SetSize:function(n){var i,r,o,s,u,f,h,c,l,a,v,y;n&&!MadCap.String.ToBool(n.UseBrowserDefaultSize,!0)&&(i=MadCap.String.ToInt(n.Top,0),r=MadCap.String.ToInt(n.Left,0),o=MadCap.String.ToInt(n.Bottom,0),s=MadCap.String.ToInt(n.Right,0),u=MadCap.String.ToInt(n.Width,800),f=MadCap.String.ToInt(n.Height,600),(n=n.Anchors)&&(h=-1<n.indexOf("Top"),c=-1<n.indexOf("Left"),l=-1<n.indexOf("Bottom"),a=-1<n.indexOf("Right"),v=-1<n.indexOf("Width"),y=-1<n.indexOf("Height")),c&&a?u=screen.availWidth-(r+s):!c&&a?r=screen.availWidth-(u+s):v&&(r=screen.availWidth/2-u/2),h&&l?f=screen.availHeight-(i+o):!h&&l?i=screen.availHeight-(f+o):y&&(i=screen.availHeight/2-f/2),window==top&&(window.resizeTo(u,f),window.moveTo(r,i)))},SetSkinPreviewStyle:function(t,i){n&&t.setAttribute("data-mc-style",i)},ApplySkin:function(){},SwitchPanePosition:function(){},InitFoundationPreviewMenu:function(){},OnLayout:function(){},OnHelpSystemLoad:function(){},ApplyComponentSkin:function(){}}),MadCap.WebHelp&&MadCap.WebHelp.HelpSystem&&MadCap.WebHelp.HelpSystem.LoadHelpSystemDefault().done(function(n){_HelpSystem=n,MadCap.SkinHelper.OnHelpSystemLoad(n)})}(),function(){function i(n,t,i){return i?t<n?"openRight":"openLeft":t<n?"openLeft":"openRight"}var r,t,n;MadCap.WebHelp=MadCap.CreateNamespace("WebHelp"),r="undefined"!=typeof CefSharp||window.external&&window.external.attached&&window.external.attached(),t=MadCap.Utilities.HasRuntimeFileType("TriPane"),MadCap.WebHelp.TocPane=function(n,r,u,f){var e=this;this._Init=!1,this._RuntimeFileType=n,this._RootUl=u,this._$RootUl=$(u),this._CanSync=f,this._HelpSystem=r,this._TocFile="Toc"==this._RuntimeFileType?this._HelpSystem.GetTocFile():this._HelpSystem.GetBrowseSequenceFile(),this._LoadedNodes=[],this._NodesWithChildrenLoaded=[],this._NodeElMap={},this._TocType=null,this._TocPath=null,this._TocHref=null,MadCap.Utilities.MessageBus.AddMessageHandler(this.OnMessage,this),this._Initializing=!1,this._InitOnCompleteFuncs=[],this.TreeNode_Expand=function(n){var l=n.target,o=e._IsOffCanvasMenu||e._IsSideNavMenu?$(e._RootUl):null,a=$(l).closest("li")[0];if(null!=a){var r=$(a),p=r.hasClass(e._TreeNodeLeafClass),f=e._LoadedNodes[r.attr("data-mc-id")],v=e._HelpSystem.GetCurrentSkin();if(!(e._IsTopNavMenu&&e._HelpSystem.NodeDepth(f)>e._MaxDepth)){p||e._IsTopNavMenu||r.toggleClass(e._TreeNodeExpandedClass).toggleClass(e._TreeNodeCollapsedClass);var c=r.find("> div img"),w=c.attr("data-mc-alt2"),b=c.attr("alt");if(""!=w&&(c.attr("alt",w),c.attr("data-mc-alt2",b)),e._IncludeIndicator&&null!=(w=r.find("> div a"))[0]&&(c=w.attr("href"),MadCap.String.IsNullOrEmpty(c)||e._SelectNode(a),w[0]!=l)&&(b=w.attr("target"),MadCap.String.IsNullOrEmpty(c)||(null!=b?window.open(c,b):document.location.href=c)),void 0!==f.n&&0!=f.n.length||(f.childrenLoaded=!0,e._NodesWithChildrenLoaded.push(f)),-1===e._NodesWithChildrenLoaded.indexOf(f)){$("a",r).first();var u=$("<ul/>"),a=$(e._RootUl).attr("data-mc-css-sub-menu")||"tree inner";if(u.addClass(a),t&&u.attr("data-mc-style","Navigation Panel Item"),e.IsAccordionMenu(v)&&u.css("display","none"),e.LoadTocChildren(f,u,function(){var n,s,f;r.append(u),e.InitOffCanvasSubMenuKeyboardNavigation(r,u),e._IsSideNavMenu&&u.length&&r.hasClass("is-accordion-submenu-parent")?(n=r.find("span.submenu-toggle-container").first().attr("aria-expanded","true"),MadCap.Accessibility.setAriaControls(n,u,"sidenav-submenu")):e._IsTopNavMenu&&u.length&&r.hasClass(e._TreeNodeHasChildrenClass)&&(f=i(n=u.width(),s=(f="rtl"==$("html").attr("dir"))?r.offset().left:$(window).width()-r.offset().left-r.width(),f),u.toggleClass(f,s<n),r.addClass(e._TreeNodeExpandedClass),MadCap.Accessibility.initTopNavSubmenuAccessibility(r,u)),e._DeferExpandEvent&&setTimeout(function(){e.IsAccordionMenu(v)?(Foundation.Nest.Feather(r.children(".is-accordion-submenu"),"accordion"),o.foundation("down",r.children(".is-accordion-submenu"))):(Foundation.Nest.Feather(o,"drilldown"),o.foundation("_show",r))},100)}),e._DeferExpandEvent)return n.stopImmediatePropagation(),!1}if(!p)return!e._IsOffCanvasMenu&&!e._IsSideNavMenu||(e.IsAccordionMenu(v)?o.foundation("toggle",r.children(".is-accordion-submenu")):(o.foundation("_show",r),r.find("ul.submenu > li > a").first().focus()),!1);t||MadCap.Utilities.Url.OnNavigateTopic.call(l,n)}}},this.InitOffCanvasSubMenuKeyboardNavigation=function(n,t){var u,i;this._IsOffCanvasMenu&&t.length&&(u=n.children("a").attr("aria-expanded","true"),MadCap.Accessibility.setAriaControls(u,t,"responsive-submenu"),n.hasClass("is-drilldown-submenu-parent"))&&(u=t.children("li").children("a"),i=u.first(),u.last().on("keydown",function(n){var t=n.keyCode||n.which;n.shiftKey||9!=t||(n.preventDefault(),i.click())}),i.on("keydown",function(n){var t=n.keyCode||n.which;n.shiftKey&&9==t&&"Back"==i.text()&&(n.preventDefault(),i.click())}))},this.TopNavigationMenuItem_MouseEnter=function(n){var u,o,f,n=$(n.currentTarget).closest("li"),r=n.children("ul").first();r.length&&(f=i(u=r.width(),o=(f="rtl"==$("html").attr("dir"))?n.offset().left:$(window).width()-n.offset().left-n.width(),f),r.toggleClass(f,o<u),n.addClass(e._TreeNodeExpandedClass),n.children("button").attr("aria-expanded","true")),e.SetTopNavClasses(n,r)},this.TopNavigationMenuItem_MouseLeave=function(n){n=$(n.currentTarget).closest("li");n.hasClass(e._TreeNodeExpandedClass)&&n.removeClass(e._TreeNodeExpandedClass),n.children("button").attr("aria-expanded","false")},this.SetTopNavClasses=function(n,t){var r;t.length&&(r=i(t.width(),(r="rtl"===$("html").attr("dir"))?n.offset().left:$(window).width()-n.offset().left-n.width(),r),t.removeClass("openLeft openRight").addClass(r),n.addClass(e._TreeNodeExpandedClass))},this.ExpandCollapseOnArrowPress=function(n){var t=this.TreeNode_Expand;n.on("keydown",function(n){var i=n.keyCode||n.which,r=$(this).closest(".tree-node").hasClass("tree-node-collapsed");(39==i&&r||37==i&&!r)&&(n.preventDefault(),t(n))})}},(n=MadCap.WebHelp.TocPane).prototype.OnMessage=function(n,t){var u,i={Handled:!1,FireResponse:!0};return"sync-toc"==n&&(n=t[0],u=t[1],t=new MadCap.Utilities.Url(t[2]),!this._CanSync||null!=n&&n!=this._RuntimeFileType||(this.SyncTOC(u,t),i.Handled=!0)),i},n.prototype.Init=function(n){var i;this._Init?null!=n&&n():(null!=n&&this._InitOnCompleteFuncs.push(n),this._Initializing||(this._Initializing=!0,n=this._$RootUl,this._IsOffCanvasMenu=n.hasClass("off-canvas-list"),this._IsSideNavMenu=MadCap.Dom.GetAttributeBool(this._RootUl,"data-mc-side-nav-menu",!1),this._IsTopNavMenu=MadCap.Dom.GetAttributeBool(this._RootUl,"data-mc-top-nav-menu",!1),this._IsSideMenu=MadCap.Dom.GetAttributeBool(this._RootUl,"data-mc-side-menu",!1),this._IsTopNavMenu?(this._TreeNodeHasChildrenClass=n.attr("data-mc-css-tree-node-has-children")||"has-children",this._TreeNodeCollapsedClass="",this._TreeNodeExpandedClass="is-expanded"):(this._TreeNodeClass=n.attr("data-mc-css-tree-node")||"tree-node",this._TreeNodeCollapsedClass=n.attr("data-mc-css-tree-node-collapsed")||"tree-node-collapsed",this._TreeNodeExpandedClass=n.attr("data-mc-css-tree-node-expanded")||"tree-node-expanded",this._TreeNodeLeafClass=n.attr("data-mc-css-tree-node-leaf")||"tree-node-leaf",this._TreeNodeSelectedClass=n.attr("data-mc-css-tree-node-leaf")||"tree-node-selected"),this._SubMenuClass=n.attr("data-mc-css-sub-menu")||"tree inner",this._IncludeBack=MadCap.Dom.GetAttributeBool(this._RootUl,"data-mc-include-back",!1),this._IncludeParentLink=MadCap.Dom.GetAttributeBool(this._RootUl,"data-mc-include-parent-link",!1),this._IncludeIcon=MadCap.Dom.GetAttributeBool(this._RootUl,"data-mc-include-icon",!0),this._IncludeIndicator=MadCap.Dom.GetAttributeBool(this._RootUl,"data-mc-include-indicator",!0),this._DeferExpandEvent=MadCap.Dom.GetAttributeBool(this._RootUl,"data-mc-defer-expand-event",!1),this._ExpandEvent=n.attr("data-mc-expand-event")||(this._IsSideMenu?null:"click"),this._BackLink=n.attr("data-mc-back-link")||"Back",this._MaxDepth=parseInt(n.attr("data-mc-max-depth"))||1,this._IncludeParent=MadCap.Dom.GetAttributeBool(this._RootUl,"data-mc-include-parent",!1),this._IncludeSiblings=MadCap.Dom.GetAttributeBool(this._RootUl,"data-mc-include-siblings",!1),this._IncludeChildren=MadCap.Dom.GetAttributeBool(this._RootUl,"data-mc-include-children",!1),this._IsContextSensitive=MadCap.Dom.GetAttributeBool(this._RootUl,"data-mc-is-context-sensitive",!1),this._LinkedToc=n.attr("data-mc-linked-toc"),n.attr("data-mc-chunk","Data/"+(i=this)._RuntimeFileType+".xml"),this.CreateToc(this._RootUl,function(){i._Init=!0;for(var n=0;n<i._InitOnCompleteFuncs.length;n++)i._InitOnCompleteFuncs[n]()})))},n.prototype.CreateToc=function(n,i){var r;("Toc"==this._RuntimeFileType?this._HelpSystem.HasToc:this._HelpSystem.HasBrowseSequences)?(r=this)._HelpSystem.LoadToc([this._RuntimeFileType,this._LinkedToc]).then(function(u){for(var f=$(n),o=[],e=0;e<u.chunks.length;e++)u.chunks[e].loaded||o.push(r._HelpSystem.LoadTocChunk(u,e));t&&f.attr("data-mc-style","Navigation Panel Item"),$.when.apply(this,o).done(function(){r._IsSideMenu?r._TocType?r._HelpSystem.FindNode(r._TocType,r._TocPath,r._TocHref,function(n){r.TocNodeMenuCallback(n,f,u,i)},r._LinkedToc):r._HelpSystem.FindTocNode(null,r._TocHref,function(n){r.TocNodeMenuCallback(n,f,u,i)},r._LinkedToc):r.LoadTocChildren(u.tree,f,function(){(r._IsOffCanvasMenu||r._IsSideNavMenu)&&r._CanSync&&r._HelpSystem.SyncTOC&&r.SyncTOC(r._TocPath,r._TocHref),f.children("li.placeholder").remove(),this._Init=!0,null!=i&&i()})})}):null!=i&&i()},n.prototype.LoadTocChildren=function(n,t,i){var u,f,h,r,e=void 0!==n.n?n.n.length:0,o=0,s=this;if(0==e&&(n.childrenLoaded=!0,this._NodesWithChildrenLoaded.push(n)),-1!==this._NodesWithChildrenLoaded.indexOf(n))i&&i();else for(n.parent&&(this._IncludeBack&&((r=$('<li class="js-drilldown-back"/>')).addClass(this._TreeNodeClass),u=$('<a href="#"/>'),MadCap.Accessibility.makeAccessibleButton(u),u.text(this._BackLink),u.on(this._ExpandEvent,function(n){var t=r.parent("ul");$("ul.menu[data-drilldown]").foundation("_back",t),n.preventDefault(),t.siblings().first().focus()}),r.append(u),t.append(r)),this._IncludeParentLink)&&null!=this._HelpSystem.GetTocEntryHref(n)&&((r=$("<li/>")).addClass(this._TreeNodeClass),r.addClass(this._TreeNodeLeafClass),t.append(r),this.LoadTocNode(n,r,null)),f=0;f<e;f++)h=n.n[f],(r=$("<li/>")).addClass(this._TreeNodeClass),r.addClass(this._TreeNodeCollapsedClass),this._IsTopNavMenu&&(t.hasClass(this._SubMenuClass)||t[0]==this._RootUl)&&(s=this,r.mouseenter(this.TopNavigationMenuItem_MouseEnter),r.mouseleave(this.TopNavigationMenuItem_MouseLeave)),t.append(r),this.LoadTocNode(h,r,function(){++o==e&&(n.childrenLoaded=!0,s._NodesWithChildrenLoaded.push(n),null!=i)&&i()})},n.prototype.LoadTocNode=function(n,i,r){var u=this,f=n.toc;this._HelpSystem.LoadTocChunk(f,n.c).then(function(){var s,v=f.entries[n.i],b=void 0!==n.f,nt=void 0===n.n||0==n.n.length,k=void 0!==n.n&&0<n.n.length,tt=u._CanSync&&!b?u._RuntimeFileType:null,it=u._HelpSystem.TopNavTocPath||t,tt=u._HelpSystem.GetTocEntryHref(n,tt,u._CanSync,it),it=$("<a/>");if(b&&it.attr("target",n.f),null!=tt?(it.attr("href",tt),t&&MadCap.Accessibility.tripaneTopicFrameSkip(it,v.title)):(it.attr("href","javascript:void(0);"),it.attr("role","button")),it.text(v.title),t&&MadCap.Accessibility.tripaneTopicFrameSkip(it,v.title),void 0!==n.s&&i.addClass(n.s),nt&&(i.removeClass(u._TreeNodeCollapsedClass),i.addClass(u._TreeNodeLeafClass)),u._IncludeIcon){for(className in s="default",b=u._HelpSystem.Language.toc)if(i.hasClass(className)){s=className;break}(v=$("<img/>")).attr("src","Skins/Default/Stylesheets/Images/transparent.gif"),v.addClass("toc-icon"),u._IncludeIndicator&&void 0!==n.w&&1==n.w?v.attr("alt",b[s].MarkAsNewIconAlternateText):i.hasClass(u._TreeNodeLeafClass)?v.attr("alt",b[s].TopicIconAlternateText):(v.attr("alt",b[s].ClosedBookIconAlternateText),v.attr("data-mc-alt2",b[s].OpenBookIconAlternateText)),""!=v.prop("src")&&it.prepend(v)}u._IncludeIndicator&&(nt=$("<div/>"),void 0!==n.w&&1==n.w&&nt.append("<span class='new-indicator'></span>"),(b=$('<span class="label" />')).append(it),nt.append(b),it=nt),v=it,b=u._HelpSystem.GetCurrentSkin(),k&&(t&&u.ExpandCollapseOnArrowPress(v.children().children()),u.IsAccordionMenu(b)&&(nt=$("<span class='submenu-toggle-container'><span class='submenu-toggle'>&nbsp</span></span>"),it.append(nt),u._IsSideNavMenu)&&null!=tt&&(MadCap.Accessibility.makeAccessibleButton(nt),b=$("<span class='invisible-label'></span>").text(it.text()),nt.append(b),nt.attr({"aria-expanded":"false"}),v=nt),u._IsOffCanvasMenu)&&(i.hasClass("is-accordion-submenu-parent")||i.hasClass("is-drilldown-submenu-parent"))&&(v.attr({"aria-expanded":"false"}),MadCap.Accessibility.makeAccessibleButton(v)),u._IsContextSensitive||v.on(u._ExpandEvent,u.TreeNode_Expand),(u._NodeElMap[u.GetNodeHash(n)]=i).append(it),i.attr("data-mc-id",u._LoadedNodes.length),tt=u._HelpSystem.NodeDepth(n),k&&u._IsTopNavMenu&&tt<=u._MaxDepth&&(i.addClass(u._TreeNodeHasChildrenClass),MadCap.Accessibility.initTopNavMenuButtons(i,u,it,tt)),u._LoadedNodes.push(n),null!=r&&r(n)})},n.prototype.SyncTOC=function(n,t){var i=this,r=$("."+this._TreeNodeSelectedClass+" a",this._RootUl);0<r.length&&r[0].href===document.location.href||this.Init(function(){function r(n){if(void 0!==n&&null!=n){for(var r=[],t=n;void 0!==t&&-1===i._NodesWithChildrenLoaded.indexOf(t);)r.unshift(t),t=t.parent;MadCap.Utilities.AsyncForeach(r,function(n,t){var f=i._HelpSystem.GetCurrentSkin(),u=$(i._NodeElMap[i.GetNodeHash(n)]),r=$("<ul/>");r.addClass(i._SubMenuClass),i.LoadTocChildren(n,r,function(){var n;0<r[0].children.length&&(u.append(r),i.InitOffCanvasSubMenuKeyboardNavigation(u,r),i.IsDrillDownMenu(f)&&(Foundation.Nest.Feather($(i._RootUl),"drilldown"),$(i._RootUl).foundation("_show",u)),i._IsSideNavMenu?n=u.find("span.submenu-toggle-container").first():i._IsOffCanvasMenu&&(n=u.children("a")),n)&&(n.attr("aria-expanded","true"),MadCap.Accessibility.setAriaControls(n,r,"submenu")),t()})},function(){var t=i._NodeElMap[i.GetNodeHash(n)][0];i._UnhideNode(t),i._SelectNode(t)})}}function u(t){i._HelpSystem.FindNode(i._RuntimeFileType,n,t,function(u){u?r(u):MadCap.String.IsNullOrEmpty(t.Fragment)&&MadCap.String.IsNullOrEmpty(t.Query)||(u=new MadCap.Utilities.Url(t.PlainPath),i._HelpSystem.FindNode(i._RuntimeFileType,n,u,r,i._LinkedToc))},i._LinkedToc)}var f=t.HashMap.GetItem("cshid");null!=f?i._HelpSystem.LookupCSHID(f,function(n){u(n.Found?new MadCap.Utilities.Url(n.Topic).ToRelative(i._HelpSystem.GetContentPath()):new MadCap.Utilities.Url(i._HelpSystem.DefaultStartTopic))}):u(t)})},n.prototype._UnhideNode=function(n){for(var r,i=MadCap.Dom.GetAncestorNodeByTagName(n,"li",this._RootUl),u=this._HelpSystem.GetCurrentSkin();null!=i;)r=$(i),(this.IsAccordionMenu(u)||t)&&(r.removeClass(this._TreeNodeCollapsedClass),r.addClass(this._TreeNodeExpandedClass)),i=MadCap.Dom.GetAncestorNodeByTagName(i,"li",this._RootUl)},n.prototype._SelectNode=function(n){n=$(n);$("."+this._TreeNodeSelectedClass,this._RootUl).removeClass(this._TreeNodeSelectedClass),n.addClass(this._TreeNodeSelectedClass),n.find("> a").addClass("selected").attr("aria-current",!0),n.scrollintoview()},n.prototype.GetNodeHash=function(n){return n.toc.helpSystem.TocUrl+":c"+n.c+"i"+n.i},n.prototype.IsAccordionMenu=function(n){return this._IsSideNavMenu||this._IsOffCanvasMenu&&n&&n.WebHelpOptions&&"Accordion"==n.WebHelpOptions.OffCanvasMenuStyle||r&&""<this._$RootUl.attr("data-accordion-menu")},n.prototype.IsDrillDownMenu=function(n){return this._IsOffCanvasMenu&&!this.IsAccordionMenu(n)}}(),function(){MadCap.WebHelp=MadCap.CreateNamespace("WebHelp"),MadCap.WebHelp.Breadcrumbs=function(n,t,i,r){this._Init=!1,this._RuntimeFileType=n,this._Root=i,this._$Root=$(i),this._CanSync=r,this._HelpSystem=t,this._TocFile="Toc"==this._RuntimeFileType?this._HelpSystem.GetTocFile():this._HelpSystem.GetBrowseSequenceFile(),this._TocType=null,this._TocPath=null,this._TocHref=null};var n=MadCap.WebHelp.Breadcrumbs;n.prototype.Init=function(){var t,n=this._$Root;this._MaxLevel=n.attr("data-mc-breadcrumbs-count")||"3",this._Divider=n.attr("data-mc-breadcrumbs-divider")||" > ",this._LinkClass="MCBreadcrumbsLink",this._SelfClass="MCBreadcrumbsSelf",this._DividerClass="MCBreadcrumbsDivider",n.attr("data-mc-chunk","Data/"+(t=this)._RuntimeFileType+".xml"),this.CreateToc(this._Root,function(){t._Init=!0})},n.prototype.CreateToc=function(n,t){var i;("Toc"==this._RuntimeFileType?this._HelpSystem.HasToc:this._HelpSystem.HasBrowseSequences)?(i=this)._HelpSystem.LoadToc([this._RuntimeFileType,null]).then(function(r){for(var f=$(n),e=[],u=0;u<r.chunks.length;u++)r.chunks[u].loaded||e.push(i._HelpSystem.LoadTocChunk(r,u));$.when.apply(this,e).done(function(){i._TocType?i._HelpSystem.FindNode(i._TocType,i._TocPath,i._TocHref,function(n){n&&(i.LoadTocBreadcrumbs(n,f),null!=t)&&t()}):i._HelpSystem.FindTocNode(null,i._TocHref,function(n){n&&(i.LoadTocBreadcrumbs(n,f),null!=t)&&t()})})}):null!=t&&t()},n.prototype.LoadTocBreadcrumbs=function(n,t){var o,s,h,c,v,r,i,f=[],u=n.parent,e=this._HelpSystem.NodeDepth(n);if(f.push(n),e-=2,u)for(o=e;0<=o&&((this._MaxLevel<e&&o<=this._MaxLevel||this._MaxLevel>=e)&&f.unshift(u),u.parent);o--)u=u.parent;for(s=0;s<f.length;s++)void 0!==(i=f[s]).i&&(h=i.toc.entries[i.i])&&(i==n?((c=$("<span>")).text(h.title),c.addClass(this._SelfClass),t.append(c)):i.n&&(c=$("<span/>"),v=this._HelpSystem.TopNavTocPath,(i=this._HelpSystem.GetTocEntryHref(i,"Toc",!1,v))?((r=$("<a/>")).attr("href",MadCap.Utilities.EncodeHtml(i)),r.addClass(this._LinkClass)):(r=$("<span/>")).addClass(this._SelfClass),r.text(h.title),t.append(r),c.text(this._Divider),c.addClass(this._DividerClass),t.append(c)))}}(),function(){MadCap.WebHelp=MadCap.CreateNamespace("WebHelp"),MadCap.WebHelp.MiniToc=function(n,t,i){this._Init=!1,this._RuntimeFileType=n,this._Root=i,this._$Root=$(i),this._HelpSystem=t,this._TocFile="Toc"==this._RuntimeFileType?this._HelpSystem.GetTocFile():this._HelpSystem.GetBrowseSequenceFile(),this._TocType=null,this._TocPath=null,this._TocHref=null};var n=MadCap.WebHelp.MiniToc;n.prototype.Init=function(){var t,n=this._$Root;this._Depth=n.attr("data-mc-depth")||"3",this._LinkClass="MiniTOC",n.attr("data-mc-chunk","Data/"+(t=this)._RuntimeFileType+".xml"),this.CreateToc(this._Root,function(){t._Init=!0})},n.prototype.CreateToc=function(n,t){var i;("Toc"==this._RuntimeFileType?this._HelpSystem.HasToc:this._HelpSystem.HasBrowseSequences)?(i=this)._HelpSystem.LoadToc([this._RuntimeFileType,null]).then(function(r){for(var f=$(n),e=[],u=0;u<r.chunks.length;u++)r.chunks[u].loaded||e.push(i._HelpSystem.LoadTocChunk(r,u));$.when.apply(this,e).done(function(){i._TocType?i._HelpSystem.FindNode(i._TocType,i._TocPath,i._TocHref,function(n){n&&(i.LoadTocMiniTocChildren(n,f,1),null!=t)&&t()}):i._HelpSystem.FindTocNode(null,i._TocHref,function(n){n&&(i.LoadTocMiniTocChildren(n,f,1),null!=t)&&t()})})}):null!=t&&t()},n.prototype.LoadTocMiniTocChildren=function(n,t,i){var r,u;if(i<=this._Depth&&n.n)for(r=0;r<n.n.length;r++)u=n.n[r],this.LoadTocMiniToc(u,t,i)},n.prototype.LoadTocMiniToc=function(n,t,i){var u,o,s,e,r;void 0!==n.i&&(u=n.toc.entries[n.i])&&(o=this._HelpSystem.TopNavTocPath,o=this._HelpSystem.GetTocEntryHref(n,"Toc",!1,o))&&(s=this._LinkClass+i,e=$("<p/>"),(r=$("<a/>")).addClass(s),r.attr("href",MadCap.Utilities.EncodeHtml(o)),r.text(u.title),e.append(r),e.addClass(s+"_0"),t.append(e)),this.LoadTocMiniTocChildren(n,t,++i)}}(),function(){var n=MadCap.WebHelp.TocPane;n.prototype.TocNodeMenuCallback=function(n,t,i,r){this._IsContextSensitive?n?this.LoadTocMenu(n,t,this._MaxDepth,r):($(t).remove(),null!=r&&r()):this.LoadTocMenuFromRoot(i.tree,n,t,this._MaxDepth,r)},n.prototype.LoadTocMenuFromRoot=function(n,t,i,r,u){var f,e,s,c,h,o;if(n.n&&0!=r)for((f=0)==(e=n.n.length)&&null!=u&&u(),r--,s=0;s<e;s++)c=n.n[s],h=$("<li/>"),i.append(h),(o=this).LoadTocNode(c,h,function(n){var i,s=o._NodeElMap[o.GetNodeHash(n)];n==t&&o.SetTocMenuItemSelected(s),n.n?((i=$("<ul/>")).attr("class","sub-menu"),s.append(i),s.attr("class","has-children"),o.LoadTocMenuFromRoot(n,t,i,r,function(){++f==e&&null!=u&&u()})):++f==e&&null!=u&&u()})},n.prototype.LoadTocMenu=function(n,t,i,r){var u,f;this._IncludeParent&&void 0!==n.parent.c?(u=$("<li/>"),t.append(u),(f=this).LoadTocNode(n.parent,u,function(){var t=$("<ul/>");u.append(t),u.attr("class","has-children"),t.attr("class","sub-menu"),f._IncludeSiblings?f.LoadTocMenuSiblings(n,t,i,r):f.LoadTocSelectedMenu(n,t,i,r)})):this._IncludeSiblings?this.LoadTocMenuSiblings(n,t,i,r):this.LoadTocSelectedMenu(n,t,i,r)},n.prototype.LoadTocSelectedMenu=function(n,t,i,r){var f,u=$("<li/>");t.append(u),(f=this).LoadTocNode(n,u,function(){f.SetTocMenuItemSelected(u),f.AddTocMenuChildren(n,u,i,r)})},n.prototype.LoadTocMenuSiblings=function(n,t,i,r){for(var h,o,u,s=n.parent.n.length,f=0,e=0;e<n.parent.n.length;e++)h=n.parent.n[e],o=$("<li/>"),t.append(o),(u=this).LoadTocNode(h,o,function(t){t==n?(t=u._NodeElMap[u.GetNodeHash(n)],u.SetTocMenuItemSelected(t),u.AddTocMenuChildren(n,t,i,function(){++f==s&&r&&r()})):++f==s&&r&&r()})},n.prototype.AddTocMenuChildren=function(n,t,i,r){var u;this._IncludeChildren&&n.n?(i--,u=$("<ul/>"),t.append(u),t.attr("class","has-children"),this.LoadTocMenuChildren(n,u,i,r),u.attr("class","sub-menu")):r&&r()},n.prototype.LoadTocMenuChildren=function(n,t,i,r){var e,h,s,o,u=n.n.length,f=0;for(0==u&&r&&r(),e=0;e<u;e++)h=n.n[e],s=$("<li/>"),t.append(s),(o=this).LoadTocNode(h,s,function(n){var t;0!=i?(t=o._NodeElMap[o.GetNodeHash(n)],o.AddTocMenuChildren(n,t,i,function(){++f==u&&r&&r()})):++f==u&&r&&r()})},n.prototype.SetTocMenuItemSelected=function(n){$(n).find("a").addClass("selected").attr("aria-current",!0)}}(),function(){var n;MadCap.Utilities.HasRuntimeFileType("TriPane")&&(MadCap.WebHelp=MadCap.CreateNamespace("WebHelp"),MadCap.WebHelp.IndexPane=function(n){var t=this;this._Init=!1,this._ContainerEl=null,this._HelpSystem=n,this._EntryHeight=-1,this._IndexEntryCount=0,this._IndexEntries=Object.create(null),this._IndexDivs=[],this._XmlDoc=null,this._Chunks=null,this._LiCached=null,this._SeePrefix=null,this._SeeAlsoPrefix=null,this.GetPath=function(n,t){return MadCap.String.IsNullOrEmpty(n)?new MadCap.Utilities.Url(t).ToRelative("/Content/").FullPath:"../"+new MadCap.Utilities.Url(n+t).FullPath},this.LoadRootEntry=function(n,i){var r=$(n),n=r.data("entry");t._HelpSystem.LoadRootIndexEntry(n,function(n){var u;n.e&&!n.childrenLoaded&&((u=$("<ul/>")).addClass("tree inner"),t.LoadEntries(u,n.e),r.append(u),t._Terms=t._Terms.add($(".IndexTerm",u)),MadCap.Accessibility.setAriaControls(r.find("a").first(),u,"index-dropdown")),n.childrenLoaded=!0,r.data("entry",n),i&&i(n,r)})},this.LoadEntries=function(n,i){var u,r=this;$.isArray(i)||(u=[],$.each(i,function(n,t){t.t||(t.t=n),u.push(t)}),u.sort(function(n,i){n=(n.s||n.t).toLowerCase(),i=(i.s||i.t).toLowerCase();return MadCap.String.LocaleCompare(n,i,t._HelpSystem.LanguageCode)}),i=u),$.each(i,function(t,i){var e,h,a,p,s,l,u=$("<li/>"),f=(u.addClass("IndexEntry tree-node tree-node-collapsed"),i.t),v="See"==i.r,y="SeeAlso"==i.r,o=$("<div/>");if(o.addClass("IndexTerm"),e=$("<span/>").addClass("label"),o.append(e),l=!0,v)f=r._SeePrefix+": "+i.f,o.addClass("see"),i.seeAlsoLinks=[i.f];else if(y){if(f=r._SeeAlsoPrefix+": ",i.seeAlsoLinks=[],1<(seeAlsoLinks=i.f.split("; ")).length){for(s=$("<a/>").text(f).attr("href","#"),e.append(s),h=0;h<seeAlsoLinks.length;h++)a=seeAlsoLinks[h],p=$("<a/>").addClass("seeAlsoLink").text(a).attr("href","#"),e.append(p),i.seeAlsoLinks.push(a),h<seeAlsoLinks.length-1&&e.append("; ");l=!1}else f+=i.f,i.seeAlsoLinks.push(i.f);o.addClass("see-also")}l&&((s=$("<a/>").text(f).attr("href","#")).attr("aria-expanded","false"),e.append(s)),u.append(o),i.isRoot=void 0!==i.$,i.e?((l=$("<ul/>")).addClass("tree inner"),r.LoadEntries(l,i.e),u.append(l)):1!==i.$&&i.isRoot||(u.removeClass("tree-node-collapsed"),u.children(".IndexTerm").find(".label > a").removeAttr("aria-expanded"),u.addClass("tree-node-leaf")),n.append(u),i.el=u[0],u.data("entry",i),v||y||(void 0===r._IndexEntries[f]?r._IndexEntries[f]=[i]:r._IndexEntries[f].push(i))})},this.FindEntry=function(n,i){t._HelpSystem.FindIndexEntry(n,function(n,r){r&&t.LoadRootEntry(n.el,function(){i&&i(r)})})},this.SelectEntry=function(n,i,r,u,f){var h,e,l,a,o,s;$(".tree-node-selected",t._ContainerEl).removeClass("tree-node-selected"),r.addClass("tree-node-selected"),i?(MadCap.TextEffects.RemoveLinkListTrees(),o=u.offset(),e=$(n.target),l=0==n.pageY&&0==n.pageX?(h=(l=e.offset()).top+e.height()-o.top,l.left+e.width()-o.width):(h=n.pageY-o.top,n.pageX-o.left),a=!this._HelpSystem.IsTabletLayout()||!this._HelpSystem.IsResponsive,i.r&&!f?(o=$(".seeAlsoLink",r).index(n.target),s=i.seeAlsoLinks[0],s=(s=0<=o?i.seeAlsoLinks[o]:s).replace(", ",":"),this.FindEntry(s,function(i){r=$(i.el),$container=a?$(t._ContainerEl).parent():$("#navigation"),t._UnhideNode(r[0]),t.SelectEntry(n,i,r,u,!0),$container.animate({scrollTop:$container.scrollTop()+r.offset().top-$container.offset().top})})):(i.linkList&&1<i.linkList.length&&!f?(a?(MadCap.TextEffects.CreateLinkListPopup(i.linkList,t._ContainerEl,h,l,u,"#"),$(".link-list-popup ul li a").filter(":last").on("focusout",function(){MadCap.TextEffects.RemoveLinkListPopups(),(e.closest(".IndexEntry").hasClass("tree-node-collapsed")?e.closest(".IndexEntry"):e.closest(".IndexTerm")).next().find(".label > a").first().focus()})):MadCap.TextEffects.CreateLinkListTree(i.linkList,r,u,"#",function(n){t.TreeNode_Click(n),MadCap.TextEffects.Item_Click.call($(n.currentTarget),[n])}),MadCap.Utilities.PreventDefault(n),n.stopPropagation()):i.linkList&&1==i.linkList.length&&($("body").removeClass("active"),document.location.href="#"+i.linkList[0].Link),r.hasClass("tree-node-expanded")&&!f?(r.removeClass("tree-node-expanded"),r.addClass("tree-node-collapsed"),r.children(".IndexTerm").find(".label > a").attr("aria-expanded","false")):r.hasClass("tree-node-collapsed")&&(r.removeClass("tree-node-collapsed"),r.addClass("tree-node-expanded"),r.children(".IndexTerm").find(".label > a").attr("aria-expanded","true")))):$("body").removeClass("active")},this.TreeNode_Click=function(n){var f,i,r,u=MadCap.Dom.GetAncestorNodeByTagName(n.target,"li");null==u||0<$(n.target).closest(".link-list-popup").length||(f=$(this),i=$(u),MadCap.Utilities.PreventDefault(n),r=i.data("entry"),i.hasClass("IndexEntryLink")||r&&!r.isRoot?t.SelectEntry(n,r,i,f):t.LoadRootEntry(u,function(i,r){t.SelectEntry(n,i,r,f)}))},this.Search=function(){var n=this.value.toLowerCase();t._Terms.each(function(){var i=$(this),r=t._HelpSystem.IndexPartialWordSearch?t.IsPartialMatch(i,n):MadCap.String.StartsWith(i.text(),n,!1);i.css("display",r?"":"none"),t._HelpSystem.IndexPartialWordSearch&&(i.removeHighlight("highlightIndex"),r)&&i.highlight(n,"highlightIndex")})},this.IsPartialMatch=function(n,t){for(var r=n.find("a"),i=0;i<r.length;i++)if(-1!=r[i].text.toLowerCase().indexOf(t))return!0;return!1}},(n=MadCap.WebHelp.IndexPane).prototype.Init=function(n,t){var i;this._Init?null!=t&&t():((i=this)._ContainerEl=n,n=$(this._ContainerEl.parentNode),this._SeePrefix=n.attr("data-see-prefix")||"See",this._SeeAlsoPrefix=n.attr("data-see-also-prefix")||"See Also",i._HelpSystem.LoadIndex(function(n){var r=$("<ul/>");r.addClass("tree"),i.LoadEntries(r,n.terms),(n=$(i._ContainerEl)).click(i.TreeNode_Click),n.append(r),$("#search-index").bind("keyup",i.Search),$("#responsive-search-index").bind("keyup",i.Search),i._Terms=$(".IndexTerm",this._ContainerEl),i._Init=!0,null!=t&&t()},null))},n.prototype._UnhideNode=function(n){for(var i,t=MadCap.Dom.GetAncestorNodeByTagName(n,"li",this._ContainerEl);null!=t;)(i=$(t)).removeClass("tree-node-collapsed"),i.addClass("tree-node-expanded"),i.children(".IndexTerm").find(".label > a").attr("aria-expanded","true"),t=MadCap.Dom.GetAncestorNodeByTagName(t,"li",this._ContainerEl)})}(),function(){var n;MadCap.Utilities.HasRuntimeFileType("TriPane")&&(MadCap.WebHelp=MadCap.CreateNamespace("WebHelp"),MadCap.WebHelp.GlossaryPane=function(n){var t=this;this._Init=!1,this._ContainerEl=null,this._HelpSystem=n,MadCap.Utilities.MessageBus.AddMessageHandler(this.OnMessage,this),this.TreeNode_Click=function(n){var i,r,e,o,s,u=MadCap.Dom.GetAncestorNodeByTagName(n.target,"li");null!=u&&(i=$(u),r=$("a",i),e=r.text(),o=i.attr("data-chunk"),o=t._HelpSystem.Glossary.chunks[o].path,s=new MadCap.Utilities.Url(o).ToFolder().ToFolder(),MadCap.Utilities.PreventDefault(n),require([o],function(n){var h,c,n=n[e];$(".tree-node-selected",t._ContainerEl).removeClass("tree-node-selected"),i.addClass("tree-node-selected"),h=$(".GlossaryPageTerm",u),MadCap.String.IsNullOrEmpty(n.d)||h.hasClass("MCDropDownHead")||(h.addClass("MCDropDownHead MCDropDownHotSpot"),(c=$("<div/>")).addClass("GlossaryPageDefinition MCDropDownBody"),c.append(n.d),i.addClass("MCDropDown"),i.append(h),i.append(c),(h=new MadCap.TextEffects.DropDownControl(i[0])).Init(!1),h.Open(!0)),MadCap.String.IsNullOrEmpty(n.l)?i.hasClass("tree-node-expanded")?(i.removeClass("tree-node-expanded"),i.addClass("tree-node-collapsed")):i.hasClass("tree-node-collapsed")&&(i.removeClass("tree-node-collapsed"),i.addClass("tree-node-expanded"),$("li",i.parent()).last()[0]==i[0])&&(c=$(t._ContainerEl)).animate({scrollTop:c[0].scrollHeight},500):("#"==(h=r.attr("href"))&&(c=s.CombinePath(n.l).ToRelative(t._HelpSystem.GetContentPath()).FullPath,h=encodeURI(c),r.attr("href",h)),document.location.href="#"+h,MadCap.Accessibility.tripaneGlossarySkip(r,r.text()))}))},this.Search=function(){var n=this.value.toLowerCase();t._Terms.each(function(){var i=$(this),u=i.closest("li"),r=t._HelpSystem.GlossaryPartialWordSearch?-1!=i.text().toLowerCase().indexOf(n):MadCap.String.StartsWith(i.text(),n,!1);u.css("display",r?"block":"none"),t._HelpSystem.GlossaryPartialWordSearch&&(i.removeHighlight("highlightGlossary"),r)&&i.highlight(n,"highlightGlossary")})}},(n=MadCap.WebHelp.GlossaryPane).prototype.OnMessage=function(){return{Handled:!1,FireResponse:!0}},n.prototype.Init=function(n,t){var i;this._Init?null!=t&&t():((i=this)._ContainerEl=n,i._HelpSystem.LoadGlossary(function(n){var e,u,r,f=$("<ul/>");for(f.addClass("tree"),e=n.terms.sort(function(n,t){return MadCap.String.LocaleCompare(n.s||n.t,t.s||t.t,i._HelpSystem.LanguageCode)}),u=0;u<e.length;u++){o=e[u],(r=$("<li/>")).addClass("GlossaryPageEntry tree-node tree-node-collapsed"),r.attr("data-chunk",o.c);var s=$("<div/>"),o=$('<a href="#" />').text(o.t),l=$('<span class="label"></span>');MadCap.Accessibility.makeAccessibleButton(o),s.addClass("GlossaryPageTerm"),l.append(o),s.append(l),r.append(s),f.append(r)}(n=$(i._ContainerEl)).click(i.TreeNode_Click),n.append(f),$("#search-glossary").bind("keyup",i.Search),$("#responsive-search-glossary").bind("keyup",i.Search),i._Terms=$(".GlossaryPageTerm a",i._ContainerEl),i._Init=!0,null!=t&&t()},null))},n.prototype._SelectNode=function(n){$(".tree-node-selected",this._ContainerEl).removeClass("tree-node-selected"),$(n).addClass("tree-node-selected")})}(),function(){var t,n=MadCap.CreateNamespace("WebHelp.Search");n.Tokenizer=function(){function i(){return u.charAt(r+1)}function t(){r++}function o(){var o,r=i(),u=null,f="";if(r)if(n.IsWhiteSpace(r)){for(r=i();n.IsWhiteSpace(r);r=i())t(),f+=r;u=new n.Token(f,n.Token.WhiteSpace)}else if("("==r)t(),u=new n.Token(r,n.Token.LeftParen);else if(")"==r)t(),u=new n.Token(r,n.Token.RightParen);else if("^"==r||"!"==r)t(),u=new n.Token(r,n.Token.Not);else if("+"==r||"&"==r)t(),u=new n.Token(r,n.Token.And);else if("|"==r)t(),u=new n.Token(r,n.Token.Or);else if('"'==r)t(),o=function(){for(var n,r="";n=i();){if('"'==n){t();break}t(),r+=n}return""==r?null:r}(),u=new n.Token(o,null==o?n.Token.Error:n.Token.Phrase);else if(n.IsTermSeparator(r))t(),u=new n.Token(r,n.Token.TermSeparator);else{for(r=i();n.IsNameChar(r);r=i())t(),f+=r;u="and"==f||"AND"==f?new n.Token(f,n.Token.And):"or"==f||"OR"==f?new n.Token(f,n.Token.Or):"not"==f||"NOT"==f?new n.Token(f,n.Token.Not):(o=n.Token.Word,"NGram"==MadCap.WebHelp.SearchPane.SearchDBs[0].SearchType&&(o=n.Token.Phrase),new n.Token(f,o))}else u=null;return u}var u="",r=-1,f=[];this.Tokenize=function(n){var i,t;for(u=n,r=-1,t=0;i=o();t++)f[t]=i;return f}},n.Token=function(n,t){var i=n,r=t;this.GetTokenText=function(){return i},this.GetType=function(){return r}},(t=n.Token).Eof=0,t.Error=1,t.WhiteSpace=2,t.Phrase=3,t.Word=4,t.RightParen=5,t.LeftParen=6,t.Not=7,t.And=8,t.Or=9,t.ImplicitAnd=10,t.TermSeparator=11,n.Parser=function(t){function f(){r++}function c(){if(e(),i()==n.Token.Word||i()==n.Token.Phrase)return f(),new n.Node(u[r],null,null);if(i()!=n.Token.LeftParen)throw gInvalidTokenLabel;f();var t=u[r],t=new n.Node(t,o.ParseExpression(),null);if(i()!=n.Token.RightParen)throw"Missing right paren ')'.";return f(),t}function i(){return null==u[r+1]?n.Token.Eof:u[r+1].GetType()}function e(){for(;i()==n.Token.WhiteSpace||i()==n.Token.TermSeparator;)f()}var o=this,r=-1,u=(new n.Tokenizer).Tokenize(t);this.ParseExpression=function(){var t=c();if(e(),i()==n.Token.Eof)return t;if(i()==n.Token.And||i()==n.Token.Or||i()==n.Token.Not)return f(),new n.Node(u[r],t,this.ParseExpression());if(i()==n.Token.Word||i()==n.Token.Phrase||i()==n.Token.Not||i()==n.Token.LeftParen)return new n.Node(new n.Token(t.GetToken().GetTokenText()+" "+u[r+1].GetTokenText(),n.Token.ImplicitAnd),t,this.ParseExpression());if(i()==n.Token.RightParen)return t;throw gInvalidTokenLabel}},n.Node=function(t,i,r){var u=t,f=i,e=r;this.Evaluate=function(t,i){var r=u.GetType();r==n.Token.Word||r==n.Token.Phrase?this.EvaluatePhrase(t).then(i):r==n.Token.And||r==n.Token.ImplicitAnd||r==n.Token.Or||r==n.Token.Not?f.Evaluate(t,function(r){e.Evaluate(t,function(t){u.GetType()==n.Token.And||u.GetType()==n.Token.ImplicitAnd?i(n.IntersectResults(r,t)):u.GetType()==n.Token.Or?i(n.UnionResults(r,t)):u.GetType()==n.Token.Not&&i(n.SubtractResults(r,t))})}):r==n.Token.LeftParen&&f?f.Evaluate(t,i):i(null)},this.EvaluatePhrase=function(t){var r,s,e=$.Deferred(),f=u.GetTokenText(),h=u.GetType()==n.Token.Phrase,o=[],i=Object.create(null);if(i.results=Object.create(null),i.terms=[],i.ignore=-1<MadCap.Utilities.StopWords.indexOf(f),!i.ignore)for(i.terms.push(f),r=0;r<MadCap.WebHelp.SearchPane.SearchDBs.length;r++)s=MadCap.WebHelp.SearchPane.SearchDBs[r],o.push(s.LookupPhrase(f,h,t).then(function(n,t){t&&(dbIndex=MadCap.WebHelp.SearchPane.SearchDBs.indexOf(n),i.results[dbIndex]={data:t})}));return $.when.apply(this,o).done(function(){e.resolve(i)}),e.promise()},this.EvaluateMicroContentScope=function(t,i){var r=u.GetType();r==n.Token.Word||r==n.Token.Phrase?this.EvaluateMicroContentPhrase(t).then(i):r==n.Token.And||r==n.Token.ImplicitAnd||r==n.Token.Or||r==n.Token.Not?f.EvaluateMicroContentScope(t,function(r){e.EvaluateMicroContentScope(t,function(t){u.GetType()==n.Token.And||u.GetType()==n.Token.ImplicitAnd?i(n.IntersectResults(r,t)):u.GetType()==n.Token.Or?i(n.UnionResults(r,t)):u.GetType()==n.Token.Not&&i(n.SubtractResults(r,t))})}):r==n.Token.LeftParen&&f?f.EvaluateMicroContentScope(t,i):i(null)},this.EvaluateMicroContentPhrase=function(t){var e,o=$.Deferred(),r=u.GetTokenText(),s=u.GetType()==n.Token.Phrase,f=[],i=Object.create(null);return i.results=Object.create(null),i.terms=[],i.ignore=-1<MadCap.Utilities.StopWords.indexOf(r),i.ignore||(e=MadCap.WebHelp.SearchPane.SearchDBs[0],u.GetType()==n.Token.Any?f.push(e.LookupMicroContentByScopeID(t).then(function(n,t){t&&(dbIndex=MadCap.WebHelp.SearchPane.SearchDBs.indexOf(n),i.results[dbIndex]={data:t})})):(i.terms.push(r),f.push(e.LookupMicroContent(t,r,s).then(function(n,t){t&&(dbIndex=MadCap.WebHelp.SearchPane.SearchDBs.indexOf(n),i.results[dbIndex]={data:t})})))),$.when.apply(this,f).done(function(){o.resolve(i)}),o.promise()},this.GetToken=function(){return u}},n.LoadResultData=function(t){var u,h,c,o=[],s=0,r=t.results;for(u in r)h=MadCap.WebHelp.SearchPane.SearchDBs[u],c=r[u],o.push(h.LoadTopicsWithMicroContent(c).then(function(n){s+=n.count}));var l=MadCap.WebHelp.SearchPane.SearchDBs[0].RelevanceWeight,f=$.Deferred(),e=[],i=[];return $.when.apply(this,o).done(function(){var c,w,a,b,o,v,h,g,nt;for(c in r)for(b in w=MadCap.WebHelp.SearchPane.SearchDBs[c],(a=r[c]).data)0===(v=(o=a.data[b]).y)?(g=w.HelpSystem.GetTopicPath(o.u).FullPath,nt=o.i*a.count/s,nt=MadCap.Utilities.CalculateScore(o.r,nt,l),e.push(new n.SearchResult(nt,null,o.t,g,o.a))):1===v&&i.push({db:c,id:o.m,title:o.t,score:o.r,contentLength:o.l,mc:o.mc});if(0==i.length)f.resolve(e,t.terms);else{for(i.sort(function(n,t){return t.db!=n.db?n.db<t.db?-1:1:t.id!=n.id?t.id-n.id:t.score!=n.score?t.score-n.score:n.contentLength-t.contentLength}),u=h=1;u<i.length;u+=1)i[u].db==i[h-1].db&&i[u].id==i[h-1].id||(u!=h&&(i[h]=i[u]),h+=1);for(;i.length!=h;)i.pop();i.sort(function(n,t){return t.score!==n.score?t.score-n.score:n.contentLength-t.contentLength}),microContentPanels=[[],[]];for(var k=_HelpSystem.FeaturedSnippetsScopeID,d=_HelpSystem.KnowledgePanelScopeID,y=k<0?0:_HelpSystem.FeaturedSnippetsResults,p=d<0?0:_HelpSystem.KnowledgePanelResults,u=0;0<y+p&&u<i.length;u+=1)0<y&&0<=i[u].mc.sc.indexOf(k)&&(microContentPanels[0].push(n.GetMicroContentResult(i[u])),--y),0<p&&0<=i[u].mc.sc.indexOf(d)&&(microContentPanels[1].push(n.GetMicroContentResult(i[u])),--p);f.resolve(e,t.terms,microContentPanels)}}),f.promise()},n.LoadMicroContentResultData=function(t,i,r){var o,h,c,e,u,s=[],f=t.results;for(o in f)h=MadCap.WebHelp.SearchPane.SearchDBs[o],c=f[o],s.push(h.LoadTopicsWithMicroContent(c));return e=$.Deferred(),u=[],$.when.apply(this,s).done(function(){var h,c,v,s,o,t,l,a;for(h in f)for(v in(c=f[h]).data)s=c.data[v],u.push({db:h,id:s.m,title:s.t,score:s.r,contentLength:s.l,mc:s.mc});if(0==u.length)e.resolve();else{for(u.sort(function(n,t){return t.db!=n.db?n.db<t.db?-1:1:t.id!=n.id?t.id-n.id:t.score!=n.score?t.score-n.score:n.contentLength-t.contentLength}),t=o=1;t<u.length;t+=1)u[t].db==u[o-1].db&&u[t].id==u[o-1].id||(t!=o&&(u[o]=u[t]),o+=1);for(;u.length!=o;)u.pop();for(r?function(n){for(var i,r,t=n.length-1;0<t;t--)i=Math.floor(Math.random()*(t+1)),r=n[t],n[t]=n[i],n[i]=r}(u):u.sort(function(n,t){return t.score!==n.score?t.score-n.score:n.contentLength-t.contentLength}),l=[],a=i,t=0;0<a&&t<u.length;t+=1)l.push(n.GetMicroContentResult(u[t])),--a;e.resolve(l)}}),e.promise()},n.GetMicroContentResult=function(n){for(var i=MadCap.WebHelp.SearchPane.SearchDBs[n.db],t=n.mc,u=i.HelpSystem.GetTopicPath(t.u,!0).FullPath,e=i.HelpSystem.ProcessMicroContentXhtml(t.c,u),o=MadCap.String.IsNullOrEmpty(t.l)?t.l:i.HelpSystem.GetTopicPath(t.l).FullPath,f=[],r=0;r<t.s.length;r++)f.push(i.HelpSystem.GetTopicPath(t.s[r],!0).FullPath);return{url:u,html:e,source:o,sourceTitle:n.title,phrases:t.p,truncated:t.tr,stylesheets:f}},n.IsNameChar=function(t){return!!t&&'"'!=t&&"+"!=t&&"^"!=t&&"|"!=t&&"&"!=t&&!n.IsWhiteSpace(t)&&!n.IsTermSeparator(t)},n.IsWhiteSpace=function(n){return!!n&&(" "==n||12288==n.charCodeAt(0))},n.IsTermSeparator=function(n){return MadCap.String.IsPunctuation(n)&&"'"!=n&&"_"!=n||">"==n||"<"==n||"="==n},n.SplitPhrase=function(t){var i,r=null,u=MadCap.WebHelp.SearchPane.SearchDBs[0];if("NGram"==u.SearchType)for(r=new Array(Math.max(0,t.length-(u.NGramSize+1))),i=0;i<t.length-u.NGramSize+1;i++)r[i]=t.substring(i,i+u.NGramSize);else r=MadCap.String.Split(t,function(t){return n.IsWhiteSpace(t)||n.IsTermSeparator(t)});return r},n.FilterResults=function(n,t,i,r){var f,o,u,s,e;if(n.ignore&&t.ignore||t.ignore)return n;if(n.ignore)return t;for(u in(f=Object.create(null)).results=Object.create(null),o=f.results,n.results)o[u]=Object.create(null),o[u].data=Object.create(null),s=n.results[u].data,e=t.results[u],e=e&&e.data,i(s,e,o[u].data);return f.terms=r(n.terms,t.terms),f},n.UnionResults=function(t,i){return n.FilterResults(t,i,function(n,t,i){var r,u,f;for(r in n)i[r]=n[r];if(t)for(r in t)u=n[r],f=t[r],i[r]=u?{r:MadCap.Utilities.CombineRelevancy(u.r,f.r)}:f},function(n,t){return n.Union(t)})},n.IntersectResults=function(t,i){return n.FilterResults(t,i,function(n,t,i){var r,u;if(t)for(r in n)u=t[r],u&&(i[r]={r:MadCap.Utilities.CombineRelevancy(n[r].r,u.r)})},function(n,t){return n.Union(t)})},n.SubtractResults=function(t,i){return t.ignore||i.ignore?t:n.FilterResults(t,i,function(n,t,i){var r,u;if(t)for(r in n)u=t[r],u||(i[r]=n[r])},function(n){return n})}}(),function(){var i,n,t;MadCap.WebHelp=MadCap.CreateNamespace("WebHelp"),MadCap.WebHelp.SearchPane=function(n,t){this._Init=!1,this._Container=t,this._HelpSystem=n,this._FeedbackController=null,this._Parser=null,this._Filters=null,this._Set=null,this._FilteredSet=null,this._Highlight="",this._DownloadedSynonymXmlDocRootNode=null,this._Scopes=null},(i=MadCap.WebHelp.SearchPane).SearchDBs=[],i.prototype.Init=function(t){function u(){r._HelpSystem.IsWebHelpPlus?f(null):r._HelpSystem.GetSearchDBs(f)}function f(u){i.SearchDBs=u,r._Filters=new n.Filters(r._HelpSystem),r._Scopes=new n.MicroContentScopes(r._HelpSystem),r._Filters.Load(function(){r._Scopes.Load(function(){r._Init=!0,t&&t.call(r)})})}var r;this._Init?t&&t.call(this):(r=this)._HelpSystem.LiveHelpEnabled&&!this._HelpSystem.IsCentralLiveHelpServerType()?(this._FeedbackController=MadCap.WebHelp.LoadFeedbackController(this._HelpSystem.LiveHelpServer),this._FeedbackController.Init(function(){r._FeedbackController.FeedbackActive?r._FeedbackController.GetSynonymsFile(r._HelpSystem.LiveHelpOutputId,null,function(n){n=MadCap.Utilities.Xhr.LoadXmlString(n);null!=n&&(r._DownloadedSynonymXmlDocRootNode=n.documentElement),u()},null):u()})):u()},i.prototype.Search=function(n,t){var i=$.Deferred();return MadCap.String.IsNullOrEmpty(MadCap.String.Trim(n))?i.resolve({contentTotal:0}):(this._Container.addClass("loading"),this.Init(function(){var f,r={},u=[];t.searchContent&&(f=t.content?t.content.filterName:null,f=this._HelpSystem.IsWebHelpPlus?this.DoSearchWebHelpPlus(n,f):this.DoSearch(n,f),u.push(f.then(function(n,t,i){r.content=n,r.contentTotal=null!=n?n.length:0,r.includedTerms=t,r.microContent=i,r.clientPaging=!0}))),t.searchGlossary&&u.push(this._HelpSystem.SearchGlossary(n).then(function(n){r.glossary=n})),t.searchCommunity&&this._FeedbackController&&this._FeedbackController.PulseActive&&(f=this._FeedbackController.GetPulseSearchResults(this._HelpSystem.LiveHelpOutputId,n,t.community.pageSize,t.community.pageIndex),u.push(f.then(function(n){r.community=n}))),$.when.apply(this,u).done($.proxy(function(){this._Container.removeClass("loading"),i.resolve(r)},this))}),i.promise())},i.prototype.DoSearch=function(t,r){var s,f,o=$.Deferred();this._Parser=new n.Parser(t),t=null;try{t=this._Parser.ParseExpression()}catch(h){s=this._HelpSystem.GetLanguageString("Search Format Warning",!0,"SearchResults","Label","Ensure that the search string is properly formatted."),alert(s),t=null}return t?(s=i.SearchDBs[0],null!=this._DownloadedSynonymXmlDocRootNode&&null==s.DownloadedSynonymFile&&(s.DownloadedSynonymFile=new n.SynonymFile(this._DownloadedSynonymXmlDocRootNode,s.Stemmer)),f=this,t.Evaluate(r,function(t){n.LoadResultData(t).then(function(n,t,i){f._Set=n,f._Set&&f._Set.sort(function(n,t){return t.Score-n.Score}),MadCap.Utilities.ClearRequireCache(),o.resolve(f._Set,t,i)})}),o.promise()):o.resolve()},i.prototype.DoSearchWebHelpPlus=function(t,i){var f,e,r,u=this,o=$.Deferred();for(MadCap.Utilities.Xhr.CallWebService(u._HelpSystem.GetPath()+"Service/Service.asmx/GetSearchResults?SearchString="+encodeURIComponent(t)+"&FilterName="+encodeURIComponent(i),!0,function(t){var f,s=[];if(t){var h=t.getElementsByTagName("Result"),l=h.length,i=new MadCap.Utilities.Url(document.location.pathname);for(u._HelpSystem.SearchUrl||(i=(i=MadCap.String.EndsWith(document.location.pathname,"/")?i:i.ToFolder()).CombinePath(u._HelpSystem.ContentFolder)),f=0;f<l;f++){var r=h[f],a=MadCap.Dom.GetAttributeInt(r,"Rank",-1),e=r.getAttribute("Title"),v=r.getAttribute("Link"),v=new MadCap.Utilities.Url(v).ToRelative(i),p=r.getAttribute("AbstractText");MadCap.String.IsNullOrEmpty(e)&&(e=r.getAttribute("Filename")),r=new n.SearchResult(a,null,e,v.FullPath,unescape(p)),s.push(r)}}o.resolve(s)},null),f=t.split(" "),e=!0,this._Highlight="?Highlight=",r=0;r<f.length;r++)e?e=!1:this._Highlight+="||",this._Highlight+=f[r];return o.promise()},i.prototype.MicroContentSearch=function(n,t,i,r){var u=$.Deferred();return MadCap.String.IsNullOrEmpty(MadCap.String.Trim(r))?u.resolve({contentTotal:0}):(this._Container.addClass("loading"),this.Init(function(){var f={},e=[],o="*"===r?this.GetMicroContentFromScope(n,t,i):this.DoMicroContentSearch(n,t,i,r);e.push(o.then(function(n){f.microContent=n})),$.when.apply(this,e).done($.proxy(function(){this._Container.removeClass("loading"),u.resolve(f)},this))}),u.promise())},i.prototype.DoMicroContentSearch=function(t,r,u,f){var h,s=$.Deferred();this._Parser=new n.Parser(f),f=null;try{f=this._Parser.ParseExpression()}catch(c){h=this._HelpSystem.GetLanguageString("Search Format Warning",!0,"SearchResults","Label","Ensure that the search string is properly formatted."),alert(h),f=null}return f?(h=i.SearchDBs[0],null!=this._DownloadedSynonymXmlDocRootNode&&null==h.DownloadedSynonymFile&&(h.DownloadedSynonymFile=new n.SynonymFile(this._DownloadedSynonymXmlDocRootNode,h.Stemmer)),f.EvaluateMicroContentScope(t,function(t){n.LoadMicroContentResultData(t,r,u).then(function(n){MadCap.Utilities.ClearRequireCache(),s.resolve(n)})}),s.promise()):s.resolve()},i.prototype.GetMicroContentFromScope=function(t,i,r){var f,s,e=$.Deferred(),o=[],u=Object.create(null);for(u.results=Object.create(null),u.terms=[],f=0;f<MadCap.WebHelp.SearchPane.SearchDBs.length;f++)s=MadCap.WebHelp.SearchPane.SearchDBs[f],o.push(s.LookupMicroContentByScopeID(t).then(function(n,t){t&&(n=MadCap.WebHelp.SearchPane.SearchDBs.indexOf(n),u.results[n]={data:t})}));return $.when.apply(this,o).done(function(){n.LoadMicroContentResultData(u,i,r).then(function(n){MadCap.Utilities.ClearRequireCache(),e.resolve(n)})}),e.promise()},n=MadCap.CreateNamespace("WebHelp.Search"),MadCap.WebHelp.Search.SearchDB=function(n){this.RelevanceWeight=0,this.TopicChunkMap=null,this.MicroContentChunkMap=null,this.UrlChunkMap=null,this.StemChunkMap=null,this.PhraseChunkMap=null,this.HelpSystem=n,this.SearchType=null,this.NGramSize=0,this.Stemmer=null,this.SynonymFile=null,this.DownloadedSynonymFile=null},(t=n.SearchDB).prototype.Load=function(t,i){var r=this;this.LoadStemmer(this.HelpSystem.LanguageName,function(){MadCap.Utilities.Xhr.Load(r.HelpSystem.GetPath()+"Data/Synonyms.xml",!0,function(u){null!=u&&(r.SynonymFile=new n.SynonymFile(u.documentElement,r.Stemmer)),r._LoadSearchDB(t,i)},null,this)})},t.prototype.LoadStemmer=function(n,t){var r,u,i=null;this.Stemmer={stemWord:function(n){return null!=n&&(n=n.toLowerCase()),n=null!=i?i.stemWord(n):n}},null!=n&&-1!=["danish","dutch","english","finnish","french","german","hungarian","italian","norwegian","portuguese","romanian","russian","spanish"].indexOf(n.toLowerCase())?(r="stemmer-"+n.toLowerCase()+".amd.min.js",u=MadCap.Utilities.HasRuntimeFileType("SkinPreview")?(MadCap.Utilities.HasRuntimeFileType("TriPane")?"":"../../")+"../WebHelp2/Scripts/Stemmers/":this.HelpSystem.GetPath()+this.HelpSystem.ScriptsFolderPath,require([u+r],function(r){i=new r[n+"Stemmer"],t()})):t()},t.prototype.GetTermPhrases=function(n,t,i,r){function a(n,t,i,r){var e,o,f=[],s=[];if(n){if(f=n.Intersect(i),!r)for(e=0;e<i.length;e++)s.push(u.LoadTopic(i[e]).then(function(n,t){1==t.y&&f.push(n)}))}else f=i;return o=$.Deferred(),$.when.apply(this,s).done(function(){o.resolve(t,f)}),o.promise()}var e,s,h,u=this,f=new MadCap.Utilities.Dictionary,o=this.Stemmer.stemWord(n),c=new MadCap.Utilities.Dictionary;return f.Add(o,!0),t||(null!=this.SynonymFile&&this.SynonymFile.AddSynonymStems(n,o,f),null!=this.DownloadedSynonymFile&&this.DownloadedSynonymFile.AddSynonymStems(n,o,f)),Object.create(null),e=[],f.ForEach(function(n){var t,i;if("NGram"==u.SearchType)for(t=0;t<n.length-u.NGramSize+1;t++)i=n.substring(t,t+u.NGramSize),e.push(i);else e.push(n)}),s=[],$.each(e,function(f,e){s.push(u.LoadStem(e).then(function(u){var f,e=[];for(f in u)t&&f!=n.toLowerCase()||e.push(a(i,f,u[f],r).then(function(n,t){c.Add(n,t)}));return $.when.apply(this,e).promise()}))}),h=$.Deferred(),$.when.apply(this,s).done(function(){h.resolve(n,c)}),h.promise()},t.prototype.LookupPhrase=function(t,i,r){var s,y,p,e=this,o=$.Deferred(),f=n.SplitPhrase(t),a=[],h=new MadCap.Utilities.Dictionary;if(!(t=t&&t.trim())||-1<MadCap.Utilities.StopWords.indexOf(t))o.resolve(e,null);else{if(r&&(s=[],t=this.HelpSystem.GetMasterHelpSystem().GetSearchFilters())&&(t=t[r]))for(var v=t.c.split(";"),b=this.HelpSystem.GetConcepts(),u=0;u<v.length;u++)y=v[u],s=s.Union(b[y]);for(u=0;u<f.length;u++)p=f[u],a.push(this.GetTermPhrases(p,i,s,!1).then(function(n,t){h.Add(n,t)}));$.when.apply(e,a).done(function(){var t,n,r,u;h.ForEach(function(n,i){var r=[];i.ForEach(function(n,t){r=r.Union(t)}),t=t?t.Intersect(r):r}),n=Object.create(null),r=[],h.ForEach(function(i,u){n[i]=Object.create(null),u.ForEach(function(u,f){f=f.Intersect(t);$.each(f,function(t,f){r.push(e.LoadPhrase(u,f).then(function(t,r){var u=n[i][t];r&&(u?(u.r=MadCap.Utilities.CombineRelevancy(u.r,r.r),$.extend(!0,u.w,r.w)):n[i][t]=r)}))})})}),Object.create(null),u=Object.create(null),$.when.apply(this,r).done(function(){$.each(t,function(t,r){var h,c,o,s,e=0;if(i)for(c in h=n[f[0]][r].w){for(o=h[c],s=1;s<f.length;s++){var a=parseInt(c),v=f[s],v=n[v][r].w[a+s];if(!v){o=0;break}o=Math.max(o,v)}e=MadCap.Utilities.CombineRelevancy(e,o)}else e=n[f[0]][r].r;0<e&&(u[r]={r:e})}),o.resolve(e,u)})})}return o.promise()},t.prototype.LookupMicroContent=function(t,i,r){var l,o,a,f=this,e=$.Deferred(),u=n.SplitPhrase(i),h=[],s=new MadCap.Utilities.Dictionary;if((i=i&&i.trim())&&-1<MadCap.Utilities.StopWords.indexOf(i))e.resolve(f,null);else{if(l=this.HelpSystem.GetMasterHelpSystem().GetMicroContentScope(t).t,!u.length)throw new Error("search by empty text is not implemented");for(o=0;o<u.length;o++)a=u[o],h.push(this.GetTermPhrases(a,r,l,!0).then(function(n,t){s.Add(n,t)}));$.when.apply(f,h).done(function(){var t,n,i,o;s.ForEach(function(n,i){var r=[];i.ForEach(function(n,t){r=r.Union(t)}),t=t?t.Intersect(r):r}),n=Object.create(null),i=[],s.ForEach(function(r,u){n[r]=Object.create(null),u.ForEach(function(u,e){e=e.Intersect(t);$.each(e,function(t,e){i.push(f.LoadPhrase(u,e).then(function(t,i){var u=n[r][t];i&&(u?(u.r=MadCap.Utilities.CombineRelevancy(u.r,i.r),$.extend(!0,u.w,i.w)):n[r][t]=i)}))})})}),Object.create(null),o=Object.create(null),$.when.apply(this,i).done(function(){$.each(t,function(t,i){var h,c,e,s,f=0;if(r)for(c in h=n[u[0]][i].w){for(e=h[c],s=1;s<u.length;s++){var a=parseInt(c),v=u[s],v=n[v][i].w[a+s];if(!v){e=0;break}e=Math.max(e,v)}f=MadCap.Utilities.CombineRelevancy(f,e)}else f=n[u[0]][i].r;0<f&&(o[i]={r:f})}),e.resolve(f,o)})})}return e.promise()},t.prototype.LookupMicroContentByScopeID=function(n){var t=$.Deferred(),n=this.HelpSystem.GetMasterHelpSystem().GetMicroContentScope(n).t,i=Object.create(null);return $.each(n,function(n,t){i[t]={}}),t.resolve(this,i),t.promise()},t.prototype.LoadTopics=function(n){var u,i,t=[],r=n.data;for(u in r)t.push(this.LoadTopic(u).then(function(n,t){$.extend(r[n],t)}));return n.count=t.length,i=$.Deferred(),$.when.apply(this,t).done(function(){i.resolve(n)}),i.promise()},t.prototype.LoadMicroContent=function(n){var u,i,t=[],r=n.data;for(u in r)t.push(this.LoadTopic(u).then(function(n,t){$.extend(r[n],t)}));return n.count=t.length,i=$.Deferred(),$.when.apply(this,t).done(function(){i.resolve(n)}),i.promise()},t.prototype.LoadTopicsWithMicroContent=function(n){var i=this,u=$.Deferred(),r=[],f=[],t=n.data;return Object.keys(t).forEach(function(n){r.push(i.LoadTopic(n).then(function(i,r){$.extend(t[n],r)}))}),n.count=r.length,$.when.apply(i,r).done(function(){Object.keys(t).forEach(function(n){1==t[n].y&&f.push(i.LoadMicroContent(t[n].m).then(function(i,r){t[n].mc=r}))}),$.when.apply(i,f).done(function(){u.resolve(n)})}),u.promise()},t.prototype._LoadSearchDB=function(n,t){this.TopicChunkMap=n.t,this.MicroContentChunkMap=n.m,this.UrlChunkMap=n.u,this.StemChunkMap=n.s,this.PhraseChunkMap=n.p,this.RelevanceWeight=n.r,this.SearchType=n.st,this.NGramSize=n.n,t&&t()},t.prototype.LookupPhraseChunkId=function(n,t){for(var f,u=this.PhraseChunkMap.length,i=0;i<u;i++)if(f=this.PhraseChunkMap[i][0],0==(f=MadCap.String.Compare(n,f))){if(t<this.PhraseChunkMap[i][1])return i-1;if(t==this.PhraseChunkMap[i][1])return i}else if(-1==f)return i-1;return u-1},t.prototype.LoadDocument=function(n,t,i){var r=$.Deferred(),t=MadCap.Utilities.GetChunkId(t,n,function(n,t){return n<t?-1:n==t?0:1});return-1==t?r.resolve():MadCap.Utilities.Require([this.HelpSystem.GetPath()+"Data/"+i+"_Chunk"+t+".js"],function(t){r.resolve(n,t[n])}),r.promise()},t.prototype.LoadTopic=function(n){return this.LoadDocument(n,this.TopicChunkMap,"SearchTopic")},t.prototype.LoadMicroContent=function(n){return this.LoadDocument(n,this.MicroContentChunkMap,"MicroContent")},t.prototype.LoadUrl=function(n){var t=$.Deferred(),i=MadCap.Utilities.GetChunkId(this.UrlChunkMap,n,function(n,t){return MadCap.String.Compare(n,t)});return-1==i?t.resolve():MadCap.Utilities.Require([this.HelpSystem.GetPath()+"Data/SearchUrl_Chunk"+i+".js"],function(i){t.resolve(n,i[n])}),t.promise()},t.prototype.LoadTopicByUrl=function(n){var t=this;return this.LoadUrl(n).then(function(n,i){return t.LoadTopic(i)})},t.prototype.LoadStem=function(n){var i,r,f=this,t=$.Deferred(),u=MadCap.Utilities.GetChunkIds(this.StemChunkMap,n,function(n,t){return MadCap.String.Compare(n,t)});return 0===u.length?t.resolve():(i=[],r=Object.create(null),$.each(u,function(t,u){i.push(f.LoadStemChunk(u).then(function(t){$.extend(r,t[n])}))}),$.when.apply(this,i).done(function(){t.resolve(r)},this)),t.promise()},t.prototype.LoadStemChunk=function(n){var t=$.Deferred();return MadCap.Utilities.Require([this.HelpSystem.GetPath()+"Data/SearchStem_Chunk"+n+".js"],function(n){t.resolve(n)}),t.promise()},t.prototype.LoadPhrase=function(n,t){var i=$.Deferred(),r=this.LookupPhraseChunkId(n,t);return MadCap.Utilities.Require([this.HelpSystem.GetPath()+"Data/SearchPhrase_Chunk"+r+".js"],function(r){var u;r[n]&&(u=r[n][t]),i.resolve(t,u)}),i.promise()},n.SearchQuery=function(t,i,r){this.Query=t,this.Filter=i,this.PageIndex=r,this.ToString=function(){return function(n,t){for(var f,r,e=MadCap.Utilities.HasRuntimeFileType("TriPane"),u=!1,i=0;i<t.length;i++)f=t[i][0],r=t[i][1],MadCap.String.IsNullOrEmpty(r)||(n+=(!u&&e?"?":"&")+f+"="+r,u=!0);return n}(this.Query,[[n.SearchQuery._filter,this.Filter],[n.SearchQuery._pageIndex,this.PageIndex]])}},n.SearchQuery._query="q",n.SearchQuery._filter="f",n.SearchQuery._pageIndex="p",n.SearchQuery.Parse=function(t){var r,t=new MadCap.Utilities.Url(t),i=t.PlainPath;return MadCap.String.IsNullOrEmpty(i)&&(i=t.QueryMap.GetItem(n.SearchQuery._query)),MadCap.String.IsNullOrEmpty(i)||(i=decodeURIComponent(i)),r=(r=t.QueryMap.GetItem(n.SearchQuery._filter))&&decodeURIComponent(r),null!=(t=t.QueryMap.GetItem(n.SearchQuery._pageIndex))&&(t=parseInt(t)),new n.SearchQuery(i,r,t)},n.SearchResult=function(n,t,i,r,u,f){this.Score=n,this.Rank=t,this.Title=i,this.Link=r,this.AbstractText=u,this.Highlighted=f},n.Filters=function(n){var t=n;this.Load=function(n){t.LoadSearchFilters().then(function(){t.LoadAllConcepts(function(){n()})},null,null)}},n.MicroContentScopes=function(n){var t=n;this.Load=function(n){t.LoadMicroContentScopes().then(function(){n()})}},n.SynonymFile=function(n,t){this.Stemmer=t,this.WordToStem=new MadCap.Utilities.Dictionary(!0),this.Directionals=new MadCap.Utilities.Dictionary(!0),this.DirectionalStems=new MadCap.Utilities.Dictionary(!0),this.Groups=new MadCap.Utilities.Dictionary(!0),this.GroupStems=new MadCap.Utilities.Dictionary(!0),this.GroupStemSources=new MadCap.Utilities.Dictionary(!0),this.LoadSynonymFile(n)},(t=n.SynonymFile).prototype.LoadSynonymFile=function(n){var a,u,f,c,g,l,nt,tt,o,e,rt,i,v,y,p,s,r,b=MadCap.Dom.GetChildNodeByTagName(n,"Groups",0),k=MadCap.Dom.GetChildNodeByTagName(n,"Directional",0);if(null!=k)for(a=k.childNodes.length,u=0;u<a;u++)"DirectionalSynonym"==(r=k.childNodes[u]).nodeName&&(v=MadCap.Dom.GetAttribute(r,"From"),y=MadCap.Dom.GetAttribute(r,"To"),d=MadCap.Dom.GetAttributeBool(r,"Stem",!1),p=MadCap.Dom.GetAttribute(r,"FromStem"),s=MadCap.Dom.GetAttribute(r,"ToStem"),d&&null==p&&(p=this.Stemmer.stemWord(v)),null==s&&(s=this.Stemmer.stemWord(y)),null!=v)&&null!=y&&(d?(this.DirectionalStems.Add(p,s),this.WordToStem.Add(v,p)):this.Directionals.Add(v,s),this.WordToStem.Add(y,s));if(null!=b)for(a=b.childNodes.length,u=0;u<a;u++)if("SynonymGroup"==(r=b.childNodes[u]).nodeName){for(var w=[],h=[],d=MadCap.Dom.GetAttributeBool(r,"Stem",!1),it=r.childNodes.length,t=0;t<it;t++)1==(f=r.childNodes[t]).nodeType&&w.push(f.firstChild.nodeValue);for(t=0;t<it;t++)1==(f=r.childNodes[t]).nodeType&&(null==(c=MadCap.Dom.GetAttribute(f,"Stem"))&&(c=this.Stemmer.stemWord(f.firstChild.nodeValue)),this.WordToStem.Add(f.firstChild.nodeValue,c),h.push(c));for(g=w.length,t=0;t<g;t++)for(l=w[t],o=h[t],e=0;e<g;e++)nt=w[e],d?null==(i=this.GroupStemSources.GetItem(l))&&(i=new MadCap.Utilities.Dictionary,this.GroupStemSources.Add(l,i)):null==(i=this.GroupStemSources.GetItem(l))&&(i=new MadCap.Utilities.Dictionary,this.Groups.Add(l,i)),i.Add(nt,o);for(tt=h.length,t=0;t<tt;t++)for(o=h[t],e=0;e<tt;e++)rt=h[e],null==(i=this.GroupStems.GetItem(o))&&(i=new MadCap.Utilities.Dictionary,this.GroupStems.Add(o,i)),i.Add(rt,o)}},t.prototype.AddSynonymStems=function(n,t,i){var u=this.Directionals.GetItem(n);null!=u&&i.AddUnique(u),null!=(u=this.DirectionalStems.GetItem(t))&&i.AddUnique(u),null!=(u=this.Groups.GetItem(n))&&u.ForEach(function(n){return i.AddUnique(n),!0}),null!=(u=this.GroupStems.GetItem(t))&&u.ForEach(function(n){return i.AddUnique(n),!0})}}(),function(){function r(n,t){void 0===t&&(t=n.hasClass("previous-topic-button")?"previous":"next"),MadCap.WebHelp.HelpSystem.LoadHelpSystemDefault().done(function(){o(t,function(t){t&&n.prop("disabled",!1)},!0)})}function u(){e("previous")}function f(){e("next")}function e(i){MadCap.ELearning&&MadCap.ELearning.RecordQuestionAnswerData(),o(i,function(i){i&&(t?document.location.hash=i:(i=n.GetAppliedSkinPath(i),document.location.href=MadCap.Utilities.Url.EnsureUrlSafety(i)))})}function o(n,i,r){function u(){MadCap.Utilities.MessageBus.PostMessageRequest(f,"get-topic-url",null,function(t){h(t,n,i)})}var f=t?frames.topic:window;t&&r?$("#topic").on("load",u):u()}function h(i,r,u){var c,l,i=new MadCap.Utilities.Url(i[0]),f=t?new MadCap.Utilities.Url(decodeURIComponent(document.location.href)):new MadCap.Utilities.Url(document.location.href),o=t||n.TopNavTocPath,s=!t||f.QueryMap.GetItem("TocPath")||f.QueryMap.GetItem("BrowseSequencesPath")||MadCap.String.IsNullOrEmpty(f.Fragment)?f:new MadCap.Utilities.Url(f.Fragment),v=s.QueryMap.GetItem("TocPath"),s=s.QueryMap.GetItem("BrowseSequencesPath");(f=f.ToPlainPath()).IsFolder||(f=f.ToFolder()),t&&(c=i.Query,l=decodeURIComponent(i.PlainPath),i=new MadCap.Utilities.Url(l+c)),l=f.CombinePath(n.GetMasterHelpSystem().GetContentPath()),i=i.ToRelative(l),null!=s?n.AdvanceTopic("BrowseSequences",r,s,o,i,u):n.AdvanceTopic("Toc",r,v,o,i,u)}function c(i,r){var o,e={Handled:!1,FireResponse:!1};return"navigate"==i?((o=r[0])&&MadCap.Utilities.Url.NavigateHash(o),e.Handled=!0,e.FireResponse=!0):"navigate-topic"==i?(o=r[0],MadCap.Utilities.HasRuntimeFileType("TriPane")||(r=n.GetAbsoluteTopicPath("../"+n.ContentFolder+o),MadCap.Utilities.Url.Navigate(r.FullPath)),(r=new MadCap.Utilities.Url(o)).IsAbsolute&&(o=new MadCap.Utilities.Url(document.location.href),o=new MadCap.Utilities.Url(o.PlainPath),o=(MadCap.String.EndsWith(o.FullPath,"/")?o:o.ToFolder()).CombinePath(n.ContentFolder),r=r.ToRelative(o)),r.FullPath&&(o=MadCap.Utilities.Url.EnsureUrlSafety(r.FullPath),MadCap.Utilities.Url.CurrentHash().substring(1)==o&&(document.location.hash=null),document.location.hash=o),e.Handled=!0):"navigate-home"==i?(r=t?new MadCap.Utilities.Url(document.location.href):n.GetAbsoluteTopicPath("../"+n.DefaultStartTopic),MadCap.Utilities.Url.Navigate(r.PlainPath),e.Handled=!0):"navigate-previous"==i?(u(),e.Handled=!0):"navigate-next"==i&&(f(),e.Handled=!0),e}var n,t=MadCap.Utilities.HasRuntimeFileType("TriPane"),i=MadCap.CreateNamespace("Navigate");i.NextTopic=f,i.PreviousTopic=u,i.SetButtonState=r,MadCap.WebHelp.HelpSystem.LoadHelpSystemDefault().done(function(i){n=i,MadCap.Utilities.MessageBus.AddMessageHandler(c),t?$(document).ready(function(){$(".previous-topic-button").on("click",function(){u(),$("#topic").focus()}),$(".next-topic-button").on("click",function(){f(),$("#topic").focus()}),$(".button").removeAttr("disabled")}):(r($(".previous-topic-button"),"previous"),r($(".topicToolbarProxy .next-topic-button"),"next"))})}(),function(){function s(n,t){function e(){return{visited:[],questions:{},submittedQuestions:{},testAttempts:0,completed:!1,passed:!1}}function r(){var t=JSON.stringify(i);sessionStorage[f]=t,n.UpdateSuspendData(i)}function a(){return!t.useQuizForSuccess&&!u&&o()}function o(){return i.visited.length/t.numTopics>=t.testData.percComplete}const f="mc-suspend-data-"+encodeURIComponent(t.testData.id),s=!MadCap.Utilities.HasRuntimeFileType("Topic");let i,u=!1;!s&&sessionStorage[f]?i=JSON.parse(sessionStorage[f]):(i=n.GetSuspendData())||(i=e(),r()),this.Resume=function(t){var u=i.visited,u=u[u.length-1],f=new MadCap.Utilities.Url(window.location.href).Path;!n.IsEmpty&&u&&u.startsWith(f)?n.Navigate(u):t()},this.SubmitTest=function(f){return!u&&(u=!0,i.passed=f.passed,i.testAttempts++,r(),t.useQuizForSuccess)?$.when(n.SubmitTest(f)):$.when()},this.ResetSuspendData=function(){0<Object.keys(i.questions).length&&(i.submittedQuestions=i.questions),i.questions={},i.visited=[],i.completed=!1,u=!1,r()},this.ResetTest=function(){i=e(),r()},this.TrackUserLocation=function(){var u=function(){var t=n.GetPageLink()||window.location.href;return new MadCap.Utilities.Url(t).PlainPath}(),f=i.visited,f=(f.includes(u)||f.push(u),t.useQuizForSuccess?null:i.completed||o());n.TrackUserLocation(f),a()&&(i.completed=!0,n.CompleteLesson()),r()},this.RecordAnswers=function(t){var u,f=i.questions;for(u in t)f[u]=t[u],n.RecordAnswer(u,t[u]);r()},this.GetUserAnswerData=function(){return i.questions},this.GetSubmittedAnswerData=function(){return i.submittedQuestions},this.GetPercentageCompleted=function(n){n(i.visited.length/t.numTopics*100)},this.GetTestAttempts=function(){return i.testAttempts},this.GetPassedTest=function(){return i.passed}}function r(n){u().done(function(t){n(t)})}function u(){return n||(n=$.Deferred(),MadCap.WebHelp.HelpSystem.LoadHelpSystemDefault().done(function(t){$.when(function(n){const t=$.Deferred();n.HasELearning?(n=n.GetPath()+"Resources/Scripts/lmsapiwrapper.js",require([n],function(n){t.resolve(n)},function(){t.resolve()})):t.resolve();return t.promise()}(t),t.GetTestData()).done(function(i,r){var u=null;(u=i&&i.SCORM?new l(i.SCORM):window.ADL?new c(r):f).Init(),n.resolve(new s(u,r),r)})})),n.promise()}function c(n){function l(){return t(function(){var n=r(ADL.verbs.terminated);return n.result={duration:e()},n}())}function p(){cmi5Controller.setEndPoint(parse("endpoint")),cmi5Controller.setFetchUrl(parse("fetch")),cmi5Controller.setRegistration(parse("registration")),cmi5Controller.setActivityId(parse("activityid")),cmi5Controller.setActor(parse("actor"));let n=$.Deferred();cmi5Controller.startUp(function(){t(r(ADL.verbs.launched)),n.resolve()},function(n){console.error(n)}),n.promise()}function r(t){return{verb:t,object:{id:n.testData.id,definition:{name:{und:n.testData.title}}}}}function k(n){var t=r(ADL.verbs.attempted);return t.result={duration:e()},null!==n&&(t.result.completion=n),t}function nt(){return{verb:ADL.verbs.experienced,object:{id:new MadCap.Utilities.Url(window.location.href).PlainPath,definition:{name:{und:document.title}}}}}function it(t){return n.testData.id+"/"+t}function t(n){const r=i||cmi5Controller,t=$.Deferred();return r.sendStatement(n,function(n,i){console.log("response: ",n,"\nobject: ",i),t.resolve()}),t.promise()}const o=encodeURIComponent(n.testData.id),s="mc-time-key-"+o,h="mc-tc-key-"+o,u="mc-test-suspend";var f=!MadCap.Utilities.HasRuntimeFileType("Topic");let c,i=null,e=(this.Init=function(){if("undefined"!=typeof TinCan?i=function(){f&&(sessionStorage[h]=window.location.href);var t=sessionStorage[h];return new TinCan({url:t,activity:{id:n.testData.id,definition:{name:{und:n.testData.title},description:{und:n.testData.description},type:"http://adlnet.gov/expapi/activities/assessment"}}})}():p(),c=(f&&(sessionStorage[s]=new Date),sessionStorage[s]),f){let n=r(ADL.verbs.initialized);t(n)}},this.SubmitTest=function(n){var i=function(n){var t=r(n.passed?ADL.verbs.passed:ADL.verbs.failed);return t.result={score:{scaled:n.percentage,raw:n.current,min:0,max:n.max},success:n.passed,completion:!0},t}(n);return n.passed?$.when(this.CompleteLesson(),t(i),l()):$.when(t(i),l())},this.CompleteLesson=function(){return t(function(){var n=r(ADL.verbs.completed);return n.result={success:!0,completion:!0,duration:e()},n}())},this.GetPageLink=function(){return window.location.href},this.Navigate=function(n){window.location.href=n},this.TrackUserLocation=function(n){var i=t(nt()),n=t(k(n));return $.when(i,n)},this.RecordAnswer=function(n,i){return t(function(n,t){return{verb:ADL.verbs.answered,object:{id:it(n)},result:{response:JSON.stringify(t)}}}(n,i))},this.GetSuspendData=function(){if(i){const n=i.getState(u);return null===n.err&&null!==n.state&&""!==n.state.contents?JSON.parse(n.state.contents):null}{const t=n.testData.id,i=JSON.parse(ADL.XAPIWrapper.lrs.actor);return cmi5Controller.getAllowedState(t,i,u)}},this.UpdateSuspendData=function(n){i?i.setState(u,JSON.stringify(n)):cmi5Controller.sendAllowedState(u,n)},function(){{var n=new Date-new Date(c);let t=n/1e3;if(60<t){if(3600<t){const n=Math.floor(t/3600),i=Math.floor(t%3600/60);return"PT"+n+"H"+i+"M"+(t=t%3600%60)+"S"}{const n=Math.floor(t/60);return"PT"+n+"M"+(t%=60)+"S"}}return"PT"+t+"S"}})}function l(n){function f(n){n=n?"passed":"failed";r(t.success_status,n)}function e(n){n=n?"completed":"incomplete";r(t.completion_status,n)}function r(n,t){null!=n&&SCORM.set(n,t)}const o={scaled_score:"cmi.score.scaled",raw_score:"cmi.core.score.raw",min_score:"cmi.score.min",max_score:"cmi.score.max",location:"cmi.location",passing_score:"cmi.scaled_passing_score",success_status:"cmi.success_status",completion_status:"cmi.completion_status",suspend_data:"cmi.suspend_data",exit:"cmi.exit"},s={raw_score:"cmi.core.score.raw",min_score:"cmi.core.score.min",max_score:"cmi.core.score.max",location:"cmi.core.lesson_location",success_status:"cmi.core.lesson_status",completion_status:"cmi.core.lesson_status",suspend_data:"cmi.suspend_data",exit:"cmi.core.exit"};if(!i)return void(window.SCORM=window.parent.SCORM);window.SCORM=n,$(window).on("beforeunload",function(){SCORM.quit()});let u,t;this.Init=function(){SCORM.connection.initialize(),u="1.2"===SCORM.version,t=u?s:o},this.SubmitTest=function(n){!function(n){r(t.scaled_score,n)}(n.percentage),function(n){r(t.raw_score,100*n)}(n.percentage),r(t.min_score,0),r(t.max_score,100),function(n){r(t.passing_score,n)}(n.passScore),f(n.passed),r(t.exit,""),u||e(!0)},this.CompleteLesson=function(){e(!0),u||f(!0)},this.Navigate=function(n){$("#topic").attr("src",n)},this.GetPageLink=function(){return $("#topic").contents().get(0).location.href},this.TrackUserLocation=function(){var n=$("#topic").contents().get(0).location.href;r(t.location,n),SCORM.save()},this.RecordAnswer=function(){},this.GetSuspendData=function(){var n=SCORM.get(t.suspend_data);if(n)return JSON.parse(n)},this.UpdateSuspendData=function(n){r(t.suspend_data,JSON.stringify(n))}}var i,n,t,f;MadCap.Utilities.IsIE()?console.error("eLearning and LMS functionality not supported in Internet Explorer"):(i=MadCap.Utilities.HasRuntimeFileType("SCORM")||MadCap.Utilities.HasRuntimeFileType("TriPane"),function(){var n=""!=document.domain&&MadCap.Utilities.SameOriginAsParent();return!i&&n&&window.parent.MadCap&&window.parent.MadCap.LMS}()?MadCap.LMS=window.parent.MadCap.LMS:((t=MadCap.CreateNamespace("LMS")).Load=u,t.Resume=function(n){r(function(t){t.Resume(n)})},t.ResetTest=function(){r(function(n){n.ResetTest()})},f={Init:function(){},SubmitTest:function(){},CompleteLesson:function(){},GetPageLink:function(){},Navigate:function(){},TrackUserLocation:function(){},RecordAnswer:function(){},GetSuspendData:function(){},UpdateSuspendData:function(){},IsEmpty:!0}))}(),function(){function k(n){$(function(){(r="true"===$("html").attr("data-mc-in-preview-mode"))||("null"===origin&&i.HasELearning&&!MadCap.Utilities.IsChromium()&&console.error("Viewing local eLearning content in non-Chromium browser. Some features may not be supported."),function(n){var t=new MadCap.Utilities.Url(window.location.href).PlainPath,t=n.testTopics.includes(t);return t&&c(n)}(n)&&y(t.GetPassedTest()),MadCap.Utilities.HasRuntimeFileType("Topic")&&t.TrackUserLocation()),0===$(".testResultsProxy").length&&function(n){$(".multipleChoice").each(function(){var t=$(this),i=t.find("button.submitQuestionButton"),r=t.attr(u);n.testQuestionAnswer[r]&&n.randomize&&(t.find("input").prop("checked",!1),t.randomize(".multipleChoiceItem")),p(".multipleChoiceItem"),function(n,t){n.find("input").on("click",function(){0<n.find("input:checked").length?0<t.length?t.prop("disabled",!1):(n.prop("submitted",!0),f()):(t.prop("disabled",!0),n.prop("submitted",!1),f())}),t.on("click",function(i){i.preventDefault(),n.prop("submitted",!0),f(),g(t,n)})}(t,i),it(t,i,r)})}(n.testData),r||function(){var n=lt();void 0!==n&&function(n){function u(n){return i.GetLanguageString("ToolbarItem.Complete",!0,"ELearningToolbar",n,"Complete")}var r=$(".eLearningToolbarProxy .next-topic-button");r.off(),r.removeClass("next-topic-button").addClass("complete-button"),r.attr("title",u("Tooltip")),r.find(".button-icon-wrapper").attr("aria-label",u("AltText")),r.find(".button-text").text(u("Label")),r.on("click",function(){h();let i=et();t.SubmitTest(i).done(function(){n?y(i.passed):MadCap.Navigate.NextTopic()})})}(n),f()}(),function(n,t){!function(n,t,i){var r=n.LoadTocDataFromQuery();n.FindNode("Toc",r.TocPath,r.Href,function(n){var f,r;if(void 0!==n){for(f=n.i,r=0;t.unlinkedEntries[r]<f;)r++;r>=t.numOfTopics?console.error("Error calculating progress percentage"):(n=t.numOfTopics-(t.unlinkedEntries.length+1),i(f-r+1,n=0===n?1:n))}})}(n,t,function(n,t){yt(n,t);$(function(){$(".next-topic-button").parent().append(void 0),p(".elearning-progress-wrapper")})})}(i,n.testData),pt(n)})}function g(n,t){function f(){var i=r?function(n){var t=o(n),n=v(n.find("[data-mc-correct-answer='true'] input"));return JSON.stringify(t)===JSON.stringify(n)}(t):e(o(t),s);n.siblings(i?".correctFeedback":".incorrectFeedback").fadeIn()}var s=t.attr(u),i=n.siblings(".topicQuestionFeedback:visible");0<i.length?i.fadeOut(f):f()}function it(n,i,r){r=t.GetUserAnswerData()[r];r&&(n.prop("submitted",!0),i.prop("disabled",!1),$.each(r,function(t,i){n.find("input[value="+i+"]").prop("checked",!0)}))}function f(){var i,n,t;r||(i=$(".multipleChoice").toArray().every(function(n){var t=$(n);return 0<t.parent(".mc-clone").length||!(!!(n=a(n.attributes[u].value))&&n.r)||t.prop("submitted")}),n=$(".eLearningToolbarProxy .complete-button"),t=$(".eLearningToolbarProxy .next-topic-button"),i?(n.prop("disabled",!1),MadCap.Navigate.SetButtonState(t)):(n.prop("disabled",!0),t.prop("disabled",!0)))}function h(){if(!s){s=!0;let i=$(".multipleChoice"),n={};i.each(function(){var r,t;void 0!==$(this).prop("submitted")&&(r=$(this).attr(u),0<(t=o($(this))).length)&&(n[r]=t)}),t.RecordAnswers(n)}}function c(n){n=n.testData.testRetries;return-1!==n&&t.GetTestAttempts()-1>=n}function et(){var t=l(!1),i=t/n.max;return{current:t,percentage:i,passed:i>=n.passScore,max:n.max,passScore:n.passScore}}function st(){var i=[];return $.each(n.testQuestionAnswer,function(n,r){t.GetUserAnswerData().hasOwnProperty(n)||(n={url:r.sourceUrl,title:r.title},i.includes(n))||i.push(n)}),i}function l(i){var r=0;const u=i?t.GetSubmittedAnswerData():t.GetUserAnswerData();return $.each(u,function(t){void 0!==n.testQuestionAnswer[t]&&e(u[t],t)&&r++}),r}function e(n,t){t=a(t);return t&&JSON.stringify(n.sort())==JSON.stringify(t.i.sort())}function a(t){let i=n.testQuestionAnswer[t];return i=i?i:(i=n.nonTestQuestionAnswer[t])||n.nonTocQuestionAnswer[t]}function o(n){return v(n.find("input:checked"))}function v(n){var t=[];return n.each(function(){var n=parseInt($(this).val());t.push(n)}),t.sort(function(n,t){return t<n})}function lt(){var t;return!r&&(t=i.GetPatchedPath(decodeURI(i.GetCurrentTopicPath())),t=new MadCap.Utilities.Url(t),n.lastTopics[t.PlainPath])}function y(t){t=t?n.passedUrl:n.failedUrl,t=i.GetPath()+encodeURI(t);window.location.href=i.GetAppliedSkinPath(t)}function p(n){$(n+".mc-el-hidden").animate({opacity:1},"fast")}function yt(n,t){var u=i.GetLanguageString("Progress Text",!0,"ELearningToolbar","Label","Page {index} of {total}").replace("{index}",n).replace("{total}",t);$(".elearning-progress-bar-inner").css("width",n/t*100+"%"),$(".elearning-progress-text").text(u)}function pt(r){function v(i){function r(n){u.append(n)}var u=$("<div>"),f=t.GetPassedTest();if(r($("<p class='results-title' role='heading'>").html(tt())),i.ShowScore&&r(function(n){var t=$("<p class='results-score'>").text(et()),n=k(n);return t.append(n),t}(i)),r(function(n,t){var i=$("<div class='results-status'>");t&&(t=n?"passed":"failed",n=(n?rt:it)(),t=$("<div>").addClass(t).html(" "+n),i.append(t));return i}(f,i.ShowPassFail)),i.ShowQuestions){let t=$("<div class='results-questions-block'>");$.each(n.testQuestionAnswer,function(n,r){n=d(n,r,i);null!==n&&t.append(n)}),r(t)}return u}function k(n){var i=l(!0),t=r.testData.max,n=(n.UsePercentage&&0!==t?ut:ft)(i,t);return $("<span>").text(n)}function d(n,i,r){var u,o,f=t.GetSubmittedAnswerData()[n];if(!i)return null;if(o=i.a,(u=$("<div class='results-question-wrapper'>")).append("<div class='results-question'>"+MadCap.Utilities.SanitizeHtml(i.q)+"</div>"),r.ShowUserAnswers){let n=h("results-user-answer",ht(),a(o,f));u.append(n)}if(r.ShowCorrectAnswers){let n=h("results-correct-answer",ct(),a(o,i.i));u.append(n)}return r.ShowQuestionFeedback&&(o=e(f,n),""!==(r=MadCap.Utilities.SanitizeHtml(o?i.cf:i.icf)))&&(f=$("<div class='"+("questionFeedback resultsQuestionFeedback "+(o?"correctFeedback":"incorrectFeedback"))+"'>"+r+"</div>"),u.append(f)),function(n,t){function i(t){n.find("["+t+"]").each(function(){var i=$(this),n=i.attr(t);"#"===n||new MadCap.Utilities.Url(n).IsAbsolute||(n=r+n,i.attr(t,n))})}let r=new MadCap.Utilities.Url(t.sourceUrl).Path;i("src"),i("href")}(u,i),u}function h(n,t,i){var r=$('<div class="results-answer">');return r.addClass(n),n=$("<div class='answer-title'>").text(t),t=$("<div class='answer-content'>").html(i),r.append(n),r.append(t),r}function a(n,t){for(var r=[],i=0;i<t.length;i++){var u=$("<div class='answer-content-item'>").html(n[t[i]]);r.push(u[0].outerHTML)}return r.join("")}function nt(n){$(".elearning-incomplete-warning").remove();var t=$("<div>").addClass("elearning-warning elearning-incomplete-warning").text(u("Incomplete Test Warning","You have not completed all of the questions in this test."));return void 0!==n&&t.append(function(){var t=$("<ul>");return n.forEach(function(n){t.append(function(n,t){void 0===n&&console.error("Topic title not found");t=$("<a>").attr("href",t).text(n);return $("<li>").append(t)}(n.title,n.url))}),t}()),t}function tt(){var t="{Course Name}";return u("Title",t).replace(t,n.title)}function it(){return u("Result.Failed","Failed")}function rt(){return u("Result.Passed","Passed")}function ut(n,t){n=MadCap.Utilities.Round(n/t*100,2);return u("Score.Percentage","{Percentage}%").replace("{Percentage}",n)}function ft(n,t){return u("Score.Total Correct","{Correct} of {Total} Correct").replace("{Correct}",n).replace("{Total}",t)}function et(){return u("Score Title","Score: ")}function ht(){return u("Answer Title.User Answer","Your Answer: ")}function ct(){return u("Answer Title.Correct Answer","Correct Answer: ")}function u(n,t){return i.GetLanguageString(n,!0,"TestResults","Label",t)}var f,o=$(".testResultsProxy");if(0!==o.length){if(!function(){var i=Object.keys(t.GetUserAnswerData()),r=Object.keys(n.testQuestionAnswer);return!(i.length<r)&&r.every(function(n){return 0<=i.indexOf(n)})}()){let n=c(r);if(!n){let n=st(),t=nt(n);return void $(".testResultsProxy").append(t)}{let n=function(){var t=u("Maxed Attempts Warning","You have reached the maximum number of attempts"),n=$("<div class='elearning-warning elearning-maxed-attempts-warning'>");return n.text(t),n}();o.append(n)}}t.ResetSuspendData(),f=v(r.resultsConfig),o.append(f),MadCap.TextEffects.Init(f),MadCap.Topic.Init(f)}}var u,r,i,t,s,n;MadCap.Utilities.IsIE()||(s=!(u="data-mc-question-id"),n={},MadCap.CreateNamespace("ELearning").RecordQuestionAnswerData=h,$.when(MadCap.LMS.Load(),MadCap.WebHelp.HelpSystem.LoadHelpSystemDefault()).done(function(r,u){t=r[0],data=r[1],n=data.testData,i=u,k(data)}))}(),function(){function s(n){var t=n.offsetParent().offset().top,n=0<n.parents("table").length?n.offset().top-t:n[0].offsetTop;return 0!=$(".title-bar.sticky.is-stuck").length||$(".sidenav-container").is(":visible")||(n+=t),n}function h(n){(e?$("#contentBodyInner"):$(".sidenav-container").is(":visible")?$(".body-container"):$("html, body")).scrollTop(n)}function p(){n.ShowFeedback&&n.ShowFeedback()}function w(){var r,i,f;if($(window).on("resize",p),$(window).on("hashchange",k),n.Init(document),MadCap.String.Contains(navigator.userAgent,"iphone",!1)&&window.scrollTo(0,1),MadCap.IsIOS()&&e)for(r=$("<div id='ios-wrapper'></div>").appendTo(document.body)[0],i=document.body.childNodes.length-2;0<=i;i--)f=document.body.childNodes[i],r.insertBefore(f,r.firstChild);it(),MadCap.WebHelp.HelpSystem.LoadHelpSystemDefault().done(function(n){t=n,function(){var n=MadCap.Utilities.Url.CurrentHash();0<n.length&&(g(new MadCap.Utilities.Url(n.substring(1)).ToNoQuery().FullPath),$("html").hasClass("pulseTopic")||$(window).trigger("hashchange")),tt()}()})}function k(){var i=new MadCap.Utilities.Url(document.location.href);MadCap.String.IsNullOrEmpty(i.Fragment)||(i=i.Fragment.substring(1),i=MadCap.Utilities.Url.StripInvalidCharacters(i),n.ScrollToBookmark(i))}function g(n){n=(n=MadCap.Utilities.Url.StripInvalidCharacters(n)).replace(/([\'\\])/g,"\\$1");n=$("[name='"+n+"']");0<n.length&&f(n[0],!1)}function u(){return"topic"==window.name&&!MadCap.Utilities.HasRuntimeFileType("Default")}function l(){return"MCPopup"==window.name&&!MadCap.Utilities.HasRuntimeFileType("Default")}function tt(){MadCap.Utilities.MessageBus.PostMessageRequest(parent,"get-href",null,function(n){var r;n&&(n=new MadCap.Utilities.Url(n[0]),r=new MadCap.Utilities.Url(n.Fragment.substring(1)),n=n.QueryMap.GetItem("BrowseSequencesPath"),t.SetBrowseSequencePath(n,r))})}function a(){for(var n=1;n<=10;n++)$("body").removeHighlight("SearchHighlight"+n)}function it(){MadCap.Utilities.MessageBus.PostMessageRequest(parent,"get-href",null,function(t){var c,o,i,u,r,s,v,l,h,e,a;if(t&&(c=new MadCap.Utilities.Url(t[0]).QueryMap.GetItem("Highlight"),!MadCap.String.IsNullOrEmpty(c))){if(null!=(o=c.match(/"[^"]*"/g)))for(u=0;u<o.length;u++)c=c.replace(o[u],"");for(i=c.replace(/"/g,"").split(" "),r=0;r<i.length;r++)""==i[r]&&(i.splice(i[r],1),r--);if(null!=o)for(u=0;u<o.length;u++)i.push(o[u].replace(/"/g,""));for(r=0;r<i.length;r++)-1!=$.inArray(i[r].toLowerCase(),MadCap.Utilities.StopWords)&&(i.splice(r,1),r--);for(s=0;s<i.length;s++){for(v=Array("*[class*='MCExpandingBody']","*[class*='MCDropDownHotSpot']","*[data-mc-target-name]"),l=0;l<v.length;l++)for(h=$(v[l]),e=0;e<h.length;e++)a=function n(t){return void 0===t.nextElementSibling?null==t.nextSibling||1==t.nextSibling.nodeType?t.nextSibling:n(t.nextSibling):t.nextElementSibling}(h[e].parentElement),(null!=h[e].textContent&&0<=h[e].textContent.toLowerCase().indexOf(i[s].toLowerCase())||null!=a&&null!=a.textContent&&0<=a.textContent.toLowerCase().indexOf(i[s].toLowerCase()))&&f(2!=l?h[e]:h[e].firstChild);$("body").highlight(i[s],"SearchHighlight SearchHighlight"+(s+1))}}})}function f(n,t){var u,o,c,s,f,v,l,a,h,i;for(void 0===t&&(t=!0),u=n.parentNode;"BODY"!=u.nodeName;u=u.parentNode)if((o=$(u)).hasClass("MCExpanding"))(i=null==(i=r.TextEffectControl.FindControl(o[0]))?new MadCap.Topic.ExpandingControl(u):i).Open(t),0;else if(o.hasClass("MCDropDown"))(i=null==(i=r.TextEffectControl.FindControl(o[0]))?new MadCap.Topic.DropDownControl(u):i).Open(t),0;else if(null!=(c=$(u).attr("data-mc-target-name")))for(f=0,v=(s=MadCap.Dom.GetElementsByClassName("MCToggler",null,document.body)).length;f<v;f++){for(l=$(s[f]).attr("data-mc-targets").split(";"),a=!1,h=0;h<l.length;h++)if(l[h]==c){a=!0;break}if(a){(i=null==(i=r.TextEffectControl.FindControl(s[f]))?new MadCap.Topic.TogglerControl(s[f]):i).Open(t),0;break}}}MadCap.CreateNamespace("Topic");var o,c=MadCap.Utilities.HasRuntimeFileType("Topic"),e=MadCap.Utilities.HasRuntimeFileType("TriPane"),n=MadCap.Topic,r=MadCap.TextEffects,t=(n.IsTopicPopup=l,n.IsEmbeddedTopic=u,n.IsTemplateTopic=function(){return $("html").hasClass("templateTopic")},n.GetHideComments=function(){return o},n.HelpControl_Click=function(t){var i=this;n.GetHelpControlLinks(this,function(n){for(var u,o,s,e,h=new MadCap.Utilities.Url(document.location.href),f=n.length-1;0<=f;f--)(u=n[f]).Title="t"in u?u.t:"Title"in u?u.Title:null,null!=(e="Url"in u?u.Url:"Link"in u?u.Link:null)&&"string"!=typeof e&&(e.FullPath==h.FullPath&&n.Remove(f),e=e.ToRelative(h),u.Link=e.FullPath);for($(i).hasClass("MCHelpControl-Related")||n.sort(function(n,t){return n.Title.localeCompare(t.Title)}),o=new MadCap.Utilities.Dictionary,f=n.length-1;0<=f;f--)e=(s=n[f]).Link,o.GetItem(e)?n.Remove(f):o.Add(s.Link,!0);r.CreateLinkListPopup(n,document.body,t.pageY,t.pageX,i)},null),t.preventDefault(),t.stopPropagation()},n.GetHelpControlLinks=function(n,i){function v(n,i){t.FindIndexEntry(n,function(n,t){null!=t&&t.linkList&&(r=r.concat(t.linkList)),i()})}function y(){i(t.SortLinkList(r))}var o,f,l,c,r=[],n=$(n);if(t&&!t.InPreviewMode&&u()){if(null!=(o=n.attr("data-mc-keywords")))return void function(n){""==n&&i(r),n=n.split(";"),MadCap.Utilities.AsyncForeach(n,v,y)}(o);if(null!=(o=n.attr("data-mc-concepts")))return void t.GetConceptsLinks(o).then(i)}if(null!=(o=n.attr("data-mc-topics")))for(""==(topicPairs=o.split("||"))&&i(r),f=0,l=topicPairs.length;f<l;f++)c=topicPairs[f].split("|"),r.push({Title:c[0],Link:c[1]});i(r)},n.Hyperlink_Onclick=function(t){var r=$(this);if(!(r.hasClass("MCTopicPopup")||r.hasClass("MCPopupThumbnailLink")||r.hasClass("MCHelpControl")||r.hasClass("MCCentralLink")||r.hasClass("reply-comment-button"))){var i=MadCap.Dom.GetAttribute(this,"href"),o=MadCap.Dom.GetAttribute(this,"target"),s=i&&!i.startsWith("#")&&!i.startsWith("javascript:")&&!i.startsWith("data:")&&!i.startsWith("vbscript:")&&(null==o||"_self"==o||"_parent"==o||"_top"==o);if(MadCap.ELearning&&s&&MadCap.ELearning.RecordQuestionAnswerData(),null!=i&&!MadCap.String.StartsWith(i,"http:")&&!MadCap.String.StartsWith(i,"https:")&&null==o)if(u()){if(s=new MadCap.Utilities.Url(document.location.href),MadCap.String.StartsWith(i,"#"))s=new MadCap.Utilities.Url(s.PlainPath+i);else{if(MadCap.String.Contains(i,"javascript:void(0)"))return;s=s.ToFolder().CombinePath(i)}MadCap.Utilities.MessageBus.PostMessageRequest(parent,"navigate-topic",[s.FullPath],null),t.preventDefault()}else e&&MadCap.String.StartsWith(i,"#")&&!MadCap.Dom.GetAttributeBool(this,"data-mc-processed-link")?(1<i.length&&n.ScrollToBookmark(i.substring(1)),t.preventDefault()):MadCap.Utilities.Url.OnNavigateTopic.call(r,t)}},n.ScrollToBookmark=function(n){var t,i,r;(n=decodeURI(n).replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@\\])/g,"\\$1"))&&0<(t=0==(t=$("[name = '"+n+"']")).length?$("#"+n):t).length&&(f(t[0],!1),i=$("ul[data-mc-toc]"),(r=0)<i.length?i.each(function(){this.innerHTML.replace(/\s/g,"").length?++r===i.length&&h(s(t)):$(this).on("loaded",function(){++r===i.length&&h(s(t))})}):h(s(t)))},n.Init=function(n){$().placeholder&&$("input, textarea",n).placeholder(),(u()||l())&&$(".MCWebHelpFramesetLink",n).hide(),$(n).on("click","a, area",MadCap.Topic.Hyperlink_Onclick),$(".MCPopupThumbnailPopup",n).on("click",MadCap.Topic.ThumbPopup_Click),$(".MCPopupThumbnailHover",n).on("mouseover",MadCap.Topic.ThumbPopup_Hover),$("a.MCHelpControl",n).on("click",MadCap.Topic.HelpControl_Click),function(n){$(".print-button",n).on("click",function(){window.print()}),$(".expand-all-button",n).on("click",function(){var n=$(this);n.hasClass("expand-all-button")?(MadCap.TextEffects.TextEffectControl.ExpandAll("open"),MadCap.MicroContentHelper&&MadCap.MicroContentHelper.ExpandAll("open")):n.hasClass("collapse-all-button")&&(MadCap.TextEffects.TextEffectControl.ExpandAll("close"),MadCap.MicroContentHelper)&&MadCap.MicroContentHelper.ExpandAll("close"),MadCap.Utilities.ToggleButtonState(this)}),$(".remove-highlight-button",n).on("click",function(){a()}),$(".previous-topic-button",n).on("click",function(){MadCap.ELearning&&MadCap.ELearning.RecordQuestionAnswerData(),MadCap.Utilities.MessageBus.PostMessageRequest(parent,"navigate-previous")}),$(".next-topic-button",n).on("click",function(){MadCap.ELearning&&MadCap.ELearning.RecordQuestionAnswerData(),MadCap.Utilities.MessageBus.PostMessageRequest(parent,"navigate-next")}),$(".codeSnippetCopyButton",n).on("click",function(n){n.preventDefault(),MadCap.Utilities.CopyToClipboard($("code",$(this).parents(".codeSnippet")))})}(n)},$(function(t){MadCap.Utilities.LoadHandlers.set("MadCapTopic",n.Init),c&&w()}),c&&MadCap.Utilities.MessageBus.AddMessageHandler(function(n,t,i){var e,u,r={Handled:!1,FireResponse:!0};return"print"==n?(window.print(),r.Handled=!0):"expand-all"==n?(MadCap.TextEffects.TextEffectControl.ExpandAll("open"),MadCap.MicroContentHelper&&MadCap.MicroContentHelper.ExpandAll("open"),r.Handled=!0):"collapse-all"==n?(MadCap.TextEffects.TextEffectControl.ExpandAll("close"),MadCap.MicroContentHelper&&MadCap.MicroContentHelper.ExpandAll("close"),r.Handled=!0):"get-topic-id"==n?(i.push(ft),r.Handled=!0):"get-topic-url"==n?(i.push(document.location.href),r.Handled=!0):"remove-highlight"==n?(a(),r.Handled=!0):"get-bs-path"==n?(null==(u=(e=new MadCap.Utilities.Url(document.location.href)).QueryMap.GetItem("BrowseSequencePath"))&&(u=MadCap.Dom.Dataset(document.documentElement,"mcBrowseSequencePath")),i.push(u),i.push(e.FullPath),r.Handled=!0):"reload-pulse"==n?(MadCap.Utilities.MessageBus.PostMessageRequest(frames["topiccomments-html5"],"reload"),r.Handled=!0):"logout-complete"==n?(MadCap.Utilities.MessageBus.PostMessageRequest(parent,"logout-complete"),r.Handled=!0):"set-pulse-login-id"==n?(null!=y&&(y.PulseUserGuid=t[0]),MadCap.Utilities.MessageBus.PostMessageRequest(parent,"set-pulse-login-id",t),r.Handled=!0):"resize-pulse"==n?((u=$(".pulse-frame")).attr("scrolling","no"),u.css("overflow","hidden"),u.height(t[1]),r.Handled=!0):"show-comments"==n?(o=!1,r.Handled=!0):"hide-comments"==n&&(o=!0,r.Handled=!0),r},null),null),y=null,ft=MadCap.Dom.Dataset(document.documentElement,"mcLiveHelp")}(),function(){function a(){$(".micro-content-truncated-mode").each(function(){$(this).children(".micro-content").each(function(){var n=$(this);void 0!==n.attr("data-mc-truncated-mode-max-height")&&(function(n){var i=n.children(".micro-response"),t=i.css("max-height"),r=parseFloat(t);n.hasClass("micro-content-collapsed")||(i.css("max-height",""),t=i.css("max-height"),i.css("max-height","none"),r=parseFloat(t)),isNaN(r)||"%"===t[t.length-1]?n.attr("data-mc-truncated-mode-max-height","none"):n.attr("data-mc-truncated-mode-max-height",r)}(n),e(n))})})}function e(n){var e=n.attr("data-mc-truncated-mode-max-height"),e=parseFloat(e),i=n.children(".micro-response"),t=n.children(".micro-content-expand"),u=$(".micro-content-expand-transition",n),f=i.prop("scrollHeight");0===f&&"none"!==t.css("display")||(isNaN(e)||f<e?(i.css("max-height","none"),n.removeClass("micro-content-collapsed").addClass("micro-content-expanded"),t.hide(),u.hide()):"none"===t.css("display")&&(i.css("max-height",""),n.addClass("micro-content-collapsed").removeClass("micro-content-expanded"),t.show(),u.show()))}function y(t,i){var u=t.children(".micro-content-expand"),r=t.children(".micro-response"),e=$(".micro-content-expand-transition",t),f="micro-content-collapsed",o="micro-content-expanded";t.addClass(f).removeClass(o),isSkinPreview&&n&&MadCap.SkinHelper.SetSkinPreviewStyle(u[0],i["truncated-collapsed"]),u.off("click"),u.click(function(){var s=r.prop("scrollHeight"),h=parseFloat(t.attr("data-mc-truncated-mode-max-height"));t.toggleClass(f).toggleClass(o),t.hasClass(f)?(r.css("max-height",s),r.animate({"max-height":h},function(){r.css("max-height","")}),e.show(),isSkinPreview&&n&&MadCap.SkinHelper.SetSkinPreviewStyle(u[0],i["truncated-collapsed"])):(e.hide(),r.animate({"max-height":s},function(){r.css("max-height","none")}),isSkinPreview&&n&&MadCap.SkinHelper.SetSkinPreviewStyle(u[0],i["truncated-expanded"]))})}function o(n){switch(n.attr("data-mc-query-type")){case"NotSet":return"*";case"SearchQuery":return MadCap.Utilities.Url.GetDocumentUrl().QueryMap.GetItem("q");case"TopicTitle":return $("title").text();case"StaticString":return n.attr("data-mc-query-source");case"MetaTagValue":var u=n.attr("data-mc-query-source");return $('meta[name="'+u+'"]').map(function(){return $(this).attr("content")}).get().join(",").replace(new RegExp("\r","g")," ").replace(new RegExp("\n","g")," ").split(",").filter(function(n){return n=MadCap.String.Trim(n||""),!MadCap.String.IsNullOrEmpty(n)}).map(function(n){return"("+n+")"}).join(" OR ")}}function t(n,t){n.removeClass("micro-content-drop-down-mode"),n.removeClass("micro-content-optional-phrase"),n.removeClass("micro-content-truncated-mode");var i=n.children(".micro-content");i.removeClass("micro-content-collapsed micro-content-expanded"),i.removeAttr("data-mc-truncated-mode-max-height"),"DropDown"===t?n.addClass("micro-content-drop-down-mode"):(n.addClass("micro-content-optional-phrase"),"Truncated"===t&&n.addClass("micro-content-truncated-mode"))}function s(t,i,r){var u,f;MadCap.Utilities&&(MadCap.Utilities.RemoveDynamicStylesheets(t[0]),u=[],i&&(f=n?"#":"",0<i.length)&&(MadCap.MicroContentHelper.PopulateContainer(t,r,i,f,u),"Truncated"===r?setTimeout(function(){MadCap.MicroContentHelper.InitContainer(t)},100):MadCap.MicroContentHelper.InitContainer(t)),u.length)&&MadCap.Utilities.LoadDynamicStylesheets(u,t[0])}MadCap.Utilities&&(isSkinPreview=MadCap.Utilities.HasRuntimeFileType("SkinPreview"),n=MadCap.Utilities.HasRuntimeFileType("TriPane")),MadCap.MicroContentHelper=MadCap.CreateNamespace("MicroContentHelper"),$.extend(MadCap.MicroContentHelper,{ApplyMicroContentViewMode:function(n,i){i=$(i);t(i,n),i.each(function(){MadCap.MicroContentHelper.InitContainer($(this))})},AdjustMicroContentContainers:function(){var t,i,n=$(".knowledge-panel-container");n.length&&(t=$("#knowledge-panel"),i=$("#knowledge-panel-middle"),n.parent()[0]!==t[0]&&"none"!==t.css("display")?n.appendTo(t):n.parent()[0]!==i[0]&&"none"!==i.css("display")&&n.appendTo(i)),a()},BuildCard:function(t,i,r,u){var e,f=$("<div>").addClass("micro-content"),v=(isSkinPreview&&n&&MadCap.SkinHelper.SetSkinPreviewStyle(f[0],i.card),isSkinPreview||"DropDown"===u),u=isSkinPreview||"Truncated"===u,p=$("<div>").addClass("micro-content-phrase").appendTo(f),p=$("<span>").text(t.phrases[0]).appendTo(p);return isSkinPreview&&n&&MadCap.SkinHelper.SetSkinPreviewStyle(p[0],i.phrase),e=$("<div>").addClass("micro-response").appendTo(f),isSkinPreview&&n&&MadCap.SkinHelper.SetSkinPreviewStyle(e[0],i.response),$(t.html).appendTo(e),v&&$("<button>").text(" ").addClass("micro-content-drop-down-button").insertBefore(p),u&&(e=$("<div>").addClass("micro-content-expand-transition-wrapper").appendTo(f),v=$("<div>").addClass("micro-content-expand-transition").appendTo(e),isSkinPreview&&n&&MadCap.SkinHelper.SetSkinPreviewStyle(v[0],i["truncated-fade"]),$("<button>").addClass("micro-content-expand").appendTo(f)),t.source&&(p=r+t.source,u=$("<div>").addClass("micro-response-title").appendTo(f),isSkinPreview&&n&&MadCap.SkinHelper.SetSkinPreviewStyle(u[0],i.link),$("<a>").attr("href",p).text(t.sourceTitle).appendTo(u),e=$("<div>").addClass("micro-response-url").appendTo(f),isSkinPreview&&n&&MadCap.SkinHelper.SetSkinPreviewStyle(e[0],i.path),$("<cite>").addClass("").text(t.source).appendTo(e)),f},BuildContainer:function(n,t){var i=$("<div>").addClass("micro-content-container");return"DropDown"===n?i.addClass("micro-content-drop-down-mode"):(i.addClass("micro-content-optional-phrase"),"Truncated"===n&&i.addClass("micro-content-truncated-mode")),t&&i.addClass(t),i},InitCard:function(n){var t=n.children(".micro-response");MadCap.Utilities.InitContent(t[0]),MadCap.Accessibility.initTextEffectsAccessibility(n),n.find(".codeSnippetCopyButton").on("click",function(n){n.preventDefault(),MadCap.Utilities.CopyToClipboard($("code",$(this).parents(".codeSnippet")))})},JoinDynamicStylesheets:function(n,t){if(t&&t.length)for(var i,r=0;r<t.length;r++)i=new MadCap.Utilities.Url(t[r]),(i=MadCap.String.StartsWith(i.Extension,"micro-response")?i.ToFolder().AddFile(i.Name):i).IsRootRelative&&(i=new MadCap.Utilities.Url(".").CombinePath(i.FullPath)),n.push(i.FullPath)},UpdateResponseClasses:function(n,t,i){if(t&&t.length)for(var e,o,f=n.children(".micro-response"),r=0;r<t.length;r++)e=(o=new MadCap.Utilities.Url(t[r])).Name,o=o.Extension,MadCap.String.StartsWith(e,"micro-response")?i&&f.addClass(e):(MadCap.String.StartsWith(o,"micro-response"),f.addClass(o))},PopulateContainer:function(t,i,e,o,s){var h,l,a,c=f;for(isSkinPreview&&n&&(t.hasClass("featured-snippets-container")?c=r:t.hasClass("knowledge-panel-container")&&(c=u)),a=!(""<t.attr("data-mc-disable-micro-content-stylesheets")),h=0;h<e.length;h+=1)l=MadCap.MicroContentHelper.BuildCard(e[h],c,o,i).appendTo(t),MadCap.MicroContentHelper.InitCard(l),MadCap.MicroContentHelper.UpdateResponseClasses(l,e[h].stylesheets,a),MadCap.MicroContentHelper.JoinDynamicStylesheets(s,e[h].stylesheets)},InitContainer:function(t){var i=f;isSkinPreview&&n&&(t.hasClass("featured-snippets-container")?i=r:t.hasClass("knowledge-panel-container")&&(i=u)),t.hasClass("micro-content-drop-down-mode")?t.children(".micro-content").each(function(){!function(t,i){var u,r=$(".micro-content-drop-down-button",t);1===r.length&&(t.addClass("micro-content-collapsed"),isSkinPreview&&n&&MadCap.SkinHelper.SetSkinPreviewStyle(r[0],i["drop-down-collapsed"]),(u=r.closest(".micro-content-phrase")).off("click"),u.click(function(){t.toggleClass("micro-content-collapsed micro-content-expanded"),isSkinPreview&&n&&(t.hasClass("micro-content-collapsed")?MadCap.SkinHelper.SetSkinPreviewStyle(r[0],i["drop-down-collapsed"]):MadCap.SkinHelper.SetSkinPreviewStyle(r[0],i["drop-down-expanded"]))}))}($(this),i)}):t.hasClass("micro-content-truncated-mode")&&t.children(".micro-content").each(function(){!function(n,t){var i=n.children(".micro-response").css("max-height"),r=parseFloat(i);isNaN(r)||"%"===i[i.length-1]?n.attr("data-mc-truncated-mode-max-height","none"):n.attr("data-mc-truncated-mode-max-height",r),y(n,t),e(n)}($(this),i)})},ExpandAll:function(n){$(".micro-content-drop-down-button").each(function(){var t=$(this).closest(".micro-content").hasClass("micro-content-collapsed");("open"===n&&t||"close"===n&&!t)&&$(this).click()})}}),$.extend(MadCap.SkinHelper,{ApplyMicroContentSkin:function(n){var t;n&&n.SkinOptions&&(n.SkinOptions.MicroContentViewMode&&(t=n.SkinOptions.MicroContentViewMode,$(".micro-content-proxy").attr("data-mc-micro-content-view-mode",t),MadCap.MicroContentHelper.ApplyMicroContentViewMode(t,".micro-content-proxy")),n.SkinOptions.FeaturedSnippetsViewMode&&(t=n.SkinOptions.FeaturedSnippetsViewMode,$("#searchPane").attr("data-mc-featured-snippets-view-mode",t),MadCap.MicroContentHelper.ApplyMicroContentViewMode(t,".featured-snippets-container")),n.SkinOptions.KnowledgePanelViewMode&&(t=n.SkinOptions.KnowledgePanelViewMode,$("#searchPane").attr("data-mc-knowledge-panel-view-mode",t),MadCap.MicroContentHelper.ApplyMicroContentViewMode(t,".knowledge-panel-container")),n.SkinOptions.FAQProxyViewMode&&(t=n.SkinOptions.FAQProxyViewMode,$(".micro-content-proxy.faq").attr("data-mc-micro-content-view-mode",t),MadCap.MicroContentHelper.ApplyMicroContentViewMode(t,".micro-content-proxy.faq")),n.SkinOptions.KnowledgeProxyViewMode&&(t=n.SkinOptions.KnowledgeProxyViewMode,$(".micro-content-proxy.knowledge").attr("data-mc-micro-content-view-mode",t),MadCap.MicroContentHelper.ApplyMicroContentViewMode(t,".micro-content-proxy.knowledge")),n.SkinOptions.PromotionProxyViewMode)&&(t=n.SkinOptions.PromotionProxyViewMode,$(".micro-content-proxy.promotion").attr("data-mc-micro-content-view-mode",t),MadCap.MicroContentHelper.ApplyMicroContentViewMode(t,".micro-content-proxy.promotion"))}}),$(function(){i="true"===$("html").attr("data-mc-in-preview-mode"),MadCap.WebHelp&&MadCap.WebHelp.HelpSystem&&MadCap.WebHelp.HelpSystem.LoadHelpSystemDefault().done(function(n){var r,n=n.GetCurrentSkin();n&&n.ProxyOptions&&(r=n.ProxyOptions.FAQProxyViewMode),$(".faq-proxy-container").each(function(){var i,n=$(this);n.removeClass("faq-proxy-container"),n.addClass("micro-content-container"),i=n.attr("data-mc-micro-content-view-mode"),t(n,i=i||r),MadCap.MicroContentHelper.InitContainer(n)})}),MadCap.WebHelp&&MadCap.WebHelp.HelpSystem&&MadCap.WebHelp.HelpSystem.LoadHelpSystemDefault().done(function(n){var u,n=n.GetCurrentSkin();n&&n.ProxyOptions&&(u=n.ProxyOptions.KnowledgeProxyViewMode),$(".knowledge-proxy-container").each(function(){var r,e,h,n=$(this);n.removeClass("knowledge-proxy-container"),n.addClass("micro-content-container"),i?(r=n.attr("data-mc-proxy-title"))&&$("<h3>").text(r).appendTo(n):(r=o(n))?(e=n.attr("data-mc-scope-id"),h=parseInt(n.attr("data-mc-results-limit")),MadCap.SearchHelper.DoMicroContentSearch(n,e,h,!1,r).then(function(i){var r,f;i&&i.microContent&&0<i.microContent.length?(r=n.attr("data-mc-micro-content-view-mode"),t(n,r=r||u),(f=n.attr("data-mc-proxy-title"))&&$("<div>").addClass("proxy-title").text(f).appendTo(n),s(n,i.microContent,r)):n.remove()})):n.remove()})}),MadCap.WebHelp&&MadCap.WebHelp.HelpSystem&&MadCap.WebHelp.HelpSystem.LoadHelpSystemDefault().done(function(n){var u,n=n.GetCurrentSkin();n&&n.ProxyOptions&&(u=n.ProxyOptions.PromotionProxyViewMode),$(".promotion-proxy-container").each(function(){var r,e,h,n=$(this);n.removeClass("promotion-proxy-container"),n.addClass("micro-content-container"),i?(r=n.attr("data-mc-proxy-title"))&&$("<h3>").text(r).appendTo(n):(r=o(n))?(e=n.attr("data-mc-scope-id"),h=parseInt(n.attr("data-mc-results-limit")),MadCap.SearchHelper.DoMicroContentSearch(n,e,h,!0,r).then(function(i){var r,f;i&&i.microContent&&0<i.microContent.length?(r=n.attr("data-mc-micro-content-view-mode"),t(n,r=r||u),(f=n.attr("data-mc-proxy-title"))&&$("<div>").addClass("proxy-title").text(f).appendTo(n),s(n,i.microContent,r)):n.remove()})):n.remove()})})});var n,i,r={card:"Search Micro Content Result",phrase:"Search Micro Content Phrase",response:"Search Micro Content Response",link:"Search Micro Content Response Link",path:"Search Micro Content Response Path","drop-down-collapsed":"Search Micro Content Drop-Down Expand","drop-down-expanded":"Search Micro Content Drop-Down Collapse","truncated-collapsed":"Search Micro Content Response Expand","truncated-expanded":"Search Micro Content Response Collapse","truncated-fade":"Search Micro Content Response Fade"},u={card:"Knowledge Panel Result",phrase:"Knowledge Panel Phrase",response:"Knowledge Panel Response",link:"Knowledge Panel Response Link",path:"Knowledge Panel Response Path","drop-down-collapsed":"Knowledge Panel Drop-Down Expand","drop-down-expanded":"Knowledge Panel Drop-Down Collapse","truncated-collapsed":"Knowledge Panel Truncated Response Expand","truncated-expanded":"Knowledge Panel Truncated Response Collapse","truncated-fade":"Knowledge Panel Truncated Response Fade"},f={card:"Item",phrase:"Phrase",response:"Response",link:"Response Link",path:"Response Path","drop-down-collapsed":"Drop-Down Expand","drop-down-expanded":"Drop-Down Collapse","truncated-collapsed":"Truncated Response Expand","truncated-expanded":"Truncated Response Collapse","truncated-fade":"Truncated Response Fade"}}(),function(){function a(n,t,i){return r.Search(t,i)}function v(i,r,f,e,o,s,h){var c,l=n.GetCurrentSkin();void 0===e&&(e=!0),void 0===o&&(o=!l&&n.DisplayCommunitySearchResults||l&&"false"!=l.DisplayCommunitySearchResults),void 0===s&&(s=n.CommunitySearchResultsCount),void 0===h&&(h=0),f=f||1,$("#resultList, .featured-snippets-container, #knowledge-panel, #knowledge-panel-middle").remove(),t&&MadCap.TriPane.ShowPane("search"),l=1===f,c={},e&&(c.searchContent=!0,c.searchGlossary=n.IncludeGlossarySearchResults&&l,c.content={filterName:r,pageSize:n.ResultsPerPage,pageIndex:f-1}),!o||!l&&e||(c.searchCommunity=!0,c.community={pageSize:s,pageIndex:h}),(u?a:MadCap.SearchHelper.SearchHandler)(n.TargetName,i,c).then(function(n){et(i,n,f)}),$("body").removeClass("active")}function o(r){var u,r=function(n){var o,n=$(n.target).closest(".search-bar-container"),c=$("input",n).first(),l=$(".search-filter",n),c=c.val();return c&&(c=MadCap.Utilities.Url.StripInvalidCharacters(c),c=encodeURIComponent(c)),n=n.attr("id"),(n=t&&n&&-1!=n.indexOf("sidebar")?$(".SearchFilterEntry.tree-node-selected").text():l.data("filter"))||(l=MadCap.Utilities.Url.CurrentHash(),-1!==(o=l.lastIndexOf("?f="))&&(l=l.substr(o+3))&&(n=l)),n=n&&n.trim(),o=d(n),new MadCap.WebHelp.Search.SearchQuery(c,o,null)}(r);MadCap.String.IsNullOrEmpty(r.Query)||(u=f+r.ToString(),t?document.location.hash=MadCap.Utilities.Url.EnsureUrlSafety(u):(u=i+r.ToString(),MadCap.Utilities.Url.NavigateTopic(new MadCap.Utilities.Url(n.SearchUrl+"?"+u))))}function y(n,t,i,r,u){return n.MicroContentSearch(t,i,r,u)}function p(n){n=decodeURIComponent(n);$(".search-field").val(n),$("#search-field-sidebar").val(n)}function w(n,i){!t&&u||!$("#searchPane").is(":visible")||MadCap.String.IsNullOrEmpty(n)||g(new MadCap.WebHelp.Search.SearchQuery(n,d(i),null))}function rt(){n.LoadSearchFilters().then(function(n){var o,s,v,u,y,c,i=n?n.map:null,r=[],l=!1;if(i)for(o in i)s=i[o],MadCap.String.IsNullOrEmpty(s.c)||(r.push(o),l|=-1!=s.o);if(0==r.length)window.PIE&&$(".search-submit-wrapper").each(function(){PIE.attach(this)}),$("#SearchTab").closest("div").empty();else if($(".search-filter-wrapper").show(),window.PIE&&$(".search-filter, .search-submit-wrapper").each(function(){PIE.attach(this)}),r.forEach(function(n){var t=i[n];-1<t.o&&(t.o,n)}),r=l?r.sort(function(n,t){return i[n].group!=i[t].group?i[n].group-i[t].group:i[n].o!=i[t].o?i[n].o-i[t].o:n<t?-1:t<n?1:0}):r.sort(),t&&"none"==$(".search-bar").css("display"))$("#SearchTab").closest(".tab").remove();else{for(v=$("#search ul"),u=0,y=r.length;u<y;u++){var p=MadCap.Utilities.GenerateRandomGUID(),k=$("<span></span>").append(r[u]).attr("id",p),k=$('<button class="mc-dropdown-item"></button>').append(k).attr("aria-labelledby","search-filters-label "+p);MadCap.Accessibility.initMenuDropdownAccessibility(k),$(".search-filter-content ul").append($("<li></li>").append(k)),(p=$("<li/>")).addClass("SearchFilterEntry tree-node tree-node-leaf"),k=$('<div class="SearchFilter" />'),(c=$('<span class="label" />')).text(r[u]),k.append(c),p.append(k),v.append(p)}b()}})}function b(){$(".search-filter-content button").on("click",function(n){n.preventDefault();var n=$(n.target),i=n.text().trim(),e=n.closest(".search-bar").children(".search-field").val(),r=n.closest(".search-filter-wrapper"),u=r.children(".search-filter"),n=n.closest(".search-filter-content");h(i),k(i,r),u.attr("title",i),s(0,0,n,u),w(e,i)}),$(".SearchFilter").on("click",function(n){var t,f,n=$(n.target).closest(".SearchFilterEntry"),u=$("#search-field-sidebar").val();$(".SearchFilterEntry.tree-node-selected").removeClass("tree-node-selected"),n.hasClass("SearchFilterEntry")&&(n.addClass("tree-node-selected"),n=n.find(".SearchFilter").text().trim(),(t=$("#search-field-sidebar")).attr("data-placeholder")||t.attr("data-placeholder",t.attr("placeholder")),f=MadCap.Utilities.EncodeHtml(t.attr("data-placeholder")+" "+n),t.attr("placeholder",f),h(n),u?w(u,n):$(".search-filter").focus())})}function s(n,t,i,r){e&&clearTimeout(e),e=setTimeout(function(){$(i).fadeOut(n,function(){$(r).removeClass("open"),$(r).children(".search-filter").attr("aria-expanded","false")})},t)}function h(n){var i,r;$(".search-filter").data("filter",n),t?$(".search-filter > span").text(n):((i=$(".search-field")).attr("data-placeholder")||i.attr("data-placeholder",i.attr("placeholder")),r=MadCap.Utilities.EncodeHtml(i.attr("data-placeholder")+" "+n),i.attr("placeholder",r),$(".search-filter").attr("title",n))}function k(n,t){t=$(".search-filter-content",t).children()[0],t=$(t).children()[0];n!==$(t).text().trim()?$(".search-filter").addClass("selected"):$(".search-filter").removeClass("selected")}function d(n){var i=$.trim($("#sf-content li").first().text());return n&&n!=i?(i=MadCap.Utilities.Url.StripInvalidCharacters(n),encodeURIComponent(i)):null}function ft(t,i){var r,u,o,f=$("#pagination");if(f.css("display","none"),$("a.specificPage",f).remove(),0<i){var i=Math.ceil(i/n.ResultsPerPage),l=Math.max(Math.min(t-5,i-10+1),1),a=Math.min(l+10-1,i),e=$("a.previousPage",f);for(1<t?(e.off("click"),e.on("click",{value:t-1},c),e.css("display","inline")):e.css("display","none"),r=$("a.nextPage",f),t<i?(r.off("click"),r.on("click",{value:t+1},c),r.css("display","inline")):r.css("display","none"),u=l;u<=a;u++)o=$('<a href="#" class=\'specificPage\'><span style="display: none;">page</span>'+u+"</a>"),u==t&&o.attr("id","selected"),r.before(o),o.on("click",{value:u},c);f.css("display","block")}}function c(n){n.preventDefault();var o=MadCap.Utilities.Url.GetDocumentUrl(),s=t?"#"+f:"[?&]"+i,o=t?MadCap.Utilities.Url.CurrentHash():o.Query,s=o.match(s);s&&((o=MadCap.WebHelp.Search.SearchQuery.Parse(o.substring(s.index+s[0].length))).PageIndex=n.data.value,g(o))}function g(r){var u;t?u=r.ToString():(u=i+r.Query,r.Filter&&(u+="&f="+r.Filter),r.PageIndex&&(u+="&p="+r.PageIndex)),u=MadCap.Utilities.Url.StripInvalidCharacters(u),t?document.location.hash=MadCap.Utilities.Url.EnsureUrlSafety("#"+f+u):(r=new MadCap.Utilities.Url(n.SearchUrl+"?"+u),MadCap.Utilities.Url.NavigateTopic(r))}function et(i,u,f){function hi(n,t,i,r){n?t.innerHTML=i:(t.appendChild(document.createTextNode(i)),function(n,t){var i,r=$(n);if(t)for(i=0;i<t.length;i++)r.highlight(t[i],null,"b")}(t,r.includedTerms))}var k,c,h,ri,ii,e,ni,rt,ct,nt,s=n.GetCurrentSkin(),ti=!s&&n.DisplayCommunitySearchResults||s&&"false"!=s.DisplayCommunitySearchResults,s=(1===f&&s&&s.MicroContentOptions&&(ii=s.MicroContentOptions.FeaturedSnippetsViewMode,ri=s.MicroContentOptions.KnowledgePanelViewMode),$("#searchPane")),pt=$("#results-heading"),wt=pt[0],bt=$("#pagination"),it=t?"#":"",p=u.contentTotal,ui=u.microContent?u.microContent[0].length+u.microContent[1].length:0,w=p,w=(w+=ti&&null!=u.community?u.community.TotalRecords:0)+(u.glossary?1:0)+ui;if(MadCap.SkinHelper.SetSkinPreviewStyle(wt,"Search Heading"),$(".query",wt).text('"'+decodeURIComponent(i)+'"'),$(".total-results",wt).text(w),(f<1||f>Math.ceil(p/n.ResultsPerPage))&&bt.css("display","none"),MadCap.Utilities.RemoveDynamicStylesheets(s[0]),wt=[],1===f&&u.microContent&&(0<u.microContent[0].length&&(e=(e=$(r._Container).attr("data-mc-featured-snippets-view-mode"))||ii,(k=MadCap.MicroContentHelper.BuildContainer(e,"featured-snippets-container")).insertAfter(pt),MadCap.MicroContentHelper.PopulateContainer(k,e,u.microContent[0],it,wt),"Truncated"===e?setTimeout(function(){MadCap.MicroContentHelper.InitContainer(k)},100):MadCap.MicroContentHelper.InitContainer(k)),0<u.microContent[1].length)&&(e=(e=$(r._Container).attr("data-mc-knowledge-panel-view-mode"))||ri,ii=$("<div>").attr("id","knowledge-panel").insertBefore(s),ri=$("<div>").attr("id","knowledge-panel-middle").insertAfter(pt),c=MadCap.MicroContentHelper.BuildContainer(e,"knowledge-panel-container"),"none"===ii.css("display")?c.appendTo(ri):c.appendTo(ii),MadCap.MicroContentHelper.PopulateContainer(c,e,u.microContent[1],it,wt),"Truncated"===e?setTimeout(function(){MadCap.MicroContentHelper.InitContainer(c)},100):MadCap.MicroContentHelper.InitContainer(c)),wt.length&&MadCap.Utilities.LoadDynamicStylesheets(wt,s[0]),0<w){if((h=document.createElement("ul")).setAttribute("id","resultList"),u.content||h.setAttribute("class","communitySearch"),u.glossary&&(o=document.createElement("li"),h.appendChild(o),pt=document.createElement("div"),$(pt).addClass("glossary"),MadCap.SkinHelper.SetSkinPreviewStyle(pt,"Search Glossary Result"),ri=document.createElement("div"),$(ri).addClass("term"),MadCap.SkinHelper.SetSkinPreviewStyle(ri,"Search Glossary Term"),ii=document.createTextNode(u.glossary.term),u.glossary.link?(e=document.createElement("a"),$(e).attr("href",it+u.glossary.link),e.appendChild(ii),ri.appendChild(e)):ri.appendChild(ii),pt.appendChild(ri),(wt=u.glossary.definition||u.glossary.abstractText)&&(s=document.createElement("div"),$(s).addClass("definition"),s.appendChild(document.createTextNode(wt)),MadCap.SkinHelper.SetSkinPreviewStyle(s,"Search Glossary Definition"),pt.appendChild(s)),o.appendChild(pt)),null!=u.community&&0<u.community.Activities.length&&ti&&function(i,r,u){var y,v,nt,p,w,h,o,c,d,l,b=(n.PulsePage||"")+"#pulse-",it=t?"#":n.GetTopicPath("../"+n.ContentFolder).FullPath,a=document.createElement("li");for(a.setAttribute("id","community-results"),i.appendChild(a),(i=document.createElement("h3")).setAttribute("class","title"),(v=document.createElement("a")).setAttribute("href","#communitysearch-"+encodeURIComponent(r)),v.appendChild(document.createTextNode("Community Results")),i.appendChild(v),(r=document.createElement("span")).appendChild(document.createTextNode(" ("+u.TotalRecords+")")),i.appendChild(r),(y=document.createElement("ul")).setAttribute("id","communityResultList"),a.appendChild(i),a.appendChild(y),v=new Date,nt=new Date(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate(),v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds()),p=0;p<u.Activities.length;p++){f=u.Activities[p],w=document.createElement("li"),y.appendChild(w),(h=document.createElement("a")).setAttribute("class","activityText"),h.setAttribute("href",b+"#!streams/"+f.FeedId+"/activities/"+f.Id),h.appendChild(document.createTextNode(f.Text)),(o=document.createElement("div")).setAttribute("class","activityInfo"),(c=document.createElement("a")).setAttribute("class","activityCreator"),c.setAttribute("href",b+"#!streams/"+f.CreatedBy+"/activities"),c.appendChild(document.createTextNode(f.CreatedByDisplayName)),(d=document.createElement("span")).appendChild(document.createTextNode(" to ")),tt=null!=f.FeedUrl?it+f.FeedUrl:b+"#!streams/"+f.FeedId+"/activities",(l=document.createElement("a")).setAttribute("class","activityFeed"),l.setAttribute("href",tt),l.appendChild(document.createTextNode(f.FeedName));var tt=new MadCap.Utilities.DateTime(f.PostedUtc),f=new MadCap.Utilities.TimeSpan(tt.Date,nt),tt=document.createElement("span");tt.setAttribute("class","activityTime"),tt.appendChild(document.createTextNode(f.ToDurationString())),o.appendChild(c),o.appendChild(d),o.appendChild(l),o.appendChild(tt),w.appendChild(h),w.appendChild(o)}}(h,i,u.community),w=n.ResultsPerPage,null!=u.content&&0<w)for(e=0,ni=Math.min(w,u.content.length),u.clientPaging&&(e=(f-1)*w,ni=Math.min(e+w,u.contentTotal)),rt=e;rt<ni;rt++){var y=u.content[rt],ci=y.Title,ei=y.Link,oi=y.AbstractText,si=y.Highlighted,o=document.createElement("li");h.appendChild(o),ct=document.createElement("h3"),$(ct).addClass("title"),o.appendChild(ct),(nt=document.createElement("a")).setAttribute("href",it+ei+"?Highlight="+encodeURIComponent(i)),MadCap.SkinHelper.SetSkinPreviewStyle(nt,"Search Result Link"),hi(si,nt,ci,u),ct.appendChild(nt),null!=oi&&(ci=document.createElement("div"),$(ci).addClass("description"),MadCap.SkinHelper.SetSkinPreviewStyle(ci,"Search Result Abstract"),hi(si,ci,oi,u),o.appendChild(ci)),n.DebugMode&&(ct=document.createElement("div"),$(ct).addClass("description"),ct.innerHTML="<b>Score:</b> "+y.Score+", <b>Rank:</b> "+y.Rank,o.appendChild(ct)),nt=document.createElement("div"),$(nt).addClass("url"),o.appendChild(nt),si=document.createElement("cite"),MadCap.SkinHelper.SetSkinPreviewStyle(si,"Search Result Path"),si.appendChild(document.createTextNode(ei)),nt.appendChild(si)}bt.before(h)}n.LiveHelpEnabled&&(n.IsCentralLiveHelpServerType()?l.LogSearch(n.OutputAnalyticsId,p,ui,null,i):_FeedbackController.LogSearch(n.LiveHelpOutputId,null,p,null,i)),p>n.ResultsPerPage?ft(f,u.contentTotal,u.content):bt.css("display","none"),MadCap.IsIOS()&&$(".off-canvas-wrapper").scrollTop(1),$("#contentBodyInner, .off-canvas-wrapper").scrollTop(0)}var t,u,r,n,e,l=null,f="search-",i="q=";MadCap.SearchHelper=MadCap.CreateNamespace("SearchHelper"),$.extend(MadCap.SearchHelper,{SearchFormSubmit:o,DoSearch:v,DoSearchOrRedirect:function(r,u){r=MadCap.WebHelp.Search.SearchQuery.Parse(r),t||MadCap.Utilities.HasRuntimeFileType("Search")?(p(r.Query),MadCap.String.IsNullOrEmpty(r.Filter)||(h(r.Filter),k(r.Filter,document)),v(r.Query,r.Filter,r.PageIndex)):(u=u?new MadCap.Utilities.Url(n.SearchUrl+"?skinName="+u+"&"+i+r.ToString()):new MadCap.Utilities.Url(n.SearchUrl+"?"+i+r.ToString()),MadCap.Utilities.Url.NavigateTopic(u))},SearchHandler:a,DoMicroContentSearch:function(t,i,r,f,e){return t=new MadCap.WebHelp.SearchPane(n,t),(u?y:MadCap.SearchHelper.MicroContentSearch)(t,i,r,f,e)},MicroContentSearch:y,SetSelectedSearchQuery:p,SearchPrefixTri:f,SkinPreviewPhraseSuggestion:{SearchQuery:"",AutoSuggestion:"",SearchResults:[]}}),t=MadCap.Utilities.HasRuntimeFileType("TriPane"),u=MadCap.Utilities.HasRuntimeFileType("SkinPreview"),MadCap.WebHelp&&MadCap.WebHelp.HelpSystem?(MadCap.WebHelp.HelpSystem.LoadHelpSystemDefault().done(function(t){(n=t).LiveHelpEnabled&&(l=MadCap.WebHelp.LoadOutputAnalyticsController(n.OutputAnalyticsServer)),rt(),r=new MadCap.WebHelp.SearchPane(n,$("#searchPane")),MadCap.SearchHelper.SearchPane=r}),$(document).ready(function(){$(".search-submit").on("click",function(n){o(n)}),$("#search-field, #search-field-sidebar, .search-field").on("keypress",function(n){13==n.which&&(o(n),n.preventDefault())}),$(".search-filter-wrapper").on("click",function(){var t=$(this),n=$(".search-filter-content",this);t.hasClass("open")?s(0,0,n,t):($(this).addClass("open"),window.PIE&&$(".search-submit-wrapper").each(function(){PIE.detach(this),PIE.attach(this)}),t.children(".search-filter").attr("aria-expanded","true"),n.fadeIn(200),n.css("max-height",$(window).height()-n.offset().top))}),MadCap.Utilities.IsTouchDevice()||($(".search-filter-wrapper").on("mouseenter",function(){clearTimeout(e)}),$(".search-filter-wrapper").on("mouseleave",function(){var n=$(this);s(200,500,$(".search-filter-content",this.parentElement),n)}))})):b()}(),function(){function h(){var t,i=$("div.breadcrumbs[data-mc-toc]");u||(t=n.LoadTocDataFromQuery()),i.each(function(){var i=new MadCap.WebHelp.Breadcrumbs("Toc",n,this,!0);i._TocType=t.TocType,i._TocPath="Toc"==t.TocType?t.TocPath:t.BrowseSequencesPath,i._TocHref=t.Href,i.Init()})}function c(){var t,i=$("ul[data-mc-toc]");u||(t=n.LoadTocDataFromQuery()),i.each(function(){var r=this,i=new MadCap.WebHelp.TocPane("Toc",n,this,!0);i._TocType=t.TocType,i._TocPath="Toc"==t.TocType?t.TocPath:t.BrowseSequencesPath,i._TocHref=t.Href,i.Init(function(){MadCap.Dom.GetAttributeBool(r,"data-mc-top-nav-menu",!1)&&$(window).trigger("resize"),o();var n=jQuery.Event("loaded");$(r).trigger(n)})})}function l(){var t,i=$("div.miniToc[data-mc-toc]");!u&&0<i.length?(t=n.LoadTocDataFromQuery(),n.FindNodeInToc("Toc",t.TocPath,t.Href,function(i){var u,f,l,e,r,o;if(i&&(f=n.GetTocEntryHref(i,t.TocType,!1,!(u="")),MadCap.Topic.IsEmbeddedTopic()&&(f=decodeURIComponent(f)),f=n.GetTocData(new MadCap.Utilities.Url(f)),t[t.TocType+"Path"]!=f[t.TocType+"Path"])){for(l=i.toc.entries[i.i].title,e=t[t.TocType+"Path"].split("|"),r=0;r<e.length;r++)(o=e[r])!=l&&!u||(u+=r==e.length-1?o:o+"|");t[t.TocType+"Path"]=u}s(t)},null,!1)):s(t)}function s(t){$("div.miniToc[data-mc-toc]").each(function(){var i=new MadCap.WebHelp.MiniToc("Toc",n,this);i._TocType=t.TocType,i._TocPath="Toc"==t.TocType?t.TocPath:t.BrowseSequencesPath,i._TocHref=t.Href,i.Init()})}function a(){var i;!n||MadCap.Utilities.HasRuntimeFileType("TriPane")||MadCap.Utilities.IsMicroContentTopic()||(o(),n.ShowMadCapBacklink&&(i=function(){var n=$('<div class="backlink-container"/>'),i=$('<a href="https://www.madcapsoftware.com/" rel="noopener nofollow" target="_blank" id="mc-backlink">Powered by MadCap<sup>&reg</sup> Software</a>');return n.append(i),!r||e||(i=f?"backlink-container-topnav":"backlink-container-sidenav",n.addClass(i)),n}(),t.append(i)),$(window).on("mc_changeMedium",function(){setTimeout(function(){t.removeClass(),o(),$(window).trigger("resize.zf")},65)}))}function o(){var n;0!==t.length&&(n=t.outerHeight(!0)-t.height(),r&&(n+=t.offset().top+parseInt($(".row.outer-row").css("padding-bottom"))),n="calc(100vh - "+n+"px)",(r||t.is("body"))&&t.css("min-height",n),e||(r&&!f?t.addClass("height-container-sidenav"):t.addClass("height-container-no-footer")),t.addClass("height-container"))}var i,n,r,f,e,t,u=MadCap.Utilities.HasRuntimeFileType("TriPane");(MadCap.Utilities.HasRuntimeFileType("Topic")||u)&&(i=MadCap.CreateNamespace("Topic"),n=null,MadCap.WebHelp.HelpSystem.LoadHelpSystemDefault().done(function(i){i=(n=i).GetCurrentSkin();r=i&&"Fluid"==i.TemplateName,f=i&&0<=i.SkinClass.indexOf("topnav"),e=0!=$(".footer").length,t=r?$(".body-container").children().first():$("body"),h(),c(),l(),a()}),i.Expand=function(n){new TextEffects.ExpandingControl(n.parentNode).Toggle()},i.DropDown=function(n){new TextEffects.DropDownControl(n.parentNode.parentNode).Toggle()},i.Toggle=function(n){new TextEffects.TogglerControl(n).Toggle()},i.ThumbPopup_Click=function(n){i.ShowThumbnailPopup(n,this,"click");n.preventDefault&&n.preventDefault()},i.ThumbPopup_Hover=function(n){i.ShowThumbnailPopup(n,this,"mouseleave")},i.ShowThumbnailPopup=function(n,t,i){$(".MCPopupContainer").trigger("popup:dismiss");var r,s,v,ht,y,p,h=10,u=$(t).children("img")[0],f=parseInt(MadCap.Dom.Dataset(u,"mcWidth")),e=parseInt(MadCap.Dom.Dataset(u,"mcHeight")),w=e/f,d=document.documentElement.clientWidth-42,g=document.documentElement.clientHeight-42,g=(d<(f=g<e?(e=g)/w:f)&&(e=(f=d)*w),$(u).offset().top),d=$(u).offset().left,ct=MadCap.Dom.GetAttribute(t,"href"),lt=MadCap.Dom.GetAttribute(t,"data-mc-popup-alt"),b=e+22,k=f+22,o=g+u.offsetHeight/2-b/2,c=d+u.offsetWidth/2-k/2,it=MadCap.Dom.GetScrollPosition(),rt=it.Y,at=rt+document.documentElement.clientHeight,it=it.X,rt=rt+h,et=it+h,at=at-h,it=it+document.documentElement.clientWidth-h;at<(o=o<rt?rt:o)+b&&(o=at-b),it<(c=c<et?et:c)+k&&(c=it-k),$(".title-bar.sticky.is-stuck")&&o<$(".title-bar.sticky.is-stuck").innerHeight()&&(o+=$(".title-bar.sticky.is-stuck").innerHeight()-o+h),(r=$("<div></div>")).addClass("MCPopupContainer"),s=document.createElement("img"),$(s).addClass("MCPopupFullImage"),s.setAttribute("src",ct),s.setAttribute("alt",lt),s.setAttribute("tabindex","0"),r.on("popup:dismiss",v=function(){r.animate({top:y,left:p},200,function(){r.remove()}),$(s).animate({width:u.offsetWidth,height:u.offsetHeight},200)}),r.bind(i,v),r.bind("keydown",function(n){n=n||window.event;27!==n.keyCode&&13!==n.keyCode||r.trigger("popup:dismiss")}),"click"===i&&(ht=n,$(document).on("click.dismissPopup",function(n){n.originalEvent!==ht.originalEvent&&(v(),$(document).off(".dismissPopup"))})),r.append(s),document.body.appendChild(r[0]),y=g-11,p=d-11,MadCap.IsIBooks()?(e=(f=.9*($idealContainer=$(t).parentsUntil("body").last())[0].offsetWidth)*w,c=$idealContainer.offset().left,r.css({top:y,left:p}).animate({top:o,left:c,width:f,height:e},200)):r.css({top:y,left:p}).animate({top:o,left:c},200),$(s).css({width:u.offsetWidth,height:u.offsetHeight}).animate({width:f,height:e},200),s.focus()})}(),function(){function u(n){t&&(n.WebHelpOptions.OffCanvasMenuStyle&&f(n,$(".off-canvas-list")),e(n))}function f(n,i){var e,r;n&&(e=n.WebHelpOptions.OffCanvasMenuStyle,r=i,i=!1,"Accordion"==e&&r.attr("data-drilldown")?(i=!0,r.removeClass("off-canvas-drilldown"),r.removeAttr("data-drilldown"),r.foundation("destroy"),"rtl"==$("html").attr("dir")?r.addClass("off-canvas-accordion-rtl"):r.addClass("off-canvas-accordion"),r.attr("data-mc-expand-event","click.zf.accordionMenu"),r.attr("data-mc-include-back","False"),r.attr("data-mc-css-sub-menu","vertical menu is-accordion-submenu nested"),r.attr("data-mc-css-tree-node-collapsed","is-accordion-submenu-parent"),r.attr("data-mc-css-tree-node-expanded","is-accordion-submenu-parent"),r.attr("data-accordion-menu",""),new Foundation.AccordionMenu(r)):"Drilldown"==e&&r.attr("data-accordion-menu")&&(i=!0,r.removeClass("off-canvas-accordion").removeClass("off-canvas-accordion-rtl"),r.removeAttr("data-accordion-menu"),r.foundation("destroy"),r.addClass("off-canvas-drilldown"),n=(e=MadCap.SkinHelper.GetPanePosition(n))?e.toLowerCase():"right",r.attr("data-mc-expand-event","click.zf.drilldown"),r.attr("data-mc-include-back","True"),r.attr("data-mc-css-sub-menu","vertical menu is-drilldown-submenu slide-in-"+n),r.attr("data-mc-css-tree-node-collapsed","is-drilldown-submenu-parent"),r.attr("data-mc-css-tree-node-expanded","is-drilldown-submenu-parent"),r.attr("data-drilldown",""),new Foundation.Drilldown(r)),t&&i&&null!=r.attr("data-mc-chunk"))&&setTimeout(function(){r.empty(),k(r[0])},300)}function e(i){var u,f,o,s;!r&&i.WebHelpOptions.EnableSticky&&(u=$(".title-bar"),"None"==i.WebHelpOptions.EnableSticky||u.hasClass("sticky")?(u.hasClass("sticky")&&(u.foundation("destroy"),u.removeClass("sticky"),u.removeAttr("data-sticky"),u.removeAttr("data-sticky-on"),u.css("width",""),u.parent().removeAttr("data-sticky-container")),"None"!=i.WebHelpOptions.EnableSticky&&e(i)):(u.addClass("sticky"),u.attr("data-sticky",""),u.css("width","100%"),f="small",null!=n&&(o=t?1024:n.Breakpoints.mediums.Tablet,s=t?760:n.Breakpoints.mediums.Mobile,"Web"==i.WebHelpOptions.EnableSticky?f="only screen and (min-width: "+(o+1)+"px)":"TabletANDMobile"==i.WebHelpOptions.EnableSticky?f="only screen and (max-width: "+o+"px)":"Mobile"==i.WebHelpOptions.EnableSticky&&(f="only screen and (max-width: "+s+"px)")),u.parent().attr("data-sticky-container",""),new Foundation.Sticky(u,{marginTop:0,stickyOn:f}),Foundation.IHearYou()))}function o(){var n=$(".title-bar");(n.hasClass("is-stuck")||$(".sidenav-container").is(":visible"))&&i(),n.on("sticky.zf.stuckto:top",i).on("sticky.zf.unstuckfrom:top",i),n.hasClass("sticky")&&n.foundation("_calc",!0)}function i(){var n=$("ul[data-magellan]"),t=$(".title-bar");n.length&&(n.foundation("destroy"),n.each(function(){var r,n=$(this);t.hasClass("is-stuck")&&!$(".sidenav-container").is(":visible")?(r=parseInt(t.css("height")),new Foundation.Magellan(n,{barOffset:r+-10})):new Foundation.Magellan(n,{barOffset:-10}),n.foundation("reflow")})),function(n){var t=0<$("div.is-open").length;$("div.sticky-menu").each(function(i,r){var u;t||($(r).foundation("destroy"),u=1,(n.hasClass("is-stuck")||$(".sidenav-container").is(":visible"))&&(u+=n.outerHeight()/16),new Foundation.Sticky($(r),{marginTop:u}),Foundation.IHearYou())})}(t)}function s(){$("aside#offCanvas").on("opened.zf.offcanvas closed.zf.offcanvas",function(n){"closed"==n.type&&setTimeout(function(){i()},500)})}function k(t){var i;n&&(i=n.LoadTocDataFromQuery(),(t=new MadCap.WebHelp.TocPane("Toc",n,t,!0))._TocType=i.TocType,t._TocPath="Toc"==i.TocType?i.TocPath:i.BrowseSequencesPath,t._TocHref=i.Href,t.Init())}var n,t,r;$(window).on("load",function(){s(),$(window).on("mc_changeMedium",function(){var n;0<(n=$("aside.off-canvas.is-open")).length&&n.foundation("close")})}),t=MadCap.Utilities.HasRuntimeFileType("SkinPreview"),r=MadCap.Utilities.HasRuntimeFileType("TriPane"),$.extend(MadCap.SkinHelper,{ApplySkin:function(t){null!=t&&(MadCap.SkinHelper.SetSize(t),MadCap.SkinHelper.ApplySkinClass(t,n),MadCap.SkinHelper.ApplyLogoUrl(t),MadCap.SkinHelper.SwitchPanePosition(t),u(t),o())},ApplyComponentSkin:function(n){null!=n&&MadCap.SkinHelper.ApplyMicroContentSkin(n)},SwitchPanePosition:function(n){var t,u,i=MadCap.SkinHelper.GetPanePosition(n);"None"!==i&&(t=$(".off-canvas"),"Right"==i&&"off-canvas position-left"==t.attr("class")||"Left"==i&&"off-canvas position-right"==t.attr("class"))&&(u="Right"==i?"left":"right",i=i.toLowerCase(),n=n.WebHelpOptions.OffCanvasMenuStyle||"Drilldown",t.removeClass("position-"+u).addClass("position-"+i),t.attr("data-position",i),"Drilldown"==n&&$(".off-canvas-list").attr("data-mc-css-sub-menu","vertical menu is-drilldown-submenu slide-in-"+i),t.foundation("destroy"),new Foundation.OffCanvas(t,{position:i}),s())},InitFoundationPreviewMenu:u,OnLayout:function(){n&&n.IsResponsive&&MadCap.Utilities.IsIE()&&function(){var n,i=$(".row.sidenav-layout");$(".sidenav-container").is(":visible")?(n=$(".title-bar").is(":visible")?"calc(100vh - "+$(".title-bar").outerHeight()+"px)":"100vh",MadCap.MediaQueries.ApplyListenerToTabletMediaQuery(function(t){t.matches?i.css("height",n):i.css("height","")},!0)):t&&(n="",i.css("height",n))}(),$(".title-bar").is(":visible")&&(o(),i()),MadCap.MicroContentHelper&&MadCap.MicroContentHelper.AdjustMicroContentContainers()},OnHelpSystemLoad:function(t){t?(n=t,$("ul[data-mc-toc]").each(function(){$(this).hasClass("off-canvas-list")&&f(t.GetCurrentSkin(),$(".off-canvas-list"))})):console.error("Help System not loaded.")}})}();